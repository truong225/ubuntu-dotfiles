if (self.CavalryLogger) { CavalryLogger.start_js(["L1Ggk"]); }

__d("leaflet",[],(function(a,b,c,d,e,f){__p&&__p();(function(a,b,c){__p&&__p();var d=a.L,f={};f.version="0.7.2";typeof e==="object"&&typeof e.exports==="object"?e.exports=f:typeof define==="function"&&define.amd&&define(f);f.noConflict=function(){a.L=d;return this};a.L=f;f.Util={extend:function(a){var b=Array.prototype.slice.call(arguments,1),c,d,e,f;for(d=0,e=b.length;d<e;d++){f=b[d]||{};for(c in f)f.hasOwnProperty(c)&&(a[c]=f[c])}return a},bind:function(a,b){var c=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,c||arguments)}},stamp:function(){var a=0,b="_leaflet_id";return function(c){c[b]=c[b]||++a;return c[b]}}(),invokeEach:function(a,b,c){var d,e;if(typeof a==="object"){e=Array.prototype.slice.call(arguments,3);for(d in a)b.apply(c,[d,a[d]].concat(e));return!0}return!1},limitExecByInterval:function(a,b,c){__p&&__p();var d,e;return function f(){var g=arguments;if(d){e=!0;return}d=!0;setTimeout(function(){d=!1,e&&(f.apply(c,g),e=!1)},b);a.apply(c,g)}},falseFn:function(){return!1},formatNum:function(a,b){b=Math.pow(10,b||5);return Math.round(a*b)/b},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return f.Util.trim(a).split(/\s+/)},setOptions:function(a,b){a.options=f.extend({},a.options,b);return a.options},getParamString:function(a,b,c){var d=[];for(var e in a)d.push(encodeURIComponent(c?e.toUpperCase():e)+"="+encodeURIComponent(a[e]));return(!b||b.indexOf("?")===-1?"?":"&")+d.join("&")},template:function(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,c){c=b[c];if(c===void 0)throw new Error("No value provided for variable "+a);else typeof c==="function"&&(c=c(b));return c})},isArray:Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};(function(){__p&&__p();function b(b){var c,d,e=["webkit","moz","o","ms"];for(c=0;c<e.length&&!d;c++)d=a[e[c]+b];return d}var c=0;function d(b){var d=+new Date(),e=Math.max(0,16-(d-c));c=d+e;return a.setTimeout(b,e)}var e=a.requestAnimationFrame||b("RequestAnimationFrame")||d,g=a.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(b){a.clearTimeout(b)};f.Util.requestAnimFrame=function(b,c,g,h){b=f.bind(b,c);if(g&&e===d)b();else return e.call(a,b,h)};f.Util.cancelAnimFrame=function(b){b&&g.call(a,b)}})();f.extend=f.Util.extend;f.bind=f.Util.bind;f.stamp=f.Util.stamp;f.setOptions=f.Util.setOptions;f.Class=function(){};f.Class.extend=function(a){__p&&__p();var b=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},c=function(){};c.prototype=this.prototype;var d=new c();d.constructor=b;b.prototype=d;for(var e in this)this.hasOwnProperty(e)&&e!=="prototype"&&(b[e]=this[e]);a.statics&&(f.extend(b,a.statics),delete a.statics);a.includes&&(f.Util.extend.apply(null,[d].concat(a.includes)),delete a.includes);a.options&&d.options&&(a.options=f.extend({},d.options,a.options));f.extend(d,a);d._initHooks=[];var g=this;b.__super__=g.prototype;d.callInitHooks=function(){if(this._initHooksCalled)return;g.prototype.callInitHooks&&g.prototype.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,b=d._initHooks.length;a<b;a++)d._initHooks[a].call(this)};return b};f.Class.include=function(a){f.extend(this.prototype,a)};f.Class.mergeOptions=function(a){f.extend(this.prototype.options,a)};f.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1),c=typeof a==="function"?a:function(){this[a].apply(this,b)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(c)};var g="_leaflet_events";f.Mixin={};f.Mixin.Events={addEventListener:function(a,b,c){if(f.Util.invokeEach(a,this.addEventListener,this,b,c))return this;var d=this[g]=this[g]||{},e=c&&c!==this&&f.stamp(c),h,i,event,j,k,l;a=f.Util.splitWords(a);for(h=0,i=a.length;h<i;h++)event={action:b,context:c||this},j=a[h],e?(k=j+"_idx",l=k+"_len",k=d[k]=d[k]||{},k[e]||(k[e]=[],d[l]=(d[l]||0)+1),k[e].push(event)):(d[j]=d[j]||[],d[j].push(event));return this},hasEventListeners:function(a){var b=this[g];return!!b&&(a in b&&b[a].length>0||a+"_idx"in b&&b[a+"_idx_len"]>0)},removeEventListener:function(a,b,c){__p&&__p();if(!this[g])return this;if(!a)return this.clearAllEventListeners();if(f.Util.invokeEach(a,this.removeEventListener,this,b,c))return this;var d=this[g],e=c&&c!==this&&f.stamp(c),h,i,j,k,l,m,n;a=f.Util.splitWords(a);for(h=0,i=a.length;h<i;h++){j=a[h];k=j+"_idx";l=k+"_len";m=d[k];if(!b)delete d[j],delete d[k],delete d[l];else{k=e&&m?m[e]:d[j];if(k){for(j=k.length-1;j>=0;j--)k[j].action===b&&(!c||k[j].context===c)&&(n=k.splice(j,1),n[0].action=f.Util.falseFn);c&&m&&k.length===0&&(delete m[e],d[l]--)}}}return this},clearAllEventListeners:function(){delete this[g];return this},fireEvent:function(a,b){__p&&__p();if(!this.hasEventListeners(a))return this;var event=f.Util.extend({},b,{type:a,target:this});b=this[g];var c,d,e;if(b[a]){c=b[a].slice();for(d=0,e=c.length;d<e;d++)c[d].action.call(c[d].context,event)}b=b[a+"_idx"];for(a in b){c=b[a].slice();if(c)for(d=0,e=c.length;d<e;d++)c[d].action.call(c[d].context,event)}return this},addOneTimeEventListener:function(a,b,c){if(f.Util.invokeEach(a,this.addOneTimeEventListener,this,b,c))return this;var d=f.bind(function(){this.removeEventListener(a,b,c).removeEventListener(a,d,c)},this);return this.addEventListener(a,b,c).addEventListener(a,d,c)}};f.Mixin.Events.on=f.Mixin.Events.addEventListener;f.Mixin.Events.off=f.Mixin.Events.removeEventListener;f.Mixin.Events.once=f.Mixin.Events.addOneTimeEventListener;f.Mixin.Events.fire=f.Mixin.Events.fireEvent;(function(){__p&&__p();var c="ActiveXObject"in a,d=c&&!b.addEventListener,e=navigator.userAgent.toLowerCase(),g=e.indexOf("webkit")!==-1,h=e.indexOf("chrome")!==-1,i=e.indexOf("phantom")!==-1,j=e.indexOf("android")!==-1,k=e.search("android [23]")!==-1;e=e.indexOf("gecko")!==-1;var l=typeof orientation!==void 0+"",m=a.navigator&&a.navigator.msPointerEnabled&&a.navigator.msMaxTouchPoints&&!a.PointerEvent,n=a.PointerEvent&&a.navigator.pointerEnabled&&a.navigator.maxTouchPoints||m,o="devicePixelRatio"in a&&a.devicePixelRatio>1||"matchMedia"in a&&a.matchMedia("(min-resolution:144dpi)")&&a.matchMedia("(min-resolution:144dpi)").matches,p=b.documentElement,q=p&&c&&"transition"in p.style,r=p&&"WebKitCSSMatrix"in a&&"m11"in new a.WebKitCSSMatrix()&&!k,s=p&&"MozPerspective"in p.style,t=p&&"OTransition"in p.style,u=!a.L_DISABLE_3D&&(q||r||s||t)&&!i;i=!a.L_NO_TOUCH&&!i&&p&&function(){__p&&__p();var a="ontouchstart";if(n||a in p)return!0;var c=b.createElement("div"),d=!1;if(!c.setAttribute)return!1;c.setAttribute(a,"return;");typeof c[a]==="function"&&(d=!0);c.removeAttribute(a);c=null;return d}();f.Browser={ie:c,ielt9:d,webkit:g,gecko:e&&!g&&!a.opera&&!c,android:j,android23:k,chrome:h,ie3d:q,webkit3d:r,gecko3d:s,opera3d:t,any3d:u,mobile:l,mobileWebkit:l&&g,mobileWebkit3d:l&&r,mobileOpera:l&&a.opera,touch:i,msPointer:m,pointer:n,retina:o}})();f.Point=function(a,b,c){this.x=c?Math.round(a):a,this.y=c?Math.round(b):b};f.Point.prototype={clone:function(){return new f.Point(this.x,this.y)},add:function(a){return this.clone()._add(f.point(a))},_add:function(a){this.x+=a.x;this.y+=a.y;return this},subtract:function(a){return this.clone()._subtract(f.point(a))},_subtract:function(a){this.x-=a.x;this.y-=a.y;return this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){this.x/=a;this.y/=a;return this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){this.x*=a;this.y*=a;return this},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},distanceTo:function(a){a=f.point(a);var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*b+a*a)},equals:function(a){a=f.point(a);return a.x===this.x&&a.y===this.y},contains:function(a){a=f.point(a);return Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+f.Util.formatNum(this.x)+", "+f.Util.formatNum(this.y)+")"}};f.point=function(a,b,c){if(a instanceof f.Point)return a;if(f.Util.isArray(a))return new f.Point(a[0],a[1]);return a===void 0||a===null?a:new f.Point(a,b,c)};f.Bounds=function(a,b){if(!a)return;b=b?[a,b]:a;for(var a=0,c=b.length;a<c;a++)this.extend(b[a])};f.Bounds.prototype={extend:function(a){a=f.point(a);!this.min&&!this.max?(this.min=a.clone(),this.max=a.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y));return this},getCenter:function(a){return new f.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new f.Point(this.min.x,this.max.y)},getTopRight:function(){return new f.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;typeof a[0]==="number"||a instanceof f.Point?a=f.point(a):a=f.bounds(a);a instanceof f.Bounds?(b=a.min,c=a.max):b=c=a;return b.x>=this.min.x&&c.x<=this.max.x&&b.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=f.bounds(a);var b=this.min,c=this.max,d=a.min;a=a.max;var e=a.x>=b.x&&d.x<=c.x;a=a.y>=b.y&&d.y<=c.y;return e&&a},isValid:function(){return!!(this.min&&this.max)}};f.bounds=function(a,b){return!a||a instanceof f.Bounds?a:new f.Bounds(a,b)};f.Transformation=function(a,b,c,d){this._a=a,this._b=b,this._c=c,this._d=d};f.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){b=b||1;a.x=b*(this._a*a.x+this._b);a.y=b*(this._c*a.y+this._d);return a},untransform:function(a,b){b=b||1;return new f.Point((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}};f.DomUtil={get:function(a){return typeof a==="string"?b.getElementById(a):a},getStyle:function(a,c){var d=a.style[c];!d&&a.currentStyle&&(d=a.currentStyle[c]);if((!d||d==="auto")&&b.defaultView){a=b.defaultView.getComputedStyle(a,null);d=a?a[c]:null}return d==="auto"?null:d},getViewportOffset:function(a){__p&&__p();var c=0,d=0,e=a,g=b.body,h=b.documentElement,i;do{c+=e.offsetTop||0;d+=e.offsetLeft||0;c+=parseInt(f.DomUtil.getStyle(e,"borderTopWidth"),10)||0;d+=parseInt(f.DomUtil.getStyle(e,"borderLeftWidth"),10)||0;i=f.DomUtil.getStyle(e,"position");if(e.offsetParent===g&&i==="absolute")break;if(i==="fixed"){c+=g.scrollTop||h.scrollTop||0;d+=g.scrollLeft||h.scrollLeft||0;break}if(i==="relative"&&!e.offsetLeft){i=f.DomUtil.getStyle(e,"width");var j=f.DomUtil.getStyle(e,"max-width"),k=e.getBoundingClientRect();(i!=="none"||j!=="none")&&(d+=k.left+e.clientLeft);c+=k.top+(g.scrollTop||h.scrollTop||0);break}e=e.offsetParent}while(e);e=a;do{if(e===g)break;c-=e.scrollTop||0;d-=e.scrollLeft||0;e=e.parentNode}while(e);return new f.Point(d,c)},documentIsLtr:function(){f.DomUtil._docIsLtrCached||(f.DomUtil._docIsLtrCached=!0,f.DomUtil._docIsLtr=f.DomUtil.getStyle(b.body,"direction")==="ltr");return f.DomUtil._docIsLtr},create:function(a,c,d){a=b.createElement(a);a.className=c;d&&d.appendChild(a);return a},hasClass:function(a,b){if(a.classList!==void 0)return a.classList.contains(b);a=f.DomUtil._getClass(a);return a.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a)},addClass:function(a,b){if(a.classList!==void 0){var c=f.Util.splitWords(b);for(var d=0,e=c.length;d<e;d++)a.classList.add(c[d])}else if(!f.DomUtil.hasClass(a,b)){c=f.DomUtil._getClass(a);f.DomUtil._setClass(a,(c?c+" ":"")+b)}},removeClass:function(a,b){a.classList!==void 0?a.classList.remove(b):f.DomUtil._setClass(a,f.Util.trim((" "+f.DomUtil._getClass(a)+" ").replace(" "+b+" "," ")))},_setClass:function(a,b){a.className.baseVal===void 0?a.className=b:a.className.baseVal=b},_getClass:function(a){return a.className.baseVal===void 0?a.className:a.className.baseVal},setOpacity:function(a,b){__p&&__p();if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=a.filters.item(d)}catch(a){if(b===1)return}b=Math.round(b*100);c?(c.Enabled=b!==100,c.Opacity=b):a.style.filter+=" progid:"+d+"(opacity="+b+")"}},testProp:function(a){if(!b.documentElement)return!1;var c=b.documentElement.style;for(var d=0;d<a.length;d++)if(a[d]in c)return a[d];return!1},getTranslateString:function(a){var b=f.Browser.webkit3d,c="translate"+(b?"3d":"")+"(";b=(b?",0":"")+")";return c+a.x+"px,"+a.y+"px"+b},getScaleString:function(a,b){b=f.DomUtil.getTranslateString(b.add(b.multiplyBy(-1*a)));a=" scale("+a+") ";return b+a},setPosition:function(a,b,c){a._leaflet_pos=b,!c&&f.Browser.any3d?a.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(b):(a.style.left=b.x+"px",a.style.top=b.y+"px")},getPosition:function(a){return a._leaflet_pos}};f.DomUtil.TRANSFORM=f.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);f.DomUtil.TRANSITION=f.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);f.DomUtil.TRANSITION_END=f.DomUtil.TRANSITION==="webkitTransition"||f.DomUtil.TRANSITION==="OTransition"?f.DomUtil.TRANSITION+"End":"transitionend";(function(){__p&&__p();if("onselectstart"in b)f.extend(f.DomUtil,{disableTextSelection:function(){f.DomEvent.on(a,"selectstart",f.DomEvent.preventDefault)},enableTextSelection:function(){f.DomEvent.off(a,"selectstart",f.DomEvent.preventDefault)}});else{var c=f.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);f.extend(f.DomUtil,{disableTextSelection:function(){if(c){var a=b.documentElement.style;this._userSelect=a[c];a[c]="none"}},enableTextSelection:function(){c&&(b.documentElement.style[c]=this._userSelect,delete this._userSelect)}})}f.extend(f.DomUtil,{disableImageDrag:function(){f.DomEvent.on(a,"dragstart",f.DomEvent.preventDefault)},enableImageDrag:function(){f.DomEvent.off(a,"dragstart",f.DomEvent.preventDefault)}})})();f.LatLng=function(a,b,c){a=parseFloat(a);b=parseFloat(b);if(isNaN(a)||isNaN(b))throw new Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=a;this.lng=b;c!==void 0&&(this.alt=parseFloat(c))};f.extend(f.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9});f.LatLng.prototype={equals:function(a){if(!a)return!1;a=f.latLng(a);a=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return a<=f.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+f.Util.formatNum(this.lat,a)+", "+f.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=f.latLng(a);var b=6378137,c=f.LatLng.DEG_TO_RAD,d=(a.lat-this.lat)*c,e=(a.lng-this.lng)*c,g=this.lat*c;a=a.lat*c;c=Math.sin(d/2);d=Math.sin(e/2);e=c*c+d*d*Math.cos(g)*Math.cos(a);return b*2*Math.atan2(Math.sqrt(e),Math.sqrt(1-e))},wrap:function(a,b){var c=this.lng;a=a||-180;b=b||180;c=(c+b)%(b-a)+(c<a||c===b?b:a);return new f.LatLng(this.lat,c)}};f.latLng=function(a,b){__p&&__p();if(a instanceof f.LatLng)return a;if(f.Util.isArray(a))if(typeof a[0]==="number"||typeof a[0]==="string")return new f.LatLng(a[0],a[1],a[2]);else return null;if(a===void 0||a===null)return a;if(typeof a==="object"&&"lat"in a)return new f.LatLng(a.lat,"lng"in a?a.lng:a.lon);return b===void 0?null:new f.LatLng(a,b)};f.LatLngBounds=function(a,b){if(!a)return;b=b?[a,b]:a;for(var a=0,c=b.length;a<c;a++)this.extend(b[a])};f.LatLngBounds.prototype={extend:function(a){if(!a)return this;var b=f.latLng(a);b!==null?a=b:a=f.latLngBounds(a);a instanceof f.LatLng?!this._southWest&&!this._northEast?(this._southWest=new f.LatLng(a.lat,a.lng),this._northEast=new f.LatLng(a.lat,a.lng)):(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):a instanceof f.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast));return this},pad:function(a){var b=this._southWest,c=this._northEast,d=Math.abs(b.lat-c.lat)*a;a=Math.abs(b.lng-c.lng)*a;return new f.LatLngBounds(new f.LatLng(b.lat-d,b.lng-a),new f.LatLng(c.lat+d,c.lng+a))},getCenter:function(){return new f.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new f.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new f.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]==="number"||a instanceof f.LatLng?a=f.latLng(a):a=f.latLngBounds(a);var b=this._southWest,c=this._northEast,d,e;a instanceof f.LatLngBounds?(d=a.getSouthWest(),e=a.getNorthEast()):d=e=a;return d.lat>=b.lat&&e.lat<=c.lat&&d.lng>=b.lng&&e.lng<=c.lng},intersects:function(a){a=f.latLngBounds(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var e=a.lat>=b.lat&&d.lat<=c.lat;a=a.lng>=b.lng&&d.lng<=c.lng;return e&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){if(!a)return!1;a=f.latLngBounds(a);return this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())},isValid:function(){return!!(this._southWest&&this._northEast)}};f.latLngBounds=function(a,b){return!a||a instanceof f.LatLngBounds?a:new f.LatLngBounds(a,b)};f.Projection={};f.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var b=f.LatLng.DEG_TO_RAD,c=this.MAX_LATITUDE;c=Math.max(Math.min(c,a.lat),-c);a=a.lng*b;c=c*b;c=Math.log(Math.tan(Math.PI/4+c/2));return new f.Point(a,c)},unproject:function(a){var b=f.LatLng.RAD_TO_DEG,c=a.x*b;a=(2*Math.atan(Math.exp(a.y))-Math.PI/2)*b;return new f.LatLng(a,c)}};f.Projection.LonLat={project:function(a){return new f.Point(a.lng,a.lat)},unproject:function(a){return new f.LatLng(a.y,a.x)}};f.CRS={latLngToPoint:function(a,b){a=this.projection.project(a);b=this.scale(b);return this.transformation._transform(a,b)},pointToLatLng:function(a,b){b=this.scale(b);a=this.transformation.untransform(a,b);return this.projection.unproject(a)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){a=this.scale(a);return f.point(a,a)}};f.CRS.Simple=f.extend({},f.CRS,{projection:f.Projection.LonLat,transformation:new f.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}});f.CRS.EPSG3857=f.extend({},f.CRS,{code:"EPSG:3857",projection:f.Projection.SphericalMercator,transformation:new f.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(a){a=this.projection.project(a);var b=6378137;return a.multiplyBy(b)}});f.CRS.EPSG900913=f.extend({},f.CRS.EPSG3857,{code:"EPSG:900913"});f.CRS.EPSG4326=f.extend({},f.CRS,{code:"EPSG:4326",projection:f.Projection.LonLat,transformation:new f.Transformation(1/360,.5,-1/360,.5)});f.Map=f.Class.extend({includes:f.Mixin.Events,options:{crs:f.CRS.EPSG3857,fadeAnimation:f.DomUtil.TRANSITION&&!f.Browser.android23,trackResize:!0,markerZoomAnimation:f.DomUtil.TRANSITION&&f.Browser.any3d},initialize:function(a,b){b=f.setOptions(this,b),this._initContainer(a),this._initLayout(),this._onResize=f.bind(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.center&&b.zoom!==void 0&&this.setView(f.latLng(b.center),b.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(b.layers)},setView:function(a,b){b=b===void 0?this.getZoom():b;this._resetView(f.latLng(a),this._limitZoom(b));return this},setZoom:function(a,b){if(!this._loaded){this._zoom=this._limitZoom(a);return this}return this.setView(this.getCenter(),a,{zoom:b})},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,b,c){var d=this.getZoomScale(b),e=this.getSize().divideBy(2);a=a instanceof f.Point?a:this.latLngToContainerPoint(a);a=a.subtract(e).multiplyBy(1-1/d);d=this.containerPointToLatLng(e.add(a));return this.setView(d,b,{zoom:c})},fitBounds:function(a,b){b=b||{};a=a.getBounds?a.getBounds():f.latLngBounds(a);var c=f.point(b.paddingTopLeft||b.padding||[0,0]),d=f.point(b.paddingBottomRight||b.padding||[0,0]),e=this.getBoundsZoom(a,!1,c.add(d));d=d.subtract(c).divideBy(2);c=this.project(a.getSouthWest(),e);a=this.project(a.getNorthEast(),e);c=this.unproject(c.add(a).divideBy(2).add(d),e);e=b&&b.maxZoom?Math.min(b.maxZoom,e):e;return this.setView(c,e,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a){this.fire("movestart");this._rawPanBy(f.point(a));this.fire("move");return this.fire("moveend")},setMaxBounds:function(a){a=f.latLngBounds(a);this.options.maxBounds=a;if(!a)return this.off("moveend",this._panInsideMaxBounds,this);this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(a,b){var c=this.getCenter();a=this._limitCenter(c,this._zoom,a);return c.equals(a)?this:this.panTo(a,b)},addLayer:function(a){var b=f.stamp(a);if(this._layers[b])return this;this._layers[b]=a;a.options&&(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[b]=a,this._updateZoomLevels());this.options.zoomAnimation&&f.TileLayer&&a instanceof f.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this));this._loaded&&this._layerAdd(a);return this},removeLayer:function(a){var b=f.stamp(a);if(!this._layers[b])return this;this._loaded&&a.onRemove(this);delete this._layers[b];this._loaded&&this.fire("layerremove",{layer:a});this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels());this.options.zoomAnimation&&f.TileLayer&&a instanceof f.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this));return this},hasLayer:function(a){return!a?!1:f.stamp(a)in this._layers},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},invalidateSize:function(a){__p&&__p();if(!this._loaded)return this;a=f.extend({animate:!1,pan:!0},a===!0?{animate:!0}:a);var b=this.getSize();this._sizeChanged=!0;this._initialCenter=null;var c=this.getSize(),d=b.divideBy(2).round(),e=c.divideBy(2).round();d=d.subtract(e);if(!d.x&&!d.y)return this;a.animate&&a.pan?this.panBy(d):(a.pan&&this._rawPanBy(d),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f.bind(this.fire,this,"moveend"),200)):this.fire("moveend"));return this.fire("resize",{oldSize:b,newSize:c})},addHandler:function(a,b){if(!b)return this;b=this[a]=new b(this);this._handlers.push(b);this.options[a]&&b.enable();return this},remove:function(){this._loaded&&this.fire("unload");this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=void 0}this._clearPanes();this._clearControlPos&&this._clearControlPos();this._clearHandlers();return this},getCenter:function(){this._checkIfLoaded();return this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft());a=this.unproject(a.getTopRight());return new f.LatLngBounds(b,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom===void 0?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,c){a=f.latLngBounds(a);var d=this.getMinZoom()-(b?1:0),e=this.getMaxZoom(),g=this.getSize(),h=a.getNorthWest();a=a.getSouthEast();var i;c=f.point(c||[0,0]);do d++,i=this.project(a,d).subtract(this.project(h,d)).add(c),i=b?i.x<g.x||i.y<g.y:g.contains(i);while(i&&d<=e);return i&&b?null:b?d:d-1},getSize:function(){(!this._size||this._sizeChanged)&&(this._size=new f.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1);return this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new f.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,b){b=b===void 0?this._zoom:b;return this.options.crs.latLngToPoint(f.latLng(a),b)},unproject:function(a,b){b=b===void 0?this._zoom:b;return this.options.crs.pointToLatLng(f.point(a),b)},layerPointToLatLng:function(a){a=f.point(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){a=this.project(f.latLng(a))._round();return a._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return f.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return f.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(f.point(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(f.latLng(a)))},mouseEventToContainerPoint:function(a){return f.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){a=this._container=f.DomUtil.get(a);if(!a)throw new Error("Map container not found.");else if(a._leaflet)throw new Error("Map container is already initialized.");a._leaflet=!0},_initLayout:function(){var a=this._container;f.DomUtil.addClass(a,"leaflet-container"+(f.Browser.touch?" leaflet-touch":"")+(f.Browser.retina?" leaflet-retina":"")+(f.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var b=f.DomUtil.getStyle(a,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){__p&&__p();var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);a.shadowPane=this._createPane("leaflet-shadow-pane");a.overlayPane=this._createPane("leaflet-overlay-pane");a.markerPane=this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");var b=" leaflet-zoom-hide";this.options.markerZoomAnimation||(f.DomUtil.addClass(a.markerPane,b),f.DomUtil.addClass(a.shadowPane,b),f.DomUtil.addClass(a.popupPane,b))},_createPane:function(a,b){return f.DomUtil.create("div",a,b||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=a?f.Util.isArray(a)?a:[a]:[];for(var b=0,c=a.length;b<c;b++)this.addLayer(a[b])},_resetView:function(a,b,c,d){__p&&__p();var e=this._zoom!==b;d||(this.fire("movestart"),e&&this.fire("zoomstart"));this._zoom=b;this._initialCenter=a;this._initialTopLeftPoint=this._getNewTopLeftPoint(a);!c?f.DomUtil.setPosition(this._mapPane,new f.Point(0,0)):this._initialTopLeftPoint._add(this._getMapPanePos());this._tileLayersToLoad=this._tileLayersNum;b=!this._loaded;this._loaded=!0;b&&(this.fire("load"),this.eachLayer(this._layerAdd,this));this.fire("viewreset",{hard:!c});this.fire("move");(e||d)&&this.fire("zoomend");this.fire("moveend",{hard:!c})},_rawPanBy:function(a){f.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,b=Infinity,c=-Infinity,d=this._getZoomSpan();for(a in this._zoomBoundLayers){var e=this._zoomBoundLayers[a];isNaN(e.options.minZoom)||(b=Math.min(b,e.options.minZoom));isNaN(e.options.maxZoom)||(c=Math.max(c,e.options.maxZoom))}a===void 0?this._layersMaxZoom=this._layersMinZoom=void 0:(this._layersMaxZoom=c,this._layersMinZoom=b);d!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(b){if(!f.DomEvent)return;b=b||"on";f.DomEvent[b](this._container,"click",this._onMouseClick,this);var c=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],d,e;for(d=0,e=c.length;d<e;d++)f.DomEvent[b](this._container,c[d],this._fireMouseEvent,this);this.options.trackResize&&f.DomEvent[b](a,"resize",this._onResize,this)},_onResize:function(){f.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=f.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){if(!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||f.DomEvent._skipped(a))return;this.fire("preclick");this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(!this._loaded||f.DomEvent._skipped(a))return;var b=a.type;b=b==="mouseenter"?"mouseover":b==="mouseleave"?"mouseout":b;if(!this.hasEventListeners(b))return;b==="contextmenu"&&f.DomEvent.preventDefault(a);var c=this.mouseEventToContainerPoint(a),d=this.containerPointToLayerPoint(c),e=this.layerPointToLatLng(d);this.fire(b,{latlng:e,layerPoint:d,containerPoint:c,originalEvent:a})},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){this._loaded?a.call(b||this,this):this.on("load",a,b);return this},_layerAdd:function(a){a.onAdd(this),this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return f.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._round()},_latLngToNewLayerPoint:function(a,b,c){c=this._getNewTopLeftPoint(c,b).add(this._getMapPanePos());return this.project(a,b)._subtract(c)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,c){if(!c)return a;a=this.project(a,b);var d=this.getSize().divideBy(2);d=new f.Bounds(a.subtract(d),a.add(d));d=this._getBoundsOffset(d,c,b);return this.unproject(a.add(d),b)},_limitOffset:function(a,b){if(!b)return a;var c=this.getPixelBounds();c=new f.Bounds(c.min.add(a),c.max.add(a));return a.add(this._getBoundsOffset(c,b))},_getBoundsOffset:function(a,b,c){var d=this.project(b.getNorthWest(),c).subtract(a.min);b=this.project(b.getSouthEast(),c).subtract(a.max);c=this._rebound(d.x,-b.x);a=this._rebound(d.y,-b.y);return new f.Point(c,a)},_rebound:function(a,b){return a+b>0?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom();return Math.max(b,Math.min(c,a))}});f.map=function(a,b){return new f.Map(a,b)};f.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){__p&&__p();var b=f.LatLng.DEG_TO_RAD,c=this.MAX_LATITUDE;c=Math.max(Math.min(c,a.lat),-c);var d=this.R_MAJOR,e=this.R_MINOR;a=a.lng*b*d;c=c*b;b=e/d;e=Math.sqrt(1-b*b);b=e*Math.sin(c);b=Math.pow((1-b)/(1+b),e*.5);e=Math.tan(.5*(Math.PI*.5-c))/b;c=-d*Math.log(e);return new f.Point(a,c)},unproject:function(a){__p&&__p();var b=f.LatLng.RAD_TO_DEG,c=this.R_MAJOR,d=this.R_MINOR,e=a.x*b/c;d=d/c;d=Math.sqrt(1-d*d);a=Math.exp(-a.y/c);c=Math.PI/2-2*Math.atan(a);var g=15,h=1e-7;g=g;var i=.1,j;while(Math.abs(i)>h&&--g>0)j=d*Math.sin(c),i=Math.PI/2-2*Math.atan(a*Math.pow((1-j)/(1+j),.5*d))-c,c+=i;return new f.LatLng(c*b,e)}};f.CRS.EPSG3395=f.extend({},f.CRS,{code:"EPSG:3395",projection:f.Projection.Mercator,transformation:function(){var a=f.Projection.Mercator;a=a.R_MAJOR;a=.5/(Math.PI*a);return new f.Transformation(a,.5,-a,.5)}()});f.TileLayer=f.Class.extend({includes:f.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:f.Browser.mobile,updateWhenIdle:f.Browser.mobile},initialize:function(a,b){b=f.setOptions(this,b);b.detectRetina&&f.Browser.retina&&b.maxZoom>0&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomOffset++,b.minZoom>0&&b.minZoom--,this.options.maxZoom--);b.bounds&&(b.bounds=f.latLngBounds(b.bounds));this._url=a;b=this.options.subdomains;typeof b==="string"&&(this.options.subdomains=b.split(""))},onAdd:function(a){this._map=a,this._animated=a._zoomAnimated,this._initContainer(),a.on({viewreset:this._reset,moveend:this._update},this),this._animated&&a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=f.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this._container.parentNode.removeChild(this._container),a.off({viewreset:this._reset,moveend:this._update},this),this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var a=this._map._panes.tilePane;this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max));return this},bringToBack:function(){var a=this._map._panes.tilePane;this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min));return this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){this.options.opacity=a;this._map&&this._updateOpacity();return this},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},setUrl:function(a,b){this._url=a;b||this.redraw();return this},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());return this},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,b){a=a.children;var c=-b(Infinity,-Infinity),d,e,f;for(e=0,f=a.length;e<f;e++)a[e]!==this._container&&(d=parseInt(a[e].style.zIndex,10),isNaN(d)||(c=b(c,d)));this.options.zIndex=this._container.style.zIndex=(isFinite(c)?c:0)+b(1,-1)},_updateOpacity:function(){var a,b=this._tiles;if(f.Browser.ielt9)for(a in b)f.DomUtil.setOpacity(b[a],this.options.opacity);else f.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){__p&&__p();var a=this._map._panes.tilePane;if(!this._container){this._container=f.DomUtil.create("div","leaflet-layer");this._updateZIndex();if(this._animated){var b="leaflet-tile-container";this._bgBuffer=f.DomUtil.create("div",b,this._container);this._tileContainer=f.DomUtil.create("div",b,this._container)}else this._tileContainer=this._container;a.appendChild(this._container);this.options.opacity<1&&this._updateOpacity()}},_reset:function(a){for(var b in this._tiles)this.fire("tileunload",{tile:this._tiles[b]});this._tiles={};this._tilesToLoad=0;this.options.reuseTiles&&(this._unusedTiles=[]);this._tileContainer.innerHTML="";this._animated&&a&&a.hard&&this._clearBgBuffer();this._initContainer()},_getTileSize:function(){var a=this._map,b=a.getZoom()+this.options.zoomOffset,c=this.options.maxNativeZoom,d=this.options.tileSize;c&&b>c&&(d=Math.round(a.getZoomScale(b)/a.getZoomScale(c)*d));return d},_update:function(){__p&&__p();if(!this._map)return;var a=this._map,b=a.getPixelBounds();a=a.getZoom();var c=this._getTileSize();if(a>this.options.maxZoom||a<this.options.minZoom)return;a=f.bounds(b.min.divideBy(c)._floor(),b.max.divideBy(c)._floor());this._addTilesFromCenterOut(a);(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(a)},_addTilesFromCenterOut:function(a){__p&&__p();var c=[],d=a.getCenter(),e,g,h;for(e=a.min.y;e<=a.max.y;e++)for(g=a.min.x;g<=a.max.x;g++)h=new f.Point(g,e),this._tileShouldBeLoaded(h)&&c.push(h);h=c.length;if(h===0)return;c.sort(function(a,b){return a.distanceTo(d)-b.distanceTo(d)});a=b.createDocumentFragment();this._tilesToLoad||this.fire("loading");this._tilesToLoad+=h;for(g=0;g<h;g++)this._addTile(c[g],a);this._tileContainer.appendChild(a)},_tileShouldBeLoaded:function(a){__p&&__p();if(a.x+":"+a.y in this._tiles)return!1;var b=this.options;if(!b.continuousWorld){var c=this._getWrapTileNum();if(b.noWrap&&(a.x<0||a.x>=c.x)||a.y<0||a.y>=c.y)return!1}if(b.bounds){c=b.tileSize;a=a.multiplyBy(c);c=a.add([c,c]);a=this._map.unproject(a);c=this._map.unproject(c);!b.continuousWorld&&!b.noWrap&&(a=a.wrap(),c=c.wrap());if(!b.bounds.intersects([a,c]))return!1}return!0},_removeOtherTiles:function(a){var b,c,d;for(d in this._tiles)b=d.split(":"),c=parseInt(b[0],10),b=parseInt(b[1],10),(c<a.min.x||c>a.max.x||b<a.min.y||b>a.max.y)&&this._removeTile(d)},_removeTile:function(a){var b=this._tiles[a];this.fire("tileunload",{tile:b,url:b.src});this.options.reuseTiles?(f.DomUtil.removeClass(b,"leaflet-tile-loaded"),this._unusedTiles.push(b)):b.parentNode===this._tileContainer&&this._tileContainer.removeChild(b);f.Browser.android||(b.onload=null,b.src=f.Util.emptyImageUrl);delete this._tiles[a]},_addTile:function(a,b){var c=this._getTilePos(a),d=this._getTile();f.DomUtil.setPosition(d,c,f.Browser.chrome);this._tiles[a.x+":"+a.y]=d;this._loadTile(d,a);d.parentNode!==this._tileContainer&&b.appendChild(d)},_getZoomForUrl:function(){var a=this.options,b=this._map.getZoom();a.zoomReverse&&(b=a.maxZoom-b);b+=a.zoomOffset;return a.maxNativeZoom?Math.min(b,a.maxNativeZoom):b},_getTilePos:function(a){var b=this._map.getPixelOrigin(),c=this._getTileSize();return a.multiplyBy(c).subtract(b)},getTileUrl:function(a){return f.Util.template(this._url,f.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){var a=this._map.options.crs;a=a.getSize(this._map.getZoom());return a.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(a){var b=this._getWrapTileNum();!this.options.continuousWorld&&!this.options.noWrap&&(a.x=(a.x%b.x+b.x)%b.x);this.options.tms&&(a.y=b.y-a.y-1);a.z=this._getZoomForUrl()},_getSubdomain:function(a){a=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[a]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var a=this._unusedTiles.pop();this._resetTile(a);return a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=f.DomUtil.create("img","leaflet-tile");a.style.width=a.style.height=this._getTileSize()+"px";a.galleryimg="no";a.onselectstart=a.onmousemove=f.Util.falseFn;f.Browser.ielt9&&this.options.opacity!==void 0&&f.DomUtil.setOpacity(a,this.options.opacity);f.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden");return a},_loadTile:function(a,b){a._layer=this,a.onload=this._tileOnLoad,a.onerror=this._tileOnError,this._adjustTilePoint(b),a.src=this.getTileUrl(b),this.fire("tileloadstart",{tile:a,url:a.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&f.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(f.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==f.Util.emptyImageUrl&&(f.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src}));a._tileLoaded()},_tileOnError:function(){var a=this._layer;a.fire("tileerror",{tile:this,url:this.src});var b=a.options.errorTileUrl;b&&(this.src=b);a._tileLoaded()}});f.tileLayer=function(a,b){return new f.TileLayer(a,b)};f.TileLayer.WMS=f.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,b){this._url=a;a=f.extend({},this.defaultWmsParams);var c=b.tileSize||this.options.tileSize;b.detectRetina&&f.Browser.retina?a.width=a.height=c*2:a.width=a.height=c;for(var d in b)!this.options.hasOwnProperty(d)&&d!=="crs"&&(a[d]=b[d]);this.wmsParams=a;f.setOptions(this,b)},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code;f.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._map,c=this.options.tileSize,d=a.multiplyBy(c);c=d.add([c,c]);d=this._crs.project(b.unproject(d,a.z));b=this._crs.project(b.unproject(c,a.z));c=this._wmsVersion>=1.3&&this._crs===f.CRS.EPSG4326?[b.y,d.x,d.y,b.x].join(","):[d.x,b.y,b.x,d.y].join(",");b=f.Util.template(this._url,{s:this._getSubdomain(a)});return b+f.Util.getParamString(this.wmsParams,b,!0)+"&BBOX="+c},setParams:function(a,b){f.extend(this.wmsParams,a);b||this.redraw();return this}});f.tileLayer.wms=function(a,b){return new f.TileLayer.WMS(a,b)};f.TileLayer.Canvas=f.TileLayer.extend({options:{async:!1},initialize:function(a){f.setOptions(this,a)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=f.DomUtil.create("canvas","leaflet-tile");a.width=a.height=this.options.tileSize;a.onselectstart=a.onmousemove=f.Util.falseFn;return a},_loadTile:function(a,b){a._layer=this,a._tilePoint=b,this._redrawTile(a),this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}});f.tileLayer.canvas=function(a){return new f.TileLayer.Canvas(a)};f.ImageOverlay=f.Class.extend({includes:f.Mixin.Events,options:{opacity:1},initialize:function(a,b,c){this._url=a,this._bounds=f.latLngBounds(b),f.setOptions(this,c)},onAdd:function(a){this._map=a,this._image||this._initImage(),a._panes.overlayPane.appendChild(this._image),a.on("viewreset",this._reset,this),a.options.zoomAnimation&&f.Browser.any3d&&a.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image),a.off("viewreset",this._reset,this),a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){a.addLayer(this);return this},setOpacity:function(a){this.options.opacity=a;this._updateOpacity();return this},bringToFront:function(){this._image&&this._map._panes.overlayPane.appendChild(this._image);return this},bringToBack:function(){var a=this._map._panes.overlayPane;this._image&&a.insertBefore(this._image,a.firstChild);return this},setUrl:function(a){this._url=a,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=f.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&f.Browser.any3d?f.DomUtil.addClass(this._image,"leaflet-zoom-animated"):f.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),f.extend(this._image,{galleryimg:"no",onselectstart:f.Util.falseFn,onmousemove:f.Util.falseFn,onload:f.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var b=this._map,c=this._image,d=b.getZoomScale(a.zoom),e=this._bounds.getNorthWest(),g=this._bounds.getSouthEast();e=b._latLngToNewLayerPoint(e,a.zoom,a.center);b=b._latLngToNewLayerPoint(g,a.zoom,a.center)._subtract(e);g=e._add(b._multiplyBy(1/2*(1-1/d)));c.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(g)+" scale("+d+") "},_reset:function(){var a=this._image,b=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),c=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(b);f.DomUtil.setPosition(a,b);a.style.width=c.x+"px";a.style.height=c.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){f.DomUtil.setOpacity(this._image,this.options.opacity)}});f.imageOverlay=function(a,b,c){return new f.ImageOverlay(a,b,c)};f.Icon=f.Class.extend({options:{className:""},initialize:function(a){f.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){__p&&__p();var c=this._getIconUrl(a);if(!c){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d;!b||b.tagName!=="IMG"?d=this._createImg(c):d=this._createImg(c,b);this._setIconStyles(d,a);return d},_setIconStyles:function(a,b){var c=this.options,d=f.point(c[b+"Size"]),e;b==="shadow"?e=f.point(c.shadowAnchor||c.iconAnchor):e=f.point(c.iconAnchor);!e&&d&&(e=d.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+c.className;e&&(a.style.marginLeft=-e.x+"px",a.style.marginTop=-e.y+"px");d&&(a.style.width=d.x+"px",a.style.height=d.y+"px")},_createImg:function(a,c){c=c||b.createElement("img");c.src=a;return c},_getIconUrl:function(a){return f.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}});f.icon=function(a){return new f.Icon(a)};f.Icon.Default=f.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var b=a+"Url";if(this.options[b])return this.options[b];f.Browser.retina&&a==="icon"&&(a+="-2x");b=f.Icon.Default.imagePath;if(!b)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return b+"/marker-"+a+".png"}});f.Icon.Default.imagePath=function(){__p&&__p();if(!b.getElementsByTagName)return null;var a=b.getElementsByTagName("script"),c=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,d,e,f,g;for(d=0,e=a.length;d<e;d++){f=a[d].src;g=f.match(c);if(g){g=f.split(c)[0];return(g?g+"/":"")+"images"}}}();f.Marker=f.Class.extend({includes:f.Mixin.Events,options:{icon:new f.Icon.Default(),title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,b){f.setOptions(this,b),this._latlng=f.latLng(a)},onAdd:function(a){this._map=a,a.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),a.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=f.latLng(a);this.update();return this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){this.options.zIndexOffset=a;this.update();return this},setIcon:function(a){this.options.icon=a;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup);return this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){__p&&__p();var a=this.options,b=this._map;b=b.options.zoomAnimation&&b.options.markerZoomAnimation;b=b?"leaflet-zoom-animated":"leaflet-zoom-hide";var c=a.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,a.title&&(c.title=a.title),a.alt&&(c.alt=a.alt));f.DomUtil.addClass(c,b);a.keyboard&&(c.tabIndex="0");this._icon=c;this._initInteraction();a.riseOnHover&&f.DomEvent.on(c,"mouseover",this._bringToFront,this).on(c,"mouseout",this._resetZIndex,this);c=a.icon.createShadow(this._shadow);var e=!1;c!==this._shadow&&(this._removeShadow(),e=!0);c&&f.DomUtil.addClass(c,b);this._shadow=c;a.opacity<1&&this._updateOpacity();b=this._map._panes;d&&b.markerPane.appendChild(this._icon);c&&e&&b.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&f.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(a){f.DomUtil.setPosition(this._icon,a),this._shadow&&f.DomUtil.setPosition(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(!this.options.clickable)return;var a=this._icon,b=["dblclick","mousedown","mouseover","mouseout","contextmenu"];f.DomUtil.addClass(a,"leaflet-clickable");f.DomEvent.on(a,"click",this._onMouseClick,this);f.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var c=0;c<b.length;c++)f.DomEvent.on(a,b[c],this._fireMouseEvent,this);f.Handler.MarkerDrag&&(this.dragging=new f.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())},_onMouseClick:function(a){var b=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||b)&&f.DomEvent.stopPropagation(a);if(b)return;if((!this.dragging||!this.dragging._enabled)&&this._map.dragging&&this._map.dragging.moved())return;this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){a.keyCode===13&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng}),a.type==="contextmenu"&&this.hasEventListeners(a.type)&&f.DomEvent.preventDefault(a),a.type!=="mousedown"?f.DomEvent.stopPropagation(a):f.DomEvent.preventDefault(a)},setOpacity:function(a){this.options.opacity=a;this._map&&this._updateOpacity();return this},_updateOpacity:function(){f.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&f.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});f.marker=function(a,b){return new f.Marker(a,b)};f.DivIcon=f.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){a=a&&a.tagName==="DIV"?a:b.createElement("div");var c=this.options;c.html!==!1?a.innerHTML=c.html:a.innerHTML="";c.bgPos&&(a.style.backgroundPosition=-c.bgPos.x+"px "+-c.bgPos.y+"px");this._setIconStyles(a,"icon");return a},createShadow:function(){return null}});f.divIcon=function(a){return new f.DivIcon(a)};f.Map.mergeOptions({closePopupOnClick:!0});f.Popup=f.Class.extend({includes:f.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,b){f.setOptions(this,a),this._source=b,this._animated=f.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(a){__p&&__p();this._map=a;this._container||this._initLayout();var b=a.options.fadeAnimation;b&&f.DomUtil.setOpacity(this._container,0);a._panes.popupPane.appendChild(this._container);a.on(this._getEvents(),this);this.update();b&&f.DomUtil.setOpacity(this._container,1);this.fire("open");a.fire("popupopen",{popup:this});this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){a.addLayer(this);return this},openOn:function(a){a.openPopup(this);return this},onRemove:function(a){a._panes.popupPane.removeChild(this._container),f.Util.falseFn(this._container.offsetWidth),a.off(this._getEvents(),this),a.options.fadeAnimation&&f.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),a.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=f.latLng(a);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(a){this._content=a;this.update();return this},update:function(){if(!this._map)return;this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},_getEvents:function(){var a={viewreset:this._updatePosition};this._animated&&(a.zoomanim=this._zoomAnimation);("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close);this.options.keepInView&&(a.moveend=this._adjustPan);return a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){__p&&__p();var a="leaflet-popup",b=a+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide");b=this._container=f.DomUtil.create("div",b);var c;this.options.closeButton&&(c=this._closeButton=f.DomUtil.create("a",a+"-close-button",b),c.href="#close",c.innerHTML="&#215;",f.DomEvent.disableClickPropagation(c),f.DomEvent.on(c,"click",this._onCloseButtonClick,this));c=this._wrapper=f.DomUtil.create("div",a+"-content-wrapper",b);f.DomEvent.disableClickPropagation(c);this._contentNode=f.DomUtil.create("div",a+"-content",c);f.DomEvent.disableScrollPropagation(this._contentNode);f.DomEvent.on(c,"contextmenu",f.DomEvent.stopPropagation);this._tipContainer=f.DomUtil.create("div",a+"-tip-container",b);this._tip=f.DomUtil.create("div",a+"-tip",this._tipContainer)},_updateContent:function(){if(!this._content)return;if(typeof this._content==="string")this._contentNode.innerHTML=this._content;else{while(this._contentNode.hasChildNodes())this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")},_updateLayout:function(){__p&&__p();var a=this._contentNode,b=a.style;b.width="";b.whiteSpace="nowrap";var c=a.offsetWidth;c=Math.min(c,this.options.maxWidth);c=Math.max(c,this.options.minWidth);b.width=c+1+"px";b.whiteSpace="";b.height="";c=a.offsetHeight;var d=this.options.maxHeight,e="leaflet-popup-scrolled";d&&c>d?(b.height=d+"px",f.DomUtil.addClass(a,e)):f.DomUtil.removeClass(a,e);this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(!this._map)return;var a=this._map.latLngToLayerPoint(this._latlng),b=this._animated,c=f.point(this.options.offset);b&&f.DomUtil.setPosition(this._container,a);this._containerBottom=-c.y-(b?0:a.y);this._containerLeft=-Math.round(this._containerWidth/2)+c.x+(b?0:a.x);this._container.style.bottom=this._containerBottom+"px";this._container.style.left=this._containerLeft+"px"},_zoomAnimation:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);f.DomUtil.setPosition(this._container,a)},_adjustPan:function(){__p&&__p();if(!this.options.autoPan)return;var a=this._map,b=this._container.offsetHeight,c=this._containerWidth,d=new f.Point(this._containerLeft,-b-this._containerBottom);this._animated&&d._add(f.DomUtil.getPosition(this._container));d=a.layerPointToContainerPoint(d);var e=f.point(this.options.autoPanPadding),g=f.point(this.options.autoPanPaddingTopLeft||e);e=f.point(this.options.autoPanPaddingBottomRight||e);var h=a.getSize(),i=0,j=0;d.x+c+e.x>h.x&&(i=d.x+c-h.x+e.x);d.x-i-g.x<0&&(i=d.x-g.x);d.y+b+e.y>h.y&&(j=d.y+b-h.y+e.y);d.y-j-g.y<0&&(j=d.y-g.y);(i||j)&&a.fire("autopanstart").panBy([i,j])},_onCloseButtonClick:function(a){this._close(),f.DomEvent.stop(a)}});f.popup=function(a,b){return new f.Popup(a,b)};f.Map.include({openPopup:function(a,b,c){this.closePopup();if(!(a instanceof f.Popup)){var d=a;a=new f.Popup(c).setLatLng(b).setContent(d)}a._isOpen=!0;this._popup=a;return this.addLayer(a)},closePopup:function(a){(!a||a===this._popup)&&(a=this._popup,this._popup=null);a&&(this.removeLayer(a),a._isOpen=!1);return this}});f.Marker.include({openPopup:function(){this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup));return this},closePopup:function(){this._popup&&this._popup._close();return this},togglePopup:function(){this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup());return this},bindPopup:function(a,b){var c=f.point(this.options.icon.options.popupAnchor||[0,0]);c=c.add(f.Popup.prototype.options.offset);b&&b.offset&&(c=c.add(b.offset));b=f.extend({offset:c},b);this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0);a instanceof f.Popup?(f.setOptions(a,b),this._popup=a):this._popup=new f.Popup(b,this).setContent(a);return this},setPopupContent:function(a){this._popup&&this._popup.setContent(a);return this},unbindPopup:function(){this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1);return this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});f.LayerGroup=f.Class.extend({initialize:function(a){this._layers={};var b,c;if(a)for(b=0,c=a.length;b<c;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);this._layers[b]=a;this._map&&this._map.addLayer(a);return this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]);delete this._layers[a];return this},hasLayer:function(a){return!a?!1:a in this._layers||this.getLayerId(a)in this._layers},clearLayers:function(){this.eachLayer(this.removeLayer,this);return this},invoke:function(a){var b=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers)d=this._layers[c],d[a]&&d[a].apply(d,b);return this},onAdd:function(a){this._map=a,this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a),this._map=null},addTo:function(a){a.addLayer(this);return this},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var b in this._layers)a.push(this._layers[b]);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return f.stamp(a)}});f.layerGroup=function(a){return new f.LayerGroup(a)};f.FeatureGroup=f.LayerGroup.extend({includes:f.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){if(this.hasLayer(a))return this;"on"in a&&a.on(f.FeatureGroup.EVENTS,this._propagateEvent,this);f.LayerGroup.prototype.addLayer.call(this,a);this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions);return this.fire("layeradd",{layer:a})},removeLayer:function(a){if(!this.hasLayer(a))return this;a in this._layers&&(a=this._layers[a]);a.off(f.FeatureGroup.EVENTS,this._propagateEvent,this);f.LayerGroup.prototype.removeLayer.call(this,a);this._popupContent&&this.invoke("unbindPopup");return this.fire("layerremove",{layer:a})},bindPopup:function(a,b){this._popupContent=a;this._popupOptions=b;return this.invoke("bindPopup",a,b)},unbindPopup:function(){this._popupContent&&this.invoke("unbindPopup")},openPopup:function(a){for(var b in this._layers){this._layers[b].openPopup(a);break}return this},closePopup:function(){this._popupContent&&this.invoke("closePopup")},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new f.LatLngBounds();this.eachLayer(function(b){a.extend(b instanceof f.Marker?b.getLatLng():b.getBounds())});return a},_propagateEvent:function(a){a=f.extend({layer:a.target,target:this},a),this.fire(a.type,a)}});f.featureGroup=function(a){return new f.FeatureGroup(a)};f.Path=f.Class.extend({includes:[f.Mixin.Events],statics:{CLIP_PADDING:function(){var b=f.Browser.mobile?1280:2e3;b=(b/Math.max(a.outerWidth,a.outerHeight)-1)/2;return Math.max(0,Math.min(.5,b))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(a){f.setOptions(this,a)},onAdd:function(a){this._map=a,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){a._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,f.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){f.setOptions(this,a);this._container&&this._updateStyle();return this},redraw:function(){this._map&&(this.projectLatlngs(),this._updatePath());return this}});f.Map.include({_updatePathViewport:function(){var a=f.Path.CLIP_PADDING,b=this.getSize(),c=f.DomUtil.getPosition(this._mapPane);c=c.multiplyBy(-1)._subtract(b.multiplyBy(a)._round());b=c.add(b.multiplyBy(1+a*2)._round());this._pathViewport=new f.Bounds(c,b)}});f.Path.SVG_NS="http://www.w3.org/2000/svg";f.Browser.svg=!!(b.createElementNS&&b.createElementNS(f.Path.SVG_NS,"svg").createSVGRect);f.Path=f.Path.extend({statics:{SVG:f.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,b=this._container;b&&a.lastChild!==b&&a.appendChild(b);return this},bringToBack:function(){var a=this._map._pathRoot,b=this._container,c=a.firstChild;b&&c!==b&&a.insertBefore(b,c);return this},getPathString:function(){},_createElement:function(a){return b.createElementNS(f.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&f.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),!this.options.clickable&&!this.options.pointerEvents&&this._path.setAttribute("pointer-events","none"),this.options["data-testid"]&&this._path.setAttribute("data-testid",this.options["data-testid"]),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0");this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){(f.Browser.svg||!f.Browser.vml)&&f.DomUtil.addClass(this._path,"leaflet-clickable");f.DomEvent.on(this._container,"click",this._onMouseClick,this);var a=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"];for(var b=0;b<a.length;b++)f.DomEvent.on(this._container,a[b],this._fireMouseEvent,this)}},_onMouseClick:function(a){if(this._map.dragging&&this._map.dragging.moved())return;this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(!this.hasEventListeners(a.type))return;var b=this._map,c=b.mouseEventToContainerPoint(a),d=b.containerPointToLayerPoint(c);b=b.layerPointToLatLng(d);this.fire(a.type,{latlng:b,layerPoint:d,containerPoint:c,originalEvent:a});a.type==="contextmenu"&&f.DomEvent.preventDefault(a);a.type!=="mousemove"&&f.DomEvent.stopPropagation(a)}});f.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=f.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&f.Browser.any3d?(f.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):f.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(a){var b=this.getZoomScale(a.zoom);a=this._getCenterOffset(a.center)._multiplyBy(-b)._add(this._pathViewport.min);this._pathRoot.style[f.DomUtil.TRANSFORM]=f.DomUtil.getTranslateString(a)+" scale("+b+") ";this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){__p&&__p();if(this._pathZooming)return;this._updatePathViewport();var a=this._pathViewport,b=a.min;a=a.max;var c=a.x-b.x;a=a.y-b.y;var d=this._pathRoot,e=this._panes.overlayPane;f.Browser.mobileWebkit&&e.removeChild(d);f.DomUtil.setPosition(d,b);d.setAttribute("width",c);d.setAttribute("height",a);d.setAttribute("viewBox",[b.x,b.y,c,a].join(" "));f.Browser.mobileWebkit&&e.appendChild(d)}});f.Path.include({bindPopup:function(a,b){a instanceof f.Popup?this._popup=a:((!this._popup||b)&&(this._popup=new f.Popup(b,this)),this._popup.setContent(a));this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1);return this},openPopup:function(a){this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a}));return this},closePopup:function(){this._popup&&this._popup._close();return this},_openPopup:function(a){this._popup.setLatLng(a.latlng),this._map.openPopup(this._popup)}});f.Browser.vml=!f.Browser.svg&&function(){try{var a=b.createElement("div");a.innerHTML='<v:shape adj="1"/>';a=a.firstChild;a.style.behavior="url(#default#VML)";return a&&typeof a.adj==="object"}catch(a){return!1}}();f.Path=f.Browser.svg||!f.Browser.vml?f.Path:f.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{b.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(a){return b.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");f.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:""));this.options.clickable&&f.DomUtil.addClass(a,"leaflet-clickable");a.coordsize="1 1";this._path=this._createElement("path");a.appendChild(this._path);this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,b=this._fill,c=this.options,d=this._container;d.stroked=c.stroke;d.filled=c.fill;c.stroke?(a||(a=this._stroke=this._createElement("stroke"),a.endcap="round",d.appendChild(a)),a.weight=c.weight+"px",a.color=c.color,a.opacity=c.opacity,c.dashArray?a.dashStyle=f.Util.isArray(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):a.dashStyle="",c.lineCap&&(a.endcap=c.lineCap.replace("butt","flat")),c.lineJoin&&(a.joinstyle=c.lineJoin)):a&&(d.removeChild(a),this._stroke=null);c.fill?(b||(b=this._fill=this._createElement("fill"),d.appendChild(b)),b.color=c.fillColor||c.color,b.opacity=c.fillOpacity):b&&(d.removeChild(b),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none";this._path.v=this.getPathString()+" ";a.display=""}});f.Map.include(f.Browser.svg||!f.Browser.vml?{}:{_initPathRoot:function(){if(this._pathRoot)return;var a=this._pathRoot=b.createElement("div");a.className="leaflet-vml-container";this._panes.overlayPane.appendChild(a);this.on("moveend",this._updatePathViewport);this._updatePathViewport()}});f.Browser.canvas=function(){return!!(b.createElement&&b.createElement("canvas").getContext)}();f.Path=f.Path.SVG&&!a.L_PREFER_CANVAS||!f.Browser.canvas?f.Path:f.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){this._map&&(this.projectLatlngs(),this._requestUpdate());return this},setStyle:function(a){f.setOptions(this,a);this._map&&(this._updateStyle(),this._requestUpdate());return this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!f.Path._updateRequest&&(f.Path._updateRequest=f.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){f.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color);a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var a,b,c,d,e,g;this._ctx.beginPath();for(a=0,c=this._parts.length;a<c;a++){for(b=0,d=this._parts[a].length;b<d;b++)e=this._parts[a][b],g=(b===0?"move":"line")+"To",this._ctx[g](e.x,e.y);this instanceof f.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(this._checkIfEmpty())return;var a=this._ctx,b=this.options;this._drawPath();a.save();this._updateStyle();b.fill&&(a.globalAlpha=b.fillOpacity,a.fill());b.stroke&&(a.globalAlpha=b.opacity,a.stroke());a.restore()},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){if(!this._map||this._map._animatingZoom)return;this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a))}});f.Map.include(f.Path.SVG&&!a.L_PREFER_CANVAS||!f.Browser.canvas?{}:{_initPathRoot:function(){var a=this._pathRoot,c;a||(a=this._pathRoot=b.createElement("canvas"),a.style.position="absolute",c=this._canvasCtx=a.getContext("2d"),c.lineCap="round",c.lineJoin="round",this._panes.overlayPane.appendChild(a),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){__p&&__p();if(this._pathZooming)return;this._updatePathViewport();var a=this._pathViewport,b=a.min;a=a.max.subtract(b);var c=this._pathRoot;f.DomUtil.setPosition(c,b);c.width=a.x;c.height=a.y;c.getContext("2d").translate(-b.x,-b.y)}});f.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();b=b*b;a=this._reducePoints(a,b);a=this._simplifyDP(a,b);return a},pointToSegmentDistance:function(a,b,c){return Math.sqrt(this._sqClosestPointOnSegment(a,b,c,!0))},closestPointOnSegment:function(a,b,c){return this._sqClosestPointOnSegment(a,b,c)},_simplifyDP:function(a,b){var c=a.length,d=typeof Uint8Array!==void 0+""?Uint8Array:Array;d=new d(c);d[0]=d[c-1]=1;this._simplifyDPStep(a,d,b,0,c-1);var e;b=[];for(e=0;e<c;e++)d[e]&&b.push(a[e]);return b},_simplifyDPStep:function(a,b,c,d,e){var f=0,g,h,i;for(h=d+1;h<=e-1;h++)i=this._sqClosestPointOnSegment(a[h],a[d],a[e],!0),i>f&&(g=h,f=i);f>c&&(b[g]=1,this._simplifyDPStep(a,b,c,d,g),this._simplifyDPStep(a,b,c,g,e))},_reducePoints:function(a,b){var c=[a[0]];for(var d=1,e=0,f=a.length;d<f;d++)this._sqDist(a[d],a[e])>b&&(c.push(a[d]),e=d);e<f-1&&c.push(a[f-1]);return c},clipSegment:function(a,b,c,d){d=d?this._lastCode:this._getBitCode(a,c);var e=this._getBitCode(b,c),f,g,h;this._lastCode=e;while(!0)if(!(d|e))return[a,b];else if(d&e)return!1;else f=d||e,g=this._getEdgeIntersection(a,b,f,c),h=this._getBitCode(g,c),f===d?(a=g,d=h):(b=g,e=h)},_getEdgeIntersection:function(a,b,c,d){__p&&__p();var e=b.x-a.x;b=b.y-a.y;var g=d.min;d=d.max;if(c&8)return new f.Point(a.x+e*(d.y-a.y)/b,d.y);else if(c&4)return new f.Point(a.x+e*(g.y-a.y)/b,g.y);else if(c&2)return new f.Point(d.x,a.y+b*(d.x-a.x)/e);else if(c&1)return new f.Point(g.x,a.y+b*(g.x-a.x)/e)},_getBitCode:function(a,b){var c=0;a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2);a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8);return c},_sqDist:function(a,b){var c=b.x-a.x;b=b.y-a.y;return c*c+b*b},_sqClosestPointOnSegment:function(a,b,c,d){var e=b.x;b=b.y;var g=c.x-e,h=c.y-b,i=g*g+h*h;i>0&&(i=((a.x-e)*g+(a.y-b)*h)/i,i>1?(e=c.x,b=c.y):i>0&&(e+=g*i,b+=h*i));g=a.x-e;h=a.y-b;return d?g*g+h*h:new f.Point(e,b)}};f.Polyline=f.Path.extend({initialize:function(a,b){f.Path.prototype.initialize.call(this,b),this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;a<b;a++)this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])},getPathString:function(){for(var a=0,b=this._parts.length,c="";a<b;a++)c+=this._getPathPartStr(this._parts[a]);return c},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){this._latlngs=this._convertLatLngs(a);return this.redraw()},addLatLng:function(a){this._latlngs.push(f.latLng(a));return this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);this._convertLatLngs(this._latlngs,!0);this.redraw();return a},closestLayerPoint:function(a){__p&&__p();var b=Infinity,c=this._parts,d,e,g=null;for(var h=0,i=c.length;h<i;h++){var j=c[h];for(var k=1,l=j.length;k<l;k++){d=j[k-1];e=j[k];var m=f.LineUtil._sqClosestPointOnSegment(a,d,e,!0);m<b&&(b=m,g=f.LineUtil._sqClosestPointOnSegment(a,d,e))}}g&&(g.distance=Math.sqrt(b));return g},getBounds:function(){return new f.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(a,b){var c,d;b=b?a:[];for(c=0,d=a.length;c<d;c++){if(f.Util.isArray(a[c])&&typeof a[c][0]!=="number")return;b[c]=f.latLng(a[c])}return b},_initEvents:function(){f.Path.prototype._initEvents.call(this)},_getPathPartStr:function(a){var b=f.Path.VML;for(var c=0,d=a.length,e="",g;c<d;c++)g=a[c],b&&g._round(),e+=(c?"L":"M")+g.x+" "+g.y;return e},_clipPoints:function(){__p&&__p();var a=this._originalPoints,b=a.length,c,d,e;if(this.options.noClip){this._parts=[a];return}this._parts=[];var g=this._parts,h=this._map._pathViewport,i=f.LineUtil;for(c=0,d=0;c<b-1;c++){e=i.clipSegment(a[c],a[c+1],h,c);if(!e)continue;g[d]=g[d]||[];g[d].push(e[0]);(e[1]!==a[c+1]||c===b-2)&&(g[d].push(e[1]),d++)}},_simplifyPoints:function(){var a=this._parts,b=f.LineUtil;for(var c=0,d=a.length;c<d;c++)a[c]=b.simplify(a[c],this.options.smoothFactor)},_updatePath:function(){if(!this._map)return;this._clipPoints();this._simplifyPoints();f.Path.prototype._updatePath.call(this)}});f.polyline=function(a,b){return new f.Polyline(a,b)};f.PolyUtil={};f.PolyUtil.clipPolygon=function(a,b){__p&&__p();var c,d=[1,4,2,8],e,g,h,i,j,k,l,m,n=f.LineUtil;for(e=0,k=a.length;e<k;e++)a[e]._code=n._getBitCode(a[e],b);for(h=0;h<4;h++){l=d[h];c=[];for(e=0,k=a.length,g=k-1;e<k;g=e++)i=a[e],j=a[g],!(i._code&l)?(j._code&l&&(m=n._getEdgeIntersection(j,i,l,b),m._code=n._getBitCode(m,b),c.push(m)),c.push(i)):j._code&l||(m=n._getEdgeIntersection(j,i,l,b),m._code=n._getBitCode(m,b),c.push(m));a=c}return a};f.Polygon=f.Polyline.extend({options:{fill:!0},initialize:function(a,b){f.Polyline.prototype.initialize.call(this,a,b),this._initWithHoles(a)},_initWithHoles:function(a){var b,c,d;if(a&&f.Util.isArray(a[0])&&typeof a[0][0]!=="number"){this._latlngs=this._convertLatLngs(a[0]);this._holes=a.slice(1);for(b=0,c=this._holes.length;b<c;b++)d=this._holes[b]=this._convertLatLngs(this._holes[b]),d[0].equals(d[d.length-1])&&d.pop()}a=this._latlngs;a.length>=2&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){__p&&__p();f.Polyline.prototype.projectLatlngs.call(this);this._holePoints=[];if(!this._holes)return;var a,b,c,d;for(a=0,c=this._holes.length;a<c;a++){this._holePoints[a]=[];for(b=0,d=this._holes[a].length;b<d;b++)this._holePoints[a][b]=this._map.latLngToLayerPoint(this._holes[a][b])}},setLatLngs:function(a){if(a&&f.Util.isArray(a[0])&&typeof a[0][0]!=="number"){this._initWithHoles(a);return this.redraw()}else return f.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var a=this._originalPoints,b=[];this._parts=[a].concat(this._holePoints);if(this.options.noClip)return;for(var a=0,c=this._parts.length;a<c;a++){var d=f.PolyUtil.clipPolygon(this._parts[a],this._map._pathViewport);d.length&&b.push(d)}this._parts=b},_getPathPartStr:function(a){a=f.Polyline.prototype._getPathPartStr.call(this,a);return a+(f.Browser.svg?"z":"x")}});f.polygon=function(a,b){return new f.Polygon(a,b)};(function(){__p&&__p();function a(a){__p&&__p();return f.FeatureGroup.extend({initialize:function(a,b){this._layers={},this._options=b,this.setLatLngs(a)},setLatLngs:function(b){var c=0,d=b.length;this.eachLayer(function(a){c<d?a.setLatLngs(b[c++]):this.removeLayer(a)},this);while(c<d)this.addLayer(new a(b[c++],this._options));return this},getLatLngs:function(){var a=[];this.eachLayer(function(b){a.push(b.getLatLngs())});return a}})}f.MultiPolyline=a(f.Polyline);f.MultiPolygon=a(f.Polygon);f.multiPolyline=function(a,b){return new f.MultiPolyline(a,b)};f.multiPolygon=function(a,b){return new f.MultiPolygon(a,b)}})();f.Rectangle=f.Polygon.extend({initialize:function(a,b){f.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){a=f.latLngBounds(a);return[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});f.rectangle=function(a,b){return new f.Rectangle(a,b)};f.Circle=f.Path.extend({initialize:function(a,b,c){f.Path.prototype.initialize.call(this,c),this._latlng=f.latLng(a),this._mRadius=b},options:{fill:!0},setLatLng:function(a){this._latlng=f.latLng(a);return this.redraw()},setRadius:function(a){this._mRadius=a;return this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng;a=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b);this._radius=Math.max(this._point.x-a.x,1)},getBounds:function(){var a=this._getLngRadius(),b=this._mRadius/40075017*360,c=this._latlng;return new f.LatLngBounds([c.lat-b,c.lng-a],[c.lat+b,c.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,b=this._radius;if(this._checkIfEmpty())return"";if(f.Browser.svg)return"M"+a.x+","+(a.y-b)+"A"+b+","+b+",0,1,1,"+(a.x-.1)+","+(a.y-b)+" z";else{a._round();b=Math.round(b);return"AL "+a.x+","+a.y+" "+b+","+b+" 0,"+65535*360}},getRadius:function(){return this._mRadius},getPath:function(){return this._path},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(f.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,c=this._point;return c.x-b>a.max.x||c.y-b>a.max.y||c.x+b<a.min.x||c.y+b<a.min.y}});f.circle=function(a,b,c){return new f.Circle(a,b,c)};f.CircleMarker=f.Circle.extend({options:{radius:10,weight:2},initialize:function(a,b){f.Circle.prototype.initialize.call(this,a,null,b),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){f.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(a){f.Circle.prototype.setLatLng.call(this,a);this._popup&&this._popup._isOpen&&this._popup.setLatLng(a);return this},setRadius:function(a){this.options.radius=this._radius=a;return this.redraw()},getRadius:function(){return this._radius}});f.circleMarker=function(a,b){return new f.CircleMarker(a,b)};f.Polyline.include(f.Path.CANVAS?{_containsPoint:function(a,b){__p&&__p();var c,d,e,g,h,i,j,k=this.options.weight/2;f.Browser.touch&&(k+=10);for(c=0,g=this._parts.length;c<g;c++){j=this._parts[c];for(d=0,h=j.length,e=h-1;d<h;e=d++){if(!b&&d===0)continue;i=f.LineUtil.pointToSegmentDistance(a,j[e],j[d]);if(i<=k)return!0}}return!1}}:{});f.Polygon.include(f.Path.CANVAS?{_containsPoint:function(a){var b=!1,c,d,e,g,h,i,j,k;if(f.Polyline.prototype._containsPoint.call(this,a,!0))return!0;for(g=0,j=this._parts.length;g<j;g++){c=this._parts[g];for(h=0,k=c.length,i=k-1;h<k;i=h++)d=c[h],e=c[i],d.y>a.y!==e.y>a.y&&a.x<(e.x-d.x)*(a.y-d.y)/(e.y-d.y)+d.x&&(b=!b)}return b}}:{});f.Circle.include(f.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath();this._ctx.arc(a.x,a.y,this._radius,0,Math.PI*2,!1)},_containsPoint:function(a){var b=this._point,c=this.options.stroke?this.options.weight/2:0;return a.distanceTo(b)<=this._radius+c}}:{});f.CircleMarker.include(f.Path.CANVAS?{_updateStyle:function(){f.Path.prototype._updateStyle.call(this)}}:{});f.GeoJSON=f.FeatureGroup.extend({initialize:function(a,b){f.setOptions(this,b),this._layers={},a&&this.addData(a)},addData:function(a){__p&&__p();var b=f.Util.isArray(a)?a:a.features,c,d,e;if(b){for(c=0,d=b.length;c<d;c++)e=b[c],(e.geometries||e.geometry||e.features||e.coordinates)&&this.addData(b[c]);return this}e=this.options;if(e.filter&&!e.filter(a))return;b=f.GeoJSON.geometryToLayer(a,e.pointToLayer,e.coordsToLatLng,e);b.feature=f.GeoJSON.asFeature(a);b.defaultOptions=b.options;this.resetStyle(b);e.onEachFeature&&e.onEachFeature(a,b);return this.addLayer(b)},resetStyle:function(a){var b=this.options.style;b&&(f.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,b))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){typeof b==="function"&&(b=b(a.feature)),a.setStyle&&a.setStyle(b)}});f.extend(f.GeoJSON,{geometryToLayer:function(a,b,c,d){__p&&__p();var e=a.type==="Feature"?a.geometry:a,g=e.coordinates,h=[],i,j,k;c=c||this.coordsToLatLng;switch(e.type){case"Point":i=c(g);return b?b(a,i):new f.Marker(i);case"MultiPoint":for(j=0,k=g.length;j<k;j++)i=c(g[j]),h.push(b?b(a,i):new f.Marker(i));return new f.FeatureGroup(h);case"LineString":i=this.coordsToLatLngs(g,0,c);return new f.Polyline(i,d);case"Polygon":if(g.length===2&&!g[1].length)throw new Error("Invalid GeoJSON object.");i=this.coordsToLatLngs(g,1,c);return new f.Polygon(i,d);case"MultiLineString":i=this.coordsToLatLngs(g,1,c);return new f.MultiPolyline(i,d);case"MultiPolygon":i=this.coordsToLatLngs(g,2,c);return new f.MultiPolygon(i,d);case"GeometryCollection":for(j=0,k=e.geometries.length;j<k;j++)h.push(this.geometryToLayer({geometry:e.geometries[j],type:"Feature",properties:a.properties},b,c,d));return new f.FeatureGroup(h);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new f.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,c){var d,e,f,g=[];for(e=0,f=a.length;e<f;e++)d=b?this.coordsToLatLngs(a[e],b-1,c):(c||this.coordsToLatLng)(a[e]),g.push(d);return g},latLngToCoords:function(a){var b=[a.lng,a.lat];a.alt!==void 0&&b.push(a.alt);return b},latLngsToCoords:function(a){var b=[];for(var c=0,d=a.length;c<d;c++)b.push(f.GeoJSON.latLngToCoords(a[c]));return b},getFeature:function(a,b){return a.feature?f.extend({},a.feature,{geometry:b}):f.GeoJSON.asFeature(b)},asFeature:function(a){return a.type==="Feature"?a:{type:"Feature",properties:{},geometry:a}}});c={toGeoJSON:function(){return f.GeoJSON.getFeature(this,{type:"Point",coordinates:f.GeoJSON.latLngToCoords(this.getLatLng())})}};f.Marker.include(c);f.Circle.include(c);f.CircleMarker.include(c);f.Polyline.include({toGeoJSON:function(){return f.GeoJSON.getFeature(this,{type:"LineString",coordinates:f.GeoJSON.latLngsToCoords(this.getLatLngs())})}});f.Polygon.include({toGeoJSON:function(){var a=[f.GeoJSON.latLngsToCoords(this.getLatLngs())],b,c,d;a[0].push(a[0][0]);if(this._holes)for(b=0,c=this._holes.length;b<c;b++)d=f.GeoJSON.latLngsToCoords(this._holes[b]),d.push(d[0]),a.push(d);return f.GeoJSON.getFeature(this,{type:"Polygon",coordinates:a})}});(function(){__p&&__p();function a(a){return function(){var b=[];this.eachLayer(function(a){b.push(a.toGeoJSON().geometry.coordinates)});return f.GeoJSON.getFeature(this,{type:a,coordinates:b})}}f.MultiPolyline.include({toGeoJSON:a("MultiLineString")});f.MultiPolygon.include({toGeoJSON:a("MultiPolygon")});f.LayerGroup.include({toGeoJSON:function(){var b=this.feature&&this.feature.geometry,c=[];if(b&&b.type==="MultiPoint")return a("MultiPoint").call(this);var d=b&&b.type==="GeometryCollection";this.eachLayer(function(a){a.toGeoJSON&&(b=a.toGeoJSON(),c.push(d?b.geometry:f.GeoJSON.asFeature(b)))});return d?f.GeoJSON.getFeature(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}})})();f.geoJson=function(a,b){return new f.GeoJSON(a,b)};f.DomEvent={addListener:function(a,b,c,d){__p&&__p();var e=f.stamp(c),g="_leaflet_"+b+e,h,i;if(a[g])return this;h=function(b){return c.call(d||a,b||f.DomEvent._getEvent())};if(f.Browser.pointer&&b.indexOf("touch")===0)return this.addPointerListener(a,b,h,e);f.Browser.touch&&b==="dblclick"&&this.addDoubleTapListener&&this.addDoubleTapListener(a,h,e);"addEventListener"in a?b==="mousewheel"?(a.addEventListener("DOMMouseScroll",h,!1),a.addEventListener(b,h,!1)):b==="mouseenter"||b==="mouseleave"?(i=h,e=b==="mouseenter"?"mouseover":"mouseout",h=function(b){if(!f.DomEvent._checkMouse(a,b))return;return i(b)},a.addEventListener(e,h,!1)):b==="click"&&f.Browser.android?(i=h,h=function(a){return f.DomEvent._filterClick(a,i)},a.addEventListener(b,h,!1)):a.addEventListener(b,h,!1):"attachEvent"in a&&a.attachEvent("on"+b,h);a[g]=h;return this},removeListener:function(a,b,c){c=f.stamp(c);var d="_leaflet_"+b+c,e=a[d];if(!e)return this;f.Browser.pointer&&b.indexOf("touch")===0?this.removePointerListener(a,b,c):f.Browser.touch&&b==="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,c):"removeEventListener"in a?b==="mousewheel"?(a.removeEventListener("DOMMouseScroll",e,!1),a.removeEventListener(b,e,!1)):b==="mouseenter"||b==="mouseleave"?a.removeEventListener(b==="mouseenter"?"mouseover":"mouseout",e,!1):a.removeEventListener(b,e,!1):"detachEvent"in a&&a.detachEvent("on"+b,e);a[d]=null;return this},stopPropagation:function(a){a.deliberateSync=!0;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;f.DomEvent._skipped(a);return this},disableScrollPropagation:function(a){var b=f.DomEvent.stopPropagation;return f.DomEvent.on(a,"mousewheel",b).on(a,"MozMousePixelScroll",b)},disableClickPropagation:function(a){var b=f.DomEvent.stopPropagation;for(var c=f.Draggable.START.length-1;c>=0;c--)f.DomEvent.on(a,f.Draggable.START[c],b);return f.DomEvent.on(a,"click",f.DomEvent._fakeStop).on(a,"dblclick",b)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this},stop:function(a){return f.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,b){if(!b)return new f.Point(a.clientX,a.clientY);var c=b.getBoundingClientRect();return new f.Point(a.clientX-c.left-b.clientLeft,a.clientY-c.top-b.clientTop)},getWheelDelta:function(a){var b=0;a.wheelDelta&&(b=a.wheelDelta/120);a.detail&&(b=-a.detail/3);return b},_skipEvents:{},_fakeStop:function(a){f.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];this._skipEvents[a.type]=!1;return b},_checkMouse:function(a,b){b=b.relatedTarget;if(!b)return!0;try{while(b&&b!==a)b=b.parentNode}catch(a){return!1}return b!==a},_getEvent:function(){__p&&__p();var b=a.event;if(!b){var c=arguments.callee.caller;while(c){b=c.arguments[0];if(b&&a.Event===b.constructor)break;c=c.caller}}return b},_filterClick:function(a,b){var c=a.timeStamp||a.originalEvent.timeStamp,d=f.DomEvent._lastClick&&c-f.DomEvent._lastClick;if(d&&d>100&&d<1e3||a.target._simulatedClick&&!a._simulated){f.DomEvent.stop(a);return}f.DomEvent._lastClick=c;return b(a)}};f.DomEvent.on=f.DomEvent.addListener;f.DomEvent.off=f.DomEvent.removeListener;f.Draggable=f.Class.extend({includes:f.Mixin.Events,statics:{START:f.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a,this._dragStartTarget=b||a},enable:function(){if(this._enabled)return;for(var a=f.Draggable.START.length-1;a>=0;a--)f.DomEvent.on(this._dragStartTarget,f.Draggable.START[a],this._onDown,this);this._enabled=!0},disable:function(){if(!this._enabled)return;for(var a=f.Draggable.START.length-1;a>=0;a--)f.DomEvent.off(this._dragStartTarget,f.Draggable.START[a],this._onDown,this);this._enabled=!1;this._moved=!1},_onDown:function(a){__p&&__p();this._moved=!1;if(a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)return;f.DomEvent.stopPropagation(a);if(f.Draggable._disabled)return;f.DomUtil.disableImageDrag();f.DomUtil.disableTextSelection();if(this._moving)return;var c=a.touches?a.touches[0]:a;this._startPoint=new f.Point(c.clientX,c.clientY);this._startPos=this._newPos=f.DomUtil.getPosition(this._element);f.DomEvent.on(b,f.Draggable.MOVE[a.type],this._onMove,this).on(b,f.Draggable.END[a.type],this._onUp,this)},_onMove:function(a){__p&&__p();if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a;c=new f.Point(c.clientX,c.clientY);c=c.subtract(this._startPoint);if(!c.x&&!c.y)return;f.DomEvent.preventDefault(a);this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=f.DomUtil.getPosition(this._element).subtract(c),f.DomUtil.addClass(b.body,"leaflet-dragging"),f.DomUtil.addClass(a.target||a.srcElement,"leaflet-drag-target"));this._newPos=this._startPos.add(c);this._moving=!0;f.Util.cancelAnimFrame(this._animRequest);this._animRequest=f.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)},_updatePosition:function(){this.fire("predrag"),f.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(a){f.DomUtil.removeClass(b.body,"leaflet-dragging");f.DomUtil.removeClass(a.target||a.srcElement,"leaflet-drag-target");for(var c in f.Draggable.MOVE)f.DomEvent.off(b,f.Draggable.MOVE[c],this._onMove).off(b,f.Draggable.END[c],this._onUp);f.DomUtil.enableImageDrag();f.DomUtil.enableTextSelection();this._moved&&this._moving&&(f.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1}});f.Handler=f.Class.extend({initialize:function(a){this._map=a},enable:function(){if(this._enabled)return;this._enabled=!0;this.addHooks()},disable:function(){if(!this._enabled)return;this._enabled=!1;this.removeHooks()},enabled:function(){return!!this._enabled}});f.Map.mergeOptions({dragging:!0,inertia:!f.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,inertiaThreshold:f.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1});f.Map.Drag=f.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new f.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop();a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date(),b=this._lastPos=this._draggable._newPos;this._positions.push(b);this._times.push(a);a-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+c)%a+b-c;d=(d+b+c)%a-b-c;a=Math.abs(e+c)<Math.abs(d+c)?e:d;this._draggable._newPos.x=a},_onDragEnd:function(a){__p&&__p();var b=this._map,c=b.options,d=+new Date()-this._lastTime,e=!c.inertia||d>c.inertiaThreshold||!this._positions[0];b.fire("dragend",a);if(e)b.fire("moveend");else{a=this._lastPos.subtract(this._positions[0]);e=(this._lastTime+d-this._times[0])/1e3;var g=c.easeLinearity;d=a.multiplyBy(g/e);a=d.distanceTo([0,0]);e=Math.min(c.inertiaMaxSpeed,a);d=d.multiplyBy(e/a);var h=e/(c.inertiaDeceleration*g),i=d.multiplyBy(-h/2).round();!i.x||!i.y?b.fire("moveend"):(i=b._limitOffset(i,b.options.maxBounds),f.Util.requestAnimFrame(function(){b.panBy(i,{duration:h,easeLinearity:g,noMoveStart:!0})}))}}});f.Map.addInitHook("addHandler","dragging",f.Map.Drag);f.Map.mergeOptions({doubleClickZoom:!0});f.Map.DoubleClickZoom=f.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom()+(a.originalEvent.shiftKey?-1:1);b.options.doubleClickZoom==="center"?b.setZoom(c):b.setZoomAround(a.containerPoint,c)}});f.Map.addInitHook("addHandler","doubleClickZoom",f.Map.DoubleClickZoom);f.Map.mergeOptions({scrollWheelZoom:!0});f.Map.ScrollWheelZoom=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),f.DomEvent.on(this._map._container,"MozMousePixelScroll",f.DomEvent.preventDefault),this._delta=0},removeHooks:function(){f.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),f.DomEvent.off(this._map._container,"MozMousePixelScroll",f.DomEvent.preventDefault)},_onWheelScroll:function(a){var b=f.DomEvent.getWheelDelta(a);this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date());b=Math.max(40-(+new Date()-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(f.bind(this._performZoom,this),b);f.DomEvent.preventDefault(a);f.DomEvent.stopPropagation(a)},_performZoom:function(){var a=this._map,b=this._delta,c=a.getZoom();b=b>0?Math.ceil(b):Math.floor(b);b=Math.max(Math.min(b,4),-4);b=a._limitZoom(c+b)-c;this._delta=0;this._startTime=null;if(!b)return;a.options.scrollWheelZoom==="center"?a.setZoom(c+b):a.setZoomAround(this._lastMousePos,c+b)}});f.Map.addInitHook("addHandler","scrollWheelZoom",f.Map.ScrollWheelZoom);f.extend(f.DomEvent,{_touchstart:f.Browser.msPointer?"MSPointerDown":f.Browser.pointer?"pointerdown":"touchstart",_touchend:f.Browser.msPointer?"MSPointerUp":f.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(a,c,d){__p&&__p();var e,g=!1,h=250,i,j="_leaflet_",k=this._touchstart,l=this._touchend,m=[];function n(a){var b;f.Browser.pointer?(m.push(a.pointerId),b=m.length):b=a.touches.length;if(b>1)return;b=Date.now();var c=b-(e||b);i=a.touches?a.touches[0]:a;g=c>0&&c<=h;e=b}function o(a){__p&&__p();if(f.Browser.pointer){a=m.indexOf(a.pointerId);if(a===-1)return;m.splice(a,1)}if(g){if(f.Browser.pointer){a={};var b;for(var d in i)b=i[d],typeof b==="function"?a[d]=b.bind(i):a[d]=b;i=a}i.type="dblclick";c(i);e=null}}a[j+k+d]=n;a[j+l+d]=o;j=f.Browser.pointer?b.documentElement:a;a.addEventListener(k,n,!1);j.addEventListener(l,o,!1);f.Browser.pointer&&j.addEventListener(f.DomEvent.POINTER_CANCEL,o,!1);return this},removeDoubleTapListener:function(a,c){var d="_leaflet_";a.removeEventListener(this._touchstart,a[d+this._touchstart+c],!1);(f.Browser.pointer?b.documentElement:a).removeEventListener(this._touchend,a[d+this._touchend+c],!1);f.Browser.pointer&&b.documentElement.removeEventListener(f.DomEvent.POINTER_CANCEL,a[d+this._touchend+c],!1);return this}});f.extend(f.DomEvent,{POINTER_DOWN:f.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:f.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:f.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:f.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(a,b,c,d){switch(b){case"touchstart":return this.addPointerListenerStart(a,b,c,d);case"touchend":return this.addPointerListenerEnd(a,b,c,d);case"touchmove":return this.addPointerListenerMove(a,b,c,d);default:throw"Unknown touch event type"}},addPointerListenerStart:function(a,c,d,e){__p&&__p();c="_leaflet_";var g=this._pointers,h=function(a){__p&&__p();f.DomEvent.preventDefault(a);var b=!1;for(var c=0;c<g.length;c++)if(g[c].pointerId===a.pointerId){b=!0;break}b||g.push(a);a.touches=g.slice();a.changedTouches=[a];d(a)};a[c+"touchstart"+e]=h;a.addEventListener(this.POINTER_DOWN,h,!1);if(!this._pointerDocumentListener){c=function(a){for(var b=0;b<g.length;b++)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}};b.documentElement.addEventListener(this.POINTER_UP,c,!1);b.documentElement.addEventListener(this.POINTER_CANCEL,c,!1);this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(a,b,c,d){__p&&__p();var e="_leaflet_",f=this._pointers;function b(a){__p&&__p();if((a.pointerType===a.MSPOINTER_TYPE_MOUSE||a.pointerType==="mouse")&&a.buttons===0)return;for(var b=0;b<f.length;b++)if(f[b].pointerId===a.pointerId){f[b]=a;break}a.touches=f.slice();a.changedTouches=[a];c(a)}a[e+"touchmove"+d]=b;a.addEventListener(this.POINTER_MOVE,b,!1);return this},addPointerListenerEnd:function(a,b,c,d){__p&&__p();b="_leaflet_";var e=this._pointers,f=function(a){for(var b=0;b<e.length;b++)if(e[b].pointerId===a.pointerId){e.splice(b,1);break}a.touches=e.slice();a.changedTouches=[a];c(a)};a[b+"touchend"+d]=f;a.addEventListener(this.POINTER_UP,f,!1);a.addEventListener(this.POINTER_CANCEL,f,!1);return this},removePointerListener:function(a,b,c){__p&&__p();var d="_leaflet_";d=a[d+b+c];switch(b){case"touchstart":a.removeEventListener(this.POINTER_DOWN,d,!1);break;case"touchmove":a.removeEventListener(this.POINTER_MOVE,d,!1);break;case"touchend":a.removeEventListener(this.POINTER_UP,d,!1);a.removeEventListener(this.POINTER_CANCEL,d,!1);break}return this}});f.Map.mergeOptions({touchZoom:f.Browser.touch&&!f.Browser.android23,bounceAtZoomLimits:!0});f.Map.TouchZoom=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){f.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){__p&&__p();var c=this._map;if(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)return;var d=c.mouseEventToLayerPoint(a.touches[0]),e=c.mouseEventToLayerPoint(a.touches[1]),g=c._getCenterLayerPoint();this._startCenter=d.add(e)._divideBy(2);this._startDist=d.distanceTo(e);this._moved=!1;this._zooming=!0;this._centerOffset=g.subtract(this._startCenter);c._panAnim&&c._panAnim.stop();f.DomEvent.on(b,"touchmove",this._onTouchMove,this).on(b,"touchend",this._onTouchEnd,this);f.DomEvent.preventDefault(a)},_onTouchMove:function(a){__p&&__p();var b=this._map;if(!a.touches||a.touches.length!==2||!this._zooming)return;var c=b.mouseEventToLayerPoint(a.touches[0]),d=b.mouseEventToLayerPoint(a.touches[1]);this._scale=c.distanceTo(d)/this._startDist;this._delta=c._add(d)._divideBy(2)._subtract(this._startCenter);if(this._scale===1)return;if(!b.options.bounceAtZoomLimits&&(b.getZoom()===b.getMinZoom()&&this._scale<1||b.getZoom()===b.getMaxZoom()&&this._scale>1))return;this._moved||(f.DomUtil.addClass(b._mapPane,"leaflet-touching"),b.fire("movestart").fire("zoomstart"),this._moved=!0);f.Util.cancelAnimFrame(this._animRequest);this._animRequest=f.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container);f.DomEvent.preventDefault(a)},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin();b=a.layerPointToLatLng(b);var c=a.getScaleZoom(this._scale);a._animateZoom(b,c,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){__p&&__p();if(!this._moved||!this._zooming){this._zooming=!1;return}var a=this._map;this._zooming=!1;f.DomUtil.removeClass(a._mapPane,"leaflet-touching");f.Util.cancelAnimFrame(this._animRequest);f.DomEvent.off(b,"touchmove",this._onTouchMove).off(b,"touchend",this._onTouchEnd);var c=this._getScaleOrigin(),d=a.layerPointToLatLng(c),e=a.getZoom(),g=a.getScaleZoom(this._scale)-e;g=g>0?Math.ceil(g):Math.floor(g);e=a._limitZoom(e+g);g=a.getZoomScale(e)/this._scale;a._animateZoom(d,e,c,g)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}});f.Map.addInitHook("addHandler","touchZoom",f.Map.TouchZoom);f.Map.mergeOptions({tap:!0,tapTolerance:15});f.Map.Tap=f.Handler.extend({addHooks:function(){f.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){f.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){__p&&__p();if(!a.touches)return;f.DomEvent.preventDefault(a);this._fireClick=!0;if(a.touches.length>1){this._fireClick=!1;clearTimeout(this._holdTimeout);return}var c=a.touches[0];a=c.target;this._startPos=this._newPos=new f.Point(c.clientX,c.clientY);a.tagName&&a.tagName.toLowerCase()==="a"&&f.DomUtil.addClass(a,"leaflet-active");this._holdTimeout=setTimeout(f.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",c))},this),1e3);f.DomEvent.on(b,"touchmove",this._onMove,this).on(b,"touchend",this._onUp,this)},_onUp:function(a){clearTimeout(this._holdTimeout);f.DomEvent.off(b,"touchmove",this._onMove,this).off(b,"touchend",this._onUp,this);if(this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var c=a.target;c&&c.tagName&&c.tagName.toLowerCase()==="a"&&f.DomUtil.removeClass(c,"leaflet-active");this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new f.Point(a.clientX,a.clientY)},_simulateEvent:function(c,d){var e=b.createEvent("MouseEvents");e._simulated=!0;d.target._simulatedClick=!0;e.initMouseEvent(c,!0,!0,a,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null);d.target.dispatchEvent(e)}});f.Browser.touch&&!f.Browser.pointer&&f.Map.addInitHook("addHandler","tap",f.Map.Tap);f.Map.mergeOptions({boxZoom:!0});f.Map.BoxZoom=f.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._moved=!1},addHooks:function(){f.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){f.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){this._moved=!1;if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;f.DomUtil.disableTextSelection();f.DomUtil.disableImageDrag();this._startLayerPoint=this._map.mouseEventToLayerPoint(a);f.DomEvent.on(b,"mousemove",this._onMouseMove,this).on(b,"mouseup",this._onMouseUp,this).on(b,"keydown",this._onKeyDown,this)},_onMouseMove:function(a){this._moved||(this._box=f.DomUtil.create("div","leaflet-zoom-box",this._pane),f.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var b=this._startLayerPoint,c=this._box;a=this._map.mouseEventToLayerPoint(a);var d=a.subtract(b);a=new f.Point(Math.min(a.x,b.x),Math.min(a.y,b.y));f.DomUtil.setPosition(c,a);this._moved=!0;c.style.width=Math.max(0,Math.abs(d.x)-4)+"px";c.style.height=Math.max(0,Math.abs(d.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),f.DomUtil.enableTextSelection(),f.DomUtil.enableImageDrag(),f.DomEvent.off(b,"mousemove",this._onMouseMove).off(b,"mouseup",this._onMouseUp).off(b,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var b=this._map;a=b.mouseEventToLayerPoint(a);if(this._startLayerPoint.equals(a))return;a=new f.LatLngBounds(b.layerPointToLatLng(this._startLayerPoint),b.layerPointToLatLng(a));b.fitBounds(a);b.fire("boxzoomend",{boxZoomBounds:a})},_onKeyDown:function(a){a.keyCode===27&&this._finish()}});f.Map.addInitHook("addHandler","boxZoom",f.Map.BoxZoom);f.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1});f.Map.Keyboard=f.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a,this._setPanOffset(a.options.keyboardPanOffset),this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;a.tabIndex===-1&&(a.tabIndex="0");f.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;f.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(this._focused)return;var c=b.body,d=b.documentElement,e=c.scrollTop||d.scrollTop;c=c.scrollLeft||d.scrollLeft;this._map._container.focus();a.scrollTo(c,e)},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(a){var b=this._panKeys={},c=this.keyCodes,d,e;for(d=0,e=c.left.length;d<e;d++)b[c.left[d]]=[-1*a,0];for(d=0,e=c.right.length;d<e;d++)b[c.right[d]]=[a,0];for(d=0,e=c.down.length;d<e;d++)b[c.down[d]]=[0,a];for(d=0,e=c.up.length;d<e;d++)b[c.up[d]]=[0,-1*a]},_setZoomOffset:function(a){var b=this._zoomKeys={},c=this.keyCodes,d,e;for(d=0,e=c.zoomIn.length;d<e;d++)b[c.zoomIn[d]]=a;for(d=0,e=c.zoomOut.length;d<e;d++)b[c.zoomOut[d]]=-a},_addHooks:function(){f.DomEvent.on(b,"keydown",this._onKeyDown,this)},_removeHooks:function(){f.DomEvent.off(b,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){__p&&__p();var b=a.keyCode,c=this._map;if(b in this._panKeys){if(c._panAnim&&c._panAnim._inProgress)return;c.panBy(this._panKeys[b]);c.options.maxBounds&&c.panInsideBounds(c.options.maxBounds)}else if(b in this._zoomKeys)c.setZoom(c.getZoom()+this._zoomKeys[b]);else return;f.DomEvent.stop(a)}});f.Map.addInitHook("addHandler","keyboard",f.Map.Keyboard);f.Handler.MarkerDrag=f.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new f.Draggable(a,a));this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this);this._draggable.enable();f.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),f.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var a=this._marker,b=a._shadow,c=f.DomUtil.getPosition(a._icon),d=a._map.layerPointToLatLng(c);b&&f.DomUtil.setPosition(b,c);a._latlng=d;a.fire("move",{latlng:d}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}});f.Control=f.Class.extend({options:{position:"topright"},initialize:function(a){f.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;b&&b.removeControl(this);this.options.position=a;b&&b.addControl(this);return this},getContainer:function(){return this._container},addTo:function(a){this._map=a;var b=this._container=this.onAdd(a),c=this.getPosition();a=a._controlCorners[c];f.DomUtil.addClass(b,"leaflet-control");c.indexOf("bottom")!==-1?a.insertBefore(b,a.firstChild):a.appendChild(b);return this},removeFrom:function(a){var b=this.getPosition();b=a._controlCorners[b];b.removeChild(this._container);this._map=null;this.onRemove&&this.onRemove(a);return this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}});f.control=function(a){return new f.Control(a)};f.Map.include({addControl:function(a){a.addTo(this);return this},removeControl:function(a){a.removeFrom(this);return this},_initControlPos:function(){var a=this._controlCorners={},b="leaflet-",c=this._controlContainer=f.DomUtil.create("div",b+"control-container",this._container);function d(d,e){var g=b+d+" "+b+e;a[d+e]=f.DomUtil.create("div",g,c)}d("top","left");d("top","right");d("bottom","left");d("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});f.Control.Zoom=f.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out",recenterText:"\u2388",recenterTitle:"Re-center"},onAdd:function(a){var b="leaflet-control-zoom",c=f.DomUtil.create("div",b+" leaflet-bar");this._map=a;this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,b+"-in",c,this._zoomIn,this);this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,b+"-out",c,this._zoomOut,this);a.options.showRecenterControl&&(this._initBounds=a.getBounds(),this._recenterButton=this._createButton(this.options.recenterText,this.options.recenterTitle,b+"-recenter",c,this._recenter,this));this._updateDisabled();a.on("zoomend zoomlevelschange",this._updateDisabled,this);return c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_recenter:function(a){this._map.fitBounds(this._initBounds)},_createButton:function(a,b,c,d,e,g){c=f.DomUtil.create("a",c,d);c.innerHTML=a;c.href="#";c.title=b;d=f.DomEvent.stopPropagation;f.DomEvent.on(c,"click",d).on(c,"mousedown",d).on(c,"dblclick",d).on(c,"click",f.DomEvent.preventDefault).on(c,"click",e,g).on(c,"click",this._refocusOnMap,g);return c},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";f.DomUtil.removeClass(this._zoomInButton,b);f.DomUtil.removeClass(this._zoomOutButton,b);this._recenterButton&&f.DomUtil.removeClass(this._recenterButton,b);a._zoom===a.getMinZoom()&&f.DomUtil.addClass(this._zoomOutButton,b);a._zoom===a.getMaxZoom()&&f.DomUtil.addClass(this._zoomInButton,b)}});f.Map.mergeOptions({zoomControl:!0});f.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new f.Control.Zoom(),this.addControl(this.zoomControl))});f.control.zoom=function(a){return new f.Control.Zoom(a)};f.Control.Attribution=f.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){f.setOptions(this,a),this._attributions={}},onAdd:function(a){this._container=f.DomUtil.create("div","leaflet-control-attribution");f.DomEvent.disableClickPropagation(this._container);for(var b in a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this);this._update();return this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){this.options.prefix=a;this._update();return this},addAttribution:function(a){if(!a)return;this._attributions[a]||(this._attributions[a]=0);this._attributions[a]++;this._update();return this},removeAttribution:function(a){if(!a)return;this._attributions[a]&&(this._attributions[a]--,this._update());return this},_update:function(){if(!this._map)return;var a=[];for(var b in this._attributions)this._attributions[b]&&a.push(b);var c=[];this.options.prefix&&c.push(this.options.prefix);a.length&&c.push(a.join(", "));this._container.innerHTML=c.join(" | ")},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&this.removeAttribution(a.layer.getAttribution())}});f.Map.mergeOptions({attributionControl:!0});f.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=new f.Control.Attribution().addTo(this))});f.control.attribution=function(a){return new f.Control.Attribution(a)};f.Control.Scale=f.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var b="leaflet-control-scale",c=this.options.shiftRight?b+" leaflet-control-scale-shiftRight":b;c=f.DomUtil.create("div",c);var d=this.options;this._addScales(d,b,c);a.on(d.updateWhenIdle?"moveend":"move",this._update,this);a.whenReady(this._update,this);return c},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=f.DomUtil.create("div",b+"-line",c)),a.imperial&&(this._iScale=f.DomUtil.create("div",b+"-line",c))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat;b=6378137*Math.PI*Math.cos(b*Math.PI/180);b=b*(a.getNorthEast().lng-a.getSouthWest().lng)/180;a=this._map.getSize();var c=this.options,d=0;a.x>0&&(d=b*(c.maxWidth/a.x));this._updateScales(c,d)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b),a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px";this._mScale.innerHTML=b<1e3?b+" m":b/1e3+" km"},_updateImperial:function(a){a=a*3.2808399;var b=this._iScale,c,d;a>5280?(c=a/5280,d=this._getRoundNum(c),b.style.width=this._getScaleWidth(d/c)+"px",b.innerHTML=d+" mi"):(c=this._getRoundNum(a),b.style.width=this._getScaleWidth(c/a)+"px",b.innerHTML=c+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a=a/b;a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1;return b*a}});f.control.scale=function(a){return new f.Control.Scale(a)};f.Control.Layers=f.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(a,b,c){f.setOptions(this,c);this._layers={};this._lastZIndex=0;this._handlingClick=!1;for(var d in a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){this._initLayout();this._update();a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this);return this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){this._addLayer(a,b);this._update();return this},addOverlay:function(a,b){this._addLayer(a,b,!0);this._update();return this},removeLayer:function(a){a=f.stamp(a);delete this._layers[a];this._update();return this},_initLayout:function(){__p&&__p();var a="leaflet-control-layers",b=this._container=f.DomUtil.create("div",a);b.setAttribute("aria-haspopup",!0);!f.Browser.touch?f.DomEvent.disableClickPropagation(b).disableScrollPropagation(b):f.DomEvent.on(b,"click",f.DomEvent.stopPropagation);var c=this._form=f.DomUtil.create("form",a+"-list");if(this.options.collapsed){f.Browser.android||f.DomEvent.on(b,"mouseover",this._expand,this).on(b,"mouseout",this._collapse,this);var d=this._layersLink=f.DomUtil.create("a",a+"-toggle",b);d.href="#";d.title="Layers";f.Browser.touch?f.DomEvent.on(d,"click",f.DomEvent.stop).on(d,"click",this._expand,this):f.DomEvent.on(d,"focus",this._expand,this);f.DomEvent.on(c,"click",function(){setTimeout(f.bind(this._onInputClick,this),0)},this);this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=f.DomUtil.create("div",a+"-base",c);this._separator=f.DomUtil.create("div",a+"-separator",c);this._overlaysList=f.DomUtil.create("div",a+"-overlays",c);b.appendChild(c)},_addLayer:function(a,b,c){var d=f.stamp(a);this._layers[d]={layer:a,name:b,overlay:c};this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return;this._baseLayersList.innerHTML="";this._overlaysList.innerHTML="";var a=!1,b=!1,c,d;for(c in this._layers)d=this._layers[c],this._addItem(d),b=b||d.overlay,a=a||!d.overlay;this._separator.style.display=b&&a?"":"none"},_onLayerChange:function(a){var b=this._layers[f.stamp(a.layer)];if(!b)return;this._handlingClick||this._update();a=b.overlay?a.type==="layeradd"?"overlayadd":"overlayremove":a.type==="layeradd"?"baselayerchange":null;a&&this._map.fire(a,b)},_createRadioElement:function(a,c){a='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"';c&&(a+=' checked="checked"');a+="/>";c=b.createElement("div");c.innerHTML=a;return c.firstChild},_addItem:function(a){__p&&__p();var c=b.createElement("label"),d,e=this._map.hasLayer(a.layer);a.overlay?(d=b.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=e):d=this._createRadioElement("leaflet-base-layers",e);d.layerId=f.stamp(a.layer);f.DomEvent.on(d,"click",this._onInputClick,this);e=b.createElement("span");e.innerHTML=" "+a.name;c.appendChild(d);c.appendChild(e);d=a.overlay?this._overlaysList:this._baseLayersList;d.appendChild(c);return c},_onInputClick:function(){var a,b,c,d=this._form.getElementsByTagName("input"),e=d.length;this._handlingClick=!0;for(a=0;a<e;a++)b=d[a],c=this._layers[b.layerId],b.checked&&!this._map.hasLayer(c.layer)?this._map.addLayer(c.layer):!b.checked&&this._map.hasLayer(c.layer)&&this._map.removeLayer(c.layer);this._handlingClick=!1;this._refocusOnMap()},_expand:function(){f.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}});f.control.layers=function(a,b,c){return new f.Control.Layers(a,b,c)};f.PosAnimation=f.Class.extend({includes:f.Mixin.Events,run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._newPos=b,this.fire("start"),a.style[f.DomUtil.TRANSITION]="all "+(c||.25)+"s cubic-bezier(0,0,"+(d||.5)+",1)",f.DomEvent.on(a,f.DomUtil.TRANSITION_END,this._onTransitionEnd,this),f.DomUtil.setPosition(a,b),f.Util.falseFn(a.offsetWidth),this._stepTimer=setInterval(f.bind(this._onStep,this),50)},stop:function(){if(!this._inProgress)return;f.DomUtil.setPosition(this._el,this._getPos());this._onTransitionEnd();f.Util.falseFn(this._el.offsetWidth)},_onStep:function(){var a=this._getPos();if(!a){this._onTransitionEnd();return}this._el._leaflet_pos=a;this.fire("step")},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){__p&&__p();var b,c,d=this._el;d=a.getComputedStyle(d);if(f.Browser.any3d){c=d[f.DomUtil.TRANSFORM].match(this._transformRe);if(!c)return;b=parseFloat(c[1]);c=parseFloat(c[2])}else b=parseFloat(d.left),c=parseFloat(d.top);return new f.Point(b,c,!0)},_onTransitionEnd:function(){f.DomEvent.off(this._el,f.DomUtil.TRANSITION_END,this._onTransitionEnd,this);if(!this._inProgress)return;this._inProgress=!1;this._el.style[f.DomUtil.TRANSITION]="";this._el._leaflet_pos=this._newPos;clearInterval(this._stepTimer);this.fire("step").fire("end")}});f.Map.include({setView:function(a,b,c){__p&&__p();b=b===void 0?this._zoom:this._limitZoom(b);a=this._limitCenter(f.latLng(a),b,this.options.maxBounds);c=c||{};this._panAnim&&this._panAnim.stop();if(this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=f.extend({animate:c.animate},c.zoom),c.pan=f.extend({animate:c.animate},c.pan));c=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,c.zoom):this._tryAnimatedPan(a,c.pan);if(c){clearTimeout(this._sizeTimer);return this}}this._resetView(a,b);return this},panBy:function(a,b){__p&&__p();a=f.point(a).round();b=b||{};if(!a.x&&!a.y)return this;this._panAnim||(this._panAnim=new f.PosAnimation(),this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this));b.noMoveStart||this.fire("movestart");if(b.animate!==!1){f.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,c,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){f.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,b){a=this._getCenterOffset(a)._floor();if((b&&b.animate)!==!0&&!this.getSize().contains(a))return!1;this.panBy(a,b);return!0}});f.PosAnimation=f.DomUtil.TRANSITION?f.PosAnimation:f.PosAnimation.extend({run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=f.DomUtil.getPosition(a),this._offset=b.subtract(this._startPos),this._startTime=+new Date(),this.fire("start"),this._animate()},stop:function(){if(!this._inProgress)return;this._step();this._complete()},_animate:function(){this._animId=f.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var a=+new Date()-this._startTime,b=this._duration*1e3;a<b?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){a=this._startPos.add(this._offset.multiplyBy(a));f.DomUtil.setPosition(this._el,a);this.fire("step")},_complete:function(){f.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}});f.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});f.DomUtil.TRANSITION&&f.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&f.DomUtil.TRANSITION&&f.Browser.any3d&&!f.Browser.android23&&!f.Browser.mobileOpera,this._zoomAnimated&&f.DomEvent.on(this._mapPane,f.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)});f.Map.include(f.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){__p&&__p();if(this._animatingZoom)return!0;c=c||{};if(!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),e=this._getCenterOffset(a)._divideBy(1-1/d),f=this._getCenterLayerPoint()._add(e);if(c.animate!==!0&&!this.getSize().contains(e))return!1;this.fire("movestart").fire("zoomstart");this._animateZoom(a,b,f,d,null,!0);return!0},_animateZoom:function(a,b,c,d,e,g){this._animatingZoom=!0,f.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=a,this._animateToZoom=b,f.Draggable&&(f.Draggable._disabled=!0),this.fire("zoomanim",{center:a,zoom:b,origin:c,scale:d,delta:e,backwards:g})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,f.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),f.Draggable&&(f.Draggable._disabled=!1)}}:{});f.TileLayer.include({_animateZoom:function(a){this._animating||(this._animating=!0,this._prepareBgBuffer());var b=this._bgBuffer,c=f.DomUtil.TRANSFORM,d=a.delta?f.DomUtil.getTranslateString(a.delta):b.style[c],e=f.DomUtil.getScaleString(a.scale,a.origin);b.style[c]=a.backwards?e+" "+d:d+" "+e},_endZoomAnim:function(){var a=this._tileContainer,b=this._bgBuffer;a.style.visibility="";a.parentNode.appendChild(a);f.Util.falseFn(b.offsetWidth);this._animating=!1},_clearBgBuffer:function(){var a=this._map;a&&!a._animatingZoom&&!a.touchZoom._zooming&&(this._bgBuffer.innerHTML="",this._bgBuffer.style[f.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){__p&&__p();var a=this._tileContainer,b=this._bgBuffer,c=this._getLoadedTilesPercentage(b),d=this._getLoadedTilesPercentage(a);if(b&&c>.5&&d<.5){a.style.visibility="hidden";this._stopLoadingImages(a);return}b.style.visibility="hidden";b.style[f.DomUtil.TRANSFORM]="";this._tileContainer=b;b=this._bgBuffer=a;this._stopLoadingImages(b);clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(a){a=a.getElementsByTagName("img");var b,c,d=0;for(b=0,c=a.length;b<c;b++)a[b].complete&&d++;return d/c},_stopLoadingImages:function(a){a=Array.prototype.slice.call(a.getElementsByTagName("img"));var b,c,d;for(b=0,c=a.length;b<c;b++)d=a[b],d.complete||(d.onload=f.Util.falseFn,d.onerror=f.Util.falseFn,d.src=f.Util.emptyImageUrl,d.parentNode.removeChild(d))}});f.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:Infinity,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){a=this._locateOptions=f.extend(this._defaultLocateOptions,a);if(!navigator.geolocation){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var b=f.bind(this._handleGeolocationResponse,this),c=f.bind(this._handleGeolocationError,this);a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(a){var b=a.code;a=a.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(a){__p&&__p();var b=a.coords.latitude,c=a.coords.longitude,d=new f.LatLng(b,c),e=180*a.coords.accuracy/40075017,g=e/Math.cos(f.LatLng.DEG_TO_RAD*b);b=f.latLngBounds([b-e,c-g],[b+e,c+g]);e=this._locateOptions;if(e.setView){c=Math.min(this.getBoundsZoom(b),e.maxZoom);this.setView(d,c)}g={latlng:d,bounds:b,timestamp:a.timestamp};for(var h in a.coords)typeof a.coords[h]==="number"&&(g[h]=a.coords[h]);this.fire("locationfound",g)}})})(window,document)}),null);         20181116154524E                                             z     i f   ( s e l f . C a v a l r y L o g g e r )   {   C a v a l r y L o g g e r . s t a r t _ j s ( [ " L 1 G g k " ] ) ;   } 
 
 _ _ d ( " l e a f l e t " , [ ] , ( f u n c t i o n ( a , b , c , d , e , f ) { _ _ p & & _ _ p ( ) ; ( f u n c t i o n ( a , b , c ) { _ _ p & & _ _ p ( ) ; v a r   d = a . L , f = { } ; f . v e r s i o n = " 0 . 7 . 2 " ; t y p e o f   e = = = " o b j e c t " & & t y p e o f   e . e x p o r t s = = = " o b j e c t " ? e . e x p o r t s = f : t y p e o f   d e f i n e = = = " f u n c t i o n " & & d e f i n e . a m d & & d e f i n e ( f ) ; f . n o C o n f l i c t = f u n c t i o n ( ) { a . L = d ; r e t u r n   t h i s } ; a . L = f ; f . U t i l = { e x t e n d : f u n c t i o n ( a ) { v a r   b = A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s , 1 ) , c , d , e , f ; f o r ( d = 0 , e = b . l e n g t h ; d < e ; d + + ) { f = b [ d ] | | { } ; f o r ( c   i n   f ) f . h a s O w n P r o p e r t y ( c ) & & ( a [ c ] = f [ c ] ) } r e t u r n   a } , b i n d : f u n c t i o n ( a , b ) { v a r   c = a r g u m e n t s . l e n g t h > 2 ? A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s , 2 ) : n u l l ; r e t u r n   f u n c t i o n ( ) { r e t u r n   a . a p p l y ( b , c | | a r g u m e n t s ) } } , s t a m p : f u n c t i o n ( ) { v a r   a = 0 , b = " _ l e a f l e t _ i d " ; r e t u r n   f u n c t i o n ( c ) { c [ b ] = c [ b ] | | + + a ; r e t u r n   c [ b ] } } ( ) , i n v o k e E a c h : f u n c t i o n ( a , b , c ) { v a r   d , e ; i f ( t y p e o f   a = = = " o b j e c t " ) { e = A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s , 3 ) ; f o r ( d   i n   a ) b . a p p l y ( c , [ d , a [ d ] ] . c o n c a t ( e ) ) ; r e t u r n ! 0 } r e t u r n ! 1 } , l i m i t E x e c B y I n t e r v a l : f u n c t i o n ( a , b , c ) { _ _ p & & _ _ p ( ) ; v a r   d , e ; r e t u r n   f u n c t i o n   f ( ) { v a r   g = a r g u m e n t s ; i f ( d ) { e = ! 0 ; r e t u r n } d = ! 0 ; s e t T i m e o u t ( f u n c t i o n ( ) { d = ! 1 , e & & ( f . a p p l y ( c , g ) , e = ! 1 ) } , b ) ; a . a p p l y ( c , g ) } } , f a l s e F n : f u n c t i o n ( ) { r e t u r n ! 1 } , f o r m a t N u m : f u n c t i o n ( a , b ) { b = M a t h . p o w ( 1 0 , b | | 5 ) ; r e t u r n   M a t h . r o u n d ( a * b ) / b } , t r i m : f u n c t i o n ( a ) { r e t u r n   a . t r i m ? a . t r i m ( ) : a . r e p l a c e ( / ^ \ s + | \ s + $ / g , " " ) } , s p l i t W o r d s : f u n c t i o n ( a ) { r e t u r n   f . U t i l . t r i m ( a ) . s p l i t ( / \ s + / ) } , s e t O p t i o n s : f u n c t i o n ( a , b ) { a . o p t i o n s = f . e x t e n d ( { } , a . o p t i o n s , b ) ; r e t u r n   a . o p t i o n s } , g e t P a r a m S t r i n g : f u n c t i o n ( a , b , c ) { v a r   d = [ ] ; f o r ( v a r   e   i n   a ) d . p u s h ( e n c o d e U R I C o m p o n e n t ( c ? e . t o U p p e r C a s e ( ) : e ) + " = " + e n c o d e U R I C o m p o n e n t ( a [ e ] ) ) ; r e t u r n ( ! b | | b . i n d e x O f ( " ? " ) = = = - 1 ? " ? " : " & " ) + d . j o i n ( " & " ) } , t e m p l a t e : f u n c t i o n ( a , b ) { r e t u r n   a . r e p l a c e ( / \ {   * ( [ \ w _ ] + )   * \ } / g , f u n c t i o n ( a , c ) { c = b [ c ] ; i f ( c = = = v o i d   0 ) t h r o w   n e w   E r r o r ( " N o   v a l u e   p r o v i d e d   f o r   v a r i a b l e   " + a ) ; e l s e   t y p e o f   c = = = " f u n c t i o n " & & ( c = c ( b ) ) ; r e t u r n   c } ) } , i s A r r a y : A r r a y . i s A r r a y | | f u n c t i o n ( a ) { r e t u r n   O b j e c t . p r o t o t y p e . t o S t r i n g . c a l l ( a ) = = = " [ o b j e c t   A r r a y ] " } , e m p t y I m a g e U r l : " d a t a : i m a g e / g i f ; b a s e 6 4 , R 0 l G O D l h A Q A B A A D / A C w A A A A A A Q A B A A A C A D s = " } ; ( f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; f u n c t i o n   b ( b ) { v a r   c , d , e = [ " w e b k i t " , " m o z " , " o " , " m s " ] ; f o r ( c = 0 ; c < e . l e n g t h & & ! d ; c + + ) d = a [ e [ c ] + b ] ; r e t u r n   d } v a r   c = 0 ; f u n c t i o n   d ( b ) { v a r   d = + n e w   D a t e ( ) , e = M a t h . m a x ( 0 , 1 6 - ( d - c ) ) ; c = d + e ; r e t u r n   a . s e t T i m e o u t ( b , e ) } v a r   e = a . r e q u e s t A n i m a t i o n F r a m e | | b ( " R e q u e s t A n i m a t i o n F r a m e " ) | | d , g = a . c a n c e l A n i m a t i o n F r a m e | | b ( " C a n c e l A n i m a t i o n F r a m e " ) | | b ( " C a n c e l R e q u e s t A n i m a t i o n F r a m e " ) | | f u n c t i o n ( b ) { a . c l e a r T i m e o u t ( b ) } ; f . U t i l . r e q u e s t A n i m F r a m e = f u n c t i o n ( b , c , g , h ) { b = f . b i n d ( b , c ) ; i f ( g & & e = = = d ) b ( ) ; e l s e   r e t u r n   e . c a l l ( a , b , h ) } ; f . U t i l . c a n c e l A n i m F r a m e = f u n c t i o n ( b ) { b & & g . c a l l ( a , b ) } } ) ( ) ; f . e x t e n d = f . U t i l . e x t e n d ; f . b i n d = f . U t i l . b i n d ; f . s t a m p = f . U t i l . s t a m p ; f . s e t O p t i o n s = f . U t i l . s e t O p t i o n s ; f . C l a s s = f u n c t i o n ( ) { } ; f . C l a s s . e x t e n d = f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   b = f u n c t i o n ( ) { t h i s . i n i t i a l i z e & & t h i s . i n i t i a l i z e . a p p l y ( t h i s , a r g u m e n t s ) , t h i s . _ i n i t H o o k s & & t h i s . c a l l I n i t H o o k s ( ) } , c = f u n c t i o n ( ) { } ; c . p r o t o t y p e = t h i s . p r o t o t y p e ; v a r   d = n e w   c ( ) ; d . c o n s t r u c t o r = b ; b . p r o t o t y p e = d ; f o r ( v a r   e   i n   t h i s ) t h i s . h a s O w n P r o p e r t y ( e ) & & e ! = = " p r o t o t y p e " & & ( b [ e ] = t h i s [ e ] ) ; a . s t a t i c s & & ( f . e x t e n d ( b , a . s t a t i c s ) , d e l e t e   a . s t a t i c s ) ; a . i n c l u d e s & & ( f . U t i l . e x t e n d . a p p l y ( n u l l , [ d ] . c o n c a t ( a . i n c l u d e s ) ) , d e l e t e   a . i n c l u d e s ) ; a . o p t i o n s & & d . o p t i o n s & & ( a . o p t i o n s = f . e x t e n d ( { } , d . o p t i o n s , a . o p t i o n s ) ) ; f . e x t e n d ( d , a ) ; d . _ i n i t H o o k s = [ ] ; v a r   g = t h i s ; b . _ _ s u p e r _ _ = g . p r o t o t y p e ; d . c a l l I n i t H o o k s = f u n c t i o n ( ) { i f ( t h i s . _ i n i t H o o k s C a l l e d ) r e t u r n ; g . p r o t o t y p e . c a l l I n i t H o o k s & & g . p r o t o t y p e . c a l l I n i t H o o k s . c a l l ( t h i s ) ; t h i s . _ i n i t H o o k s C a l l e d = ! 0 ; f o r ( v a r   a = 0 , b = d . _ i n i t H o o k s . l e n g t h ; a < b ; a + + ) d . _ i n i t H o o k s [ a ] . c a l l ( t h i s ) } ; r e t u r n   b } ; f . C l a s s . i n c l u d e = f u n c t i o n ( a ) { f . e x t e n d ( t h i s . p r o t o t y p e , a ) } ; f . C l a s s . m e r g e O p t i o n s = f u n c t i o n ( a ) { f . e x t e n d ( t h i s . p r o t o t y p e . o p t i o n s , a ) } ; f . C l a s s . a d d I n i t H o o k = f u n c t i o n ( a ) { v a r   b = A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s , 1 ) , c = t y p e o f   a = = = " f u n c t i o n " ? a : f u n c t i o n ( ) { t h i s [ a ] . a p p l y ( t h i s , b ) } ; t h i s . p r o t o t y p e . _ i n i t H o o k s = t h i s . p r o t o t y p e . _ i n i t H o o k s | | [ ] ; t h i s . p r o t o t y p e . _ i n i t H o o k s . p u s h ( c ) } ; v a r   g = " _ l e a f l e t _ e v e n t s " ; f . M i x i n = { } ; f . M i x i n . E v e n t s = { a d d E v e n t L i s t e n e r : f u n c t i o n ( a , b , c ) { i f ( f . U t i l . i n v o k e E a c h ( a , t h i s . a d d E v e n t L i s t e n e r , t h i s , b , c ) ) r e t u r n   t h i s ; v a r   d = t h i s [ g ] = t h i s [ g ] | | { } , e = c & & c ! = = t h i s & & f . s t a m p ( c ) , h , i , e v e n t , j , k , l ; a = f . U t i l . s p l i t W o r d s ( a ) ; f o r ( h = 0 , i = a . l e n g t h ; h < i ; h + + ) e v e n t = { a c t i o n : b , c o n t e x t : c | | t h i s } , j = a [ h ] , e ? ( k = j + " _ i d x " , l = k + " _ l e n " , k = d [ k ] = d [ k ] | | { } , k [ e ] | | ( k [ e ] = [ ] , d [ l ] = ( d [ l ] | | 0 ) + 1 ) , k [ e ] . p u s h ( e v e n t ) ) : ( d [ j ] = d [ j ] | | [ ] , d [ j ] . p u s h ( e v e n t ) ) ; r e t u r n   t h i s } , h a s E v e n t L i s t e n e r s : f u n c t i o n ( a ) { v a r   b = t h i s [ g ] ; r e t u r n ! ! b & & ( a   i n   b & & b [ a ] . l e n g t h > 0 | | a + " _ i d x " i n   b & & b [ a + " _ i d x _ l e n " ] > 0 ) } , r e m o v e E v e n t L i s t e n e r : f u n c t i o n ( a , b , c ) { _ _ p & & _ _ p ( ) ; i f ( ! t h i s [ g ] ) r e t u r n   t h i s ; i f ( ! a ) r e t u r n   t h i s . c l e a r A l l E v e n t L i s t e n e r s ( ) ; i f ( f . U t i l . i n v o k e E a c h ( a , t h i s . r e m o v e E v e n t L i s t e n e r , t h i s , b , c ) ) r e t u r n   t h i s ; v a r   d = t h i s [ g ] , e = c & & c ! = = t h i s & & f . s t a m p ( c ) , h , i , j , k , l , m , n ; a = f . U t i l . s p l i t W o r d s ( a ) ; f o r ( h = 0 , i = a . l e n g t h ; h < i ; h + + ) { j = a [ h ] ; k = j + " _ i d x " ; l = k + " _ l e n " ; m = d [ k ] ; i f ( ! b ) d e l e t e   d [ j ] , d e l e t e   d [ k ] , d e l e t e   d [ l ] ; e l s e { k = e & & m ? m [ e ] : d [ j ] ; i f ( k ) { f o r ( j = k . l e n g t h - 1 ; j > = 0 ; j - - ) k [ j ] . a c t i o n = = = b & & ( ! c | | k [ j ] . c o n t e x t = = = c ) & & ( n = k . s p l i c e ( j , 1 ) , n [ 0 ] . a c t i o n = f . U t i l . f a l s e F n ) ; c & & m & & k . l e n g t h = = = 0 & & ( d e l e t e   m [ e ] , d [ l ] - - ) } } } r e t u r n   t h i s } , c l e a r A l l E v e n t L i s t e n e r s : f u n c t i o n ( ) { d e l e t e   t h i s [ g ] ; r e t u r n   t h i s } , f i r e E v e n t : f u n c t i o n ( a , b ) { _ _ p & & _ _ p ( ) ; i f ( ! t h i s . h a s E v e n t L i s t e n e r s ( a ) ) r e t u r n   t h i s ; v a r   e v e n t = f . U t i l . e x t e n d ( { } , b , { t y p e : a , t a r g e t : t h i s } ) ; b = t h i s [ g ] ; v a r   c , d , e ; i f ( b [ a ] ) { c = b [ a ] . s l i c e ( ) ; f o r ( d = 0 , e = c . l e n g t h ; d < e ; d + + ) c [ d ] . a c t i o n . c a l l ( c [ d ] . c o n t e x t , e v e n t ) } b = b [ a + " _ i d x " ] ; f o r ( a   i n   b ) { c = b [ a ] . s l i c e ( ) ; i f ( c ) f o r ( d = 0 , e = c . l e n g t h ; d < e ; d + + ) c [ d ] . a c t i o n . c a l l ( c [ d ] . c o n t e x t , e v e n t ) } r e t u r n   t h i s } , a d d O n e T i m e E v e n t L i s t e n e r : f u n c t i o n ( a , b , c ) { i f ( f . U t i l . i n v o k e E a c h ( a , t h i s . a d d O n e T i m e E v e n t L i s t e n e r , t h i s , b , c ) ) r e t u r n   t h i s ; v a r   d = f . b i n d ( f u n c t i o n ( ) { t h i s . r e m o v e E v e n t L i s t e n e r ( a , b , c ) . r e m o v e E v e n t L i s t e n e r ( a , d , c ) } , t h i s ) ; r e t u r n   t h i s . a d d E v e n t L i s t e n e r ( a , b , c ) . a d d E v e n t L i s t e n e r ( a , d , c ) } } ; f . M i x i n . E v e n t s . o n = f . M i x i n . E v e n t s . a d d E v e n t L i s t e n e r ; f . M i x i n . E v e n t s . o f f = f . M i x i n . E v e n t s . r e m o v e E v e n t L i s t e n e r ; f . M i x i n . E v e n t s . o n c e = f . M i x i n . E v e n t s . a d d O n e T i m e E v e n t L i s t e n e r ; f . M i x i n . E v e n t s . f i r e = f . M i x i n . E v e n t s . f i r e E v e n t ; ( f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   c = " A c t i v e X O b j e c t " i n   a , d = c & & ! b . a d d E v e n t L i s t e n e r , e = n a v i g a t o r . u s e r A g e n t . t o L o w e r C a s e ( ) , g = e . i n d e x O f ( " w e b k i t " ) ! = = - 1 , h = e . i n d e x O f ( " c h r o m e " ) ! = = - 1 , i = e . i n d e x O f ( " p h a n t o m " ) ! = = - 1 , j = e . i n d e x O f ( " a n d r o i d " ) ! = = - 1 , k = e . s e a r c h ( " a n d r o i d   [ 2 3 ] " ) ! = = - 1 ; e = e . i n d e x O f ( " g e c k o " ) ! = = - 1 ; v a r   l = t y p e o f   o r i e n t a t i o n ! = = v o i d   0 + " " , m = a . n a v i g a t o r & & a . n a v i g a t o r . m s P o i n t e r E n a b l e d & & a . n a v i g a t o r . m s M a x T o u c h P o i n t s & & ! a . P o i n t e r E v e n t , n = a . P o i n t e r E v e n t & & a . n a v i g a t o r . p o i n t e r E n a b l e d & & a . n a v i g a t o r . m a x T o u c h P o i n t s | | m , o = " d e v i c e P i x e l R a t i o " i n   a & & a . d e v i c e P i x e l R a t i o > 1 | | " m a t c h M e d i a " i n   a & & a . m a t c h M e d i a ( " ( m i n - r e s o l u t i o n : 1 4 4 d p i ) " ) & & a . m a t c h M e d i a ( " ( m i n - r e s o l u t i o n : 1 4 4 d p i ) " ) . m a t c h e s , p = b . d o c u m e n t E l e m e n t , q = p & & c & & " t r a n s i t i o n " i n   p . s t y l e , r = p & & " W e b K i t C S S M a t r i x " i n   a & & " m 1 1 " i n   n e w   a . W e b K i t C S S M a t r i x ( ) & & ! k , s = p & & " M o z P e r s p e c t i v e " i n   p . s t y l e , t = p & & " O T r a n s i t i o n " i n   p . s t y l e , u = ! a . L _ D I S A B L E _ 3 D & & ( q | | r | | s | | t ) & & ! i ; i = ! a . L _ N O _ T O U C H & & ! i & & p & & f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   a = " o n t o u c h s t a r t " ; i f ( n | | a   i n   p ) r e t u r n ! 0 ; v a r   c = b . c r e a t e E l e m e n t ( " d i v " ) , d = ! 1 ; i f ( ! c . s e t A t t r i b u t e ) r e t u r n ! 1 ; c . s e t A t t r i b u t e ( a , " r e t u r n ; " ) ; t y p e o f   c [ a ] = = = " f u n c t i o n " & & ( d = ! 0 ) ; c . r e m o v e A t t r i b u t e ( a ) ; c = n u l l ; r e t u r n   d } ( ) ; f . B r o w s e r = { i e : c , i e l t 9 : d , w e b k i t : g , g e c k o : e & & ! g & & ! a . o p e r a & & ! c , a n d r o i d : j , a n d r o i d 2 3 : k , c h r o m e : h , i e 3 d : q , w e b k i t 3 d : r , g e c k o 3 d : s , o p e r a 3 d : t , a n y 3 d : u , m o b i l e : l , m o b i l e W e b k i t : l & & g , m o b i l e W e b k i t 3 d : l & & r , m o b i l e O p e r a : l & & a . o p e r a , t o u c h : i , m s P o i n t e r : m , p o i n t e r : n , r e t i n a : o } } ) ( ) ; f . P o i n t = f u n c t i o n ( a , b , c ) { t h i s . x = c ? M a t h . r o u n d ( a ) : a , t h i s . y = c ? M a t h . r o u n d ( b ) : b } ; f . P o i n t . p r o t o t y p e = { c l o n e : f u n c t i o n ( ) { r e t u r n   n e w   f . P o i n t ( t h i s . x , t h i s . y ) } , a d d : f u n c t i o n ( a ) { r e t u r n   t h i s . c l o n e ( ) . _ a d d ( f . p o i n t ( a ) ) } , _ a d d : f u n c t i o n ( a ) { t h i s . x + = a . x ; t h i s . y + = a . y ; r e t u r n   t h i s } , s u b t r a c t : f u n c t i o n ( a ) { r e t u r n   t h i s . c l o n e ( ) . _ s u b t r a c t ( f . p o i n t ( a ) ) } , _ s u b t r a c t : f u n c t i o n ( a ) { t h i s . x - = a . x ; t h i s . y - = a . y ; r e t u r n   t h i s } , d i v i d e B y : f u n c t i o n ( a ) { r e t u r n   t h i s . c l o n e ( ) . _ d i v i d e B y ( a ) } , _ d i v i d e B y : f u n c t i o n ( a ) { t h i s . x / = a ; t h i s . y / = a ; r e t u r n   t h i s } , m u l t i p l y B y : f u n c t i o n ( a ) { r e t u r n   t h i s . c l o n e ( ) . _ m u l t i p l y B y ( a ) } , _ m u l t i p l y B y : f u n c t i o n ( a ) { t h i s . x * = a ; t h i s . y * = a ; r e t u r n   t h i s } , r o u n d : f u n c t i o n ( ) { r e t u r n   t h i s . c l o n e ( ) . _ r o u n d ( ) } , _ r o u n d : f u n c t i o n ( ) { t h i s . x = M a t h . r o u n d ( t h i s . x ) ; t h i s . y = M a t h . r o u n d ( t h i s . y ) ; r e t u r n   t h i s } , f l o o r : f u n c t i o n ( ) { r e t u r n   t h i s . c l o n e ( ) . _ f l o o r ( ) } , _ f l o o r : f u n c t i o n ( ) { t h i s . x = M a t h . f l o o r ( t h i s . x ) ; t h i s . y = M a t h . f l o o r ( t h i s . y ) ; r e t u r n   t h i s } , d i s t a n c e T o : f u n c t i o n ( a ) { a = f . p o i n t ( a ) ; v a r   b = a . x - t h i s . x ; a = a . y - t h i s . y ; r e t u r n   M a t h . s q r t ( b * b + a * a ) } , e q u a l s : f u n c t i o n ( a ) { a = f . p o i n t ( a ) ; r e t u r n   a . x = = = t h i s . x & & a . y = = = t h i s . y } , c o n t a i n s : f u n c t i o n ( a ) { a = f . p o i n t ( a ) ; r e t u r n   M a t h . a b s ( a . x ) < = M a t h . a b s ( t h i s . x ) & & M a t h . a b s ( a . y ) < = M a t h . a b s ( t h i s . y ) } , t o S t r i n g : f u n c t i o n ( ) { r e t u r n " P o i n t ( " + f . U t i l . f o r m a t N u m ( t h i s . x ) + " ,   " + f . U t i l . f o r m a t N u m ( t h i s . y ) + " ) " } } ; f . p o i n t = f u n c t i o n ( a , b , c ) { i f ( a   i n s t a n c e o f   f . P o i n t ) r e t u r n   a ; i f ( f . U t i l . i s A r r a y ( a ) ) r e t u r n   n e w   f . P o i n t ( a [ 0 ] , a [ 1 ] ) ; r e t u r n   a = = = v o i d   0 | | a = = = n u l l ? a : n e w   f . P o i n t ( a , b , c ) } ; f . B o u n d s = f u n c t i o n ( a , b ) { i f ( ! a ) r e t u r n ; b = b ? [ a , b ] : a ; f o r ( v a r   a = 0 , c = b . l e n g t h ; a < c ; a + + ) t h i s . e x t e n d ( b [ a ] ) } ; f . B o u n d s . p r o t o t y p e = { e x t e n d : f u n c t i o n ( a ) { a = f . p o i n t ( a ) ; ! t h i s . m i n & & ! t h i s . m a x ? ( t h i s . m i n = a . c l o n e ( ) , t h i s . m a x = a . c l o n e ( ) ) : ( t h i s . m i n . x = M a t h . m i n ( a . x , t h i s . m i n . x ) , t h i s . m a x . x = M a t h . m a x ( a . x , t h i s . m a x . x ) , t h i s . m i n . y = M a t h . m i n ( a . y , t h i s . m i n . y ) , t h i s . m a x . y = M a t h . m a x ( a . y , t h i s . m a x . y ) ) ; r e t u r n   t h i s } , g e t C e n t e r : f u n c t i o n ( a ) { r e t u r n   n e w   f . P o i n t ( ( t h i s . m i n . x + t h i s . m a x . x ) / 2 , ( t h i s . m i n . y + t h i s . m a x . y ) / 2 , a ) } , g e t B o t t o m L e f t : f u n c t i o n ( ) { r e t u r n   n e w   f . P o i n t ( t h i s . m i n . x , t h i s . m a x . y ) } , g e t T o p R i g h t : f u n c t i o n ( ) { r e t u r n   n e w   f . P o i n t ( t h i s . m a x . x , t h i s . m i n . y ) } , g e t S i z e : f u n c t i o n ( ) { r e t u r n   t h i s . m a x . s u b t r a c t ( t h i s . m i n ) } , c o n t a i n s : f u n c t i o n ( a ) { v a r   b , c ; t y p e o f   a [ 0 ] = = = " n u m b e r " | | a   i n s t a n c e o f   f . P o i n t ? a = f . p o i n t ( a ) : a = f . b o u n d s ( a ) ; a   i n s t a n c e o f   f . B o u n d s ? ( b = a . m i n , c = a . m a x ) : b = c = a ; r e t u r n   b . x > = t h i s . m i n . x & & c . x < = t h i s . m a x . x & & b . y > = t h i s . m i n . y & & c . y < = t h i s . m a x . y } , i n t e r s e c t s : f u n c t i o n ( a ) { a = f . b o u n d s ( a ) ; v a r   b = t h i s . m i n , c = t h i s . m a x , d = a . m i n ; a = a . m a x ; v a r   e = a . x > = b . x & & d . x < = c . x ; a = a . y > = b . y & & d . y < = c . y ; r e t u r n   e & & a } , i s V a l i d : f u n c t i o n ( ) { r e t u r n ! ! ( t h i s . m i n & & t h i s . m a x ) } } ; f . b o u n d s = f u n c t i o n ( a , b ) { r e t u r n ! a | | a   i n s t a n c e o f   f . B o u n d s ? a : n e w   f . B o u n d s ( a , b ) } ; f . T r a n s f o r m a t i o n = f u n c t i o n ( a , b , c , d ) { t h i s . _ a = a , t h i s . _ b = b , t h i s . _ c = c , t h i s . _ d = d } ; f . T r a n s f o r m a t i o n . p r o t o t y p e = { t r a n s f o r m : f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ t r a n s f o r m ( a . c l o n e ( ) , b ) } , _ t r a n s f o r m : f u n c t i o n ( a , b ) { b = b | | 1 ; a . x = b * ( t h i s . _ a * a . x + t h i s . _ b ) ; a . y = b * ( t h i s . _ c * a . y + t h i s . _ d ) ; r e t u r n   a } , u n t r a n s f o r m : f u n c t i o n ( a , b ) { b = b | | 1 ; r e t u r n   n e w   f . P o i n t ( ( a . x / b - t h i s . _ b ) / t h i s . _ a , ( a . y / b - t h i s . _ d ) / t h i s . _ c ) } } ; f . D o m U t i l = { g e t : f u n c t i o n ( a ) { r e t u r n   t y p e o f   a = = = " s t r i n g " ? b . g e t E l e m e n t B y I d ( a ) : a } , g e t S t y l e : f u n c t i o n ( a , c ) { v a r   d = a . s t y l e [ c ] ; ! d & & a . c u r r e n t S t y l e & & ( d = a . c u r r e n t S t y l e [ c ] ) ; i f ( ( ! d | | d = = = " a u t o " ) & & b . d e f a u l t V i e w ) { a = b . d e f a u l t V i e w . g e t C o m p u t e d S t y l e ( a , n u l l ) ; d = a ? a [ c ] : n u l l } r e t u r n   d = = = " a u t o " ? n u l l : d } , g e t V i e w p o r t O f f s e t : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   c = 0 , d = 0 , e = a , g = b . b o d y , h = b . d o c u m e n t E l e m e n t , i ; d o { c + = e . o f f s e t T o p | | 0 ; d + = e . o f f s e t L e f t | | 0 ; c + = p a r s e I n t ( f . D o m U t i l . g e t S t y l e ( e , " b o r d e r T o p W i d t h " ) , 1 0 ) | | 0 ; d + = p a r s e I n t ( f . D o m U t i l . g e t S t y l e ( e , " b o r d e r L e f t W i d t h " ) , 1 0 ) | | 0 ; i = f . D o m U t i l . g e t S t y l e ( e , " p o s i t i o n " ) ; i f ( e . o f f s e t P a r e n t = = = g & & i = = = " a b s o l u t e " ) b r e a k ; i f ( i = = = " f i x e d " ) { c + = g . s c r o l l T o p | | h . s c r o l l T o p | | 0 ; d + = g . s c r o l l L e f t | | h . s c r o l l L e f t | | 0 ; b r e a k } i f ( i = = = " r e l a t i v e " & & ! e . o f f s e t L e f t ) { i = f . D o m U t i l . g e t S t y l e ( e , " w i d t h " ) ; v a r   j = f . D o m U t i l . g e t S t y l e ( e , " m a x - w i d t h " ) , k = e . g e t B o u n d i n g C l i e n t R e c t ( ) ; ( i ! = = " n o n e " | | j ! = = " n o n e " ) & & ( d + = k . l e f t + e . c l i e n t L e f t ) ; c + = k . t o p + ( g . s c r o l l T o p | | h . s c r o l l T o p | | 0 ) ; b r e a k } e = e . o f f s e t P a r e n t } w h i l e ( e ) ; e = a ; d o { i f ( e = = = g ) b r e a k ; c - = e . s c r o l l T o p | | 0 ; d - = e . s c r o l l L e f t | | 0 ; e = e . p a r e n t N o d e } w h i l e ( e ) ; r e t u r n   n e w   f . P o i n t ( d , c ) } , d o c u m e n t I s L t r : f u n c t i o n ( ) { f . D o m U t i l . _ d o c I s L t r C a c h e d | | ( f . D o m U t i l . _ d o c I s L t r C a c h e d = ! 0 , f . D o m U t i l . _ d o c I s L t r = f . D o m U t i l . g e t S t y l e ( b . b o d y , " d i r e c t i o n " ) = = = " l t r " ) ; r e t u r n   f . D o m U t i l . _ d o c I s L t r } , c r e a t e : f u n c t i o n ( a , c , d ) { a = b . c r e a t e E l e m e n t ( a ) ; a . c l a s s N a m e = c ; d & & d . a p p e n d C h i l d ( a ) ; r e t u r n   a } , h a s C l a s s : f u n c t i o n ( a , b ) { i f ( a . c l a s s L i s t ! = = v o i d   0 ) r e t u r n   a . c l a s s L i s t . c o n t a i n s ( b ) ; a = f . D o m U t i l . _ g e t C l a s s ( a ) ; r e t u r n   a . l e n g t h > 0 & & n e w   R e g E x p ( " ( ^ | \ \ s ) " + b + " ( \ \ s | $ ) " ) . t e s t ( a ) } , a d d C l a s s : f u n c t i o n ( a , b ) { i f ( a . c l a s s L i s t ! = = v o i d   0 ) { v a r   c = f . U t i l . s p l i t W o r d s ( b ) ; f o r ( v a r   d = 0 , e = c . l e n g t h ; d < e ; d + + ) a . c l a s s L i s t . a d d ( c [ d ] ) } e l s e   i f ( ! f . D o m U t i l . h a s C l a s s ( a , b ) ) { c = f . D o m U t i l . _ g e t C l a s s ( a ) ; f . D o m U t i l . _ s e t C l a s s ( a , ( c ? c + "   " : " " ) + b ) } } , r e m o v e C l a s s : f u n c t i o n ( a , b ) { a . c l a s s L i s t ! = = v o i d   0 ? a . c l a s s L i s t . r e m o v e ( b ) : f . D o m U t i l . _ s e t C l a s s ( a , f . U t i l . t r i m ( ( "   " + f . D o m U t i l . _ g e t C l a s s ( a ) + "   " ) . r e p l a c e ( "   " + b + "   " , "   " ) ) ) } , _ s e t C l a s s : f u n c t i o n ( a , b ) { a . c l a s s N a m e . b a s e V a l = = = v o i d   0 ? a . c l a s s N a m e = b : a . c l a s s N a m e . b a s e V a l = b } , _ g e t C l a s s : f u n c t i o n ( a ) { r e t u r n   a . c l a s s N a m e . b a s e V a l = = = v o i d   0 ? a . c l a s s N a m e : a . c l a s s N a m e . b a s e V a l } , s e t O p a c i t y : f u n c t i o n ( a , b ) { _ _ p & & _ _ p ( ) ; i f ( " o p a c i t y " i n   a . s t y l e ) a . s t y l e . o p a c i t y = b ; e l s e   i f ( " f i l t e r " i n   a . s t y l e ) { v a r   c = ! 1 , d = " D X I m a g e T r a n s f o r m . M i c r o s o f t . A l p h a " ; t r y { c = a . f i l t e r s . i t e m ( d ) } c a t c h ( a ) { i f ( b = = = 1 ) r e t u r n } b = M a t h . r o u n d ( b * 1 0 0 ) ; c ? ( c . E n a b l e d = b ! = = 1 0 0 , c . O p a c i t y = b ) : a . s t y l e . f i l t e r + = "   p r o g i d : " + d + " ( o p a c i t y = " + b + " ) " } } , t e s t P r o p : f u n c t i o n ( a ) { i f ( ! b . d o c u m e n t E l e m e n t ) r e t u r n ! 1 ; v a r   c = b . d o c u m e n t E l e m e n t . s t y l e ; f o r ( v a r   d = 0 ; d < a . l e n g t h ; d + + ) i f ( a [ d ] i n   c ) r e t u r n   a [ d ] ; r e t u r n ! 1 } , g e t T r a n s l a t e S t r i n g : f u n c t i o n ( a ) { v a r   b = f . B r o w s e r . w e b k i t 3 d , c = " t r a n s l a t e " + ( b ? " 3 d " : " " ) + " ( " ; b = ( b ? " , 0 " : " " ) + " ) " ; r e t u r n   c + a . x + " p x , " + a . y + " p x " + b } , g e t S c a l e S t r i n g : f u n c t i o n ( a , b ) { b = f . D o m U t i l . g e t T r a n s l a t e S t r i n g ( b . a d d ( b . m u l t i p l y B y ( - 1 * a ) ) ) ; a = "   s c a l e ( " + a + " )   " ; r e t u r n   b + a } , s e t P o s i t i o n : f u n c t i o n ( a , b , c ) { a . _ l e a f l e t _ p o s = b , ! c & & f . B r o w s e r . a n y 3 d ? a . s t y l e [ f . D o m U t i l . T R A N S F O R M ] = f . D o m U t i l . g e t T r a n s l a t e S t r i n g ( b ) : ( a . s t y l e . l e f t = b . x + " p x " , a . s t y l e . t o p = b . y + " p x " ) } , g e t P o s i t i o n : f u n c t i o n ( a ) { r e t u r n   a . _ l e a f l e t _ p o s } } ; f . D o m U t i l . T R A N S F O R M = f . D o m U t i l . t e s t P r o p ( [ " t r a n s f o r m " , " W e b k i t T r a n s f o r m " , " O T r a n s f o r m " , " M o z T r a n s f o r m " , " m s T r a n s f o r m " ] ) ; f . D o m U t i l . T R A N S I T I O N = f . D o m U t i l . t e s t P r o p ( [ " w e b k i t T r a n s i t i o n " , " t r a n s i t i o n " , " O T r a n s i t i o n " , " M o z T r a n s i t i o n " , " m s T r a n s i t i o n " ] ) ; f . D o m U t i l . T R A N S I T I O N _ E N D = f . D o m U t i l . T R A N S I T I O N = = = " w e b k i t T r a n s i t i o n " | | f . D o m U t i l . T R A N S I T I O N = = = " O T r a n s i t i o n " ? f . D o m U t i l . T R A N S I T I O N + " E n d " : " t r a n s i t i o n e n d " ; ( f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; i f ( " o n s e l e c t s t a r t " i n   b ) f . e x t e n d ( f . D o m U t i l , { d i s a b l e T e x t S e l e c t i o n : f u n c t i o n ( ) { f . D o m E v e n t . o n ( a , " s e l e c t s t a r t " , f . D o m E v e n t . p r e v e n t D e f a u l t ) } , e n a b l e T e x t S e l e c t i o n : f u n c t i o n ( ) { f . D o m E v e n t . o f f ( a , " s e l e c t s t a r t " , f . D o m E v e n t . p r e v e n t D e f a u l t ) } } ) ; e l s e { v a r   c = f . D o m U t i l . t e s t P r o p ( [ " u s e r S e l e c t " , " W e b k i t U s e r S e l e c t " , " O U s e r S e l e c t " , " M o z U s e r S e l e c t " , " m s U s e r S e l e c t " ] ) ; f . e x t e n d ( f . D o m U t i l , { d i s a b l e T e x t S e l e c t i o n : f u n c t i o n ( ) { i f ( c ) { v a r   a = b . d o c u m e n t E l e m e n t . s t y l e ; t h i s . _ u s e r S e l e c t = a [ c ] ; a [ c ] = " n o n e " } } , e n a b l e T e x t S e l e c t i o n : f u n c t i o n ( ) { c & & ( b . d o c u m e n t E l e m e n t . s t y l e [ c ] = t h i s . _ u s e r S e l e c t , d e l e t e   t h i s . _ u s e r S e l e c t ) } } ) } f . e x t e n d ( f . D o m U t i l , { d i s a b l e I m a g e D r a g : f u n c t i o n ( ) { f . D o m E v e n t . o n ( a , " d r a g s t a r t " , f . D o m E v e n t . p r e v e n t D e f a u l t ) } , e n a b l e I m a g e D r a g : f u n c t i o n ( ) { f . D o m E v e n t . o f f ( a , " d r a g s t a r t " , f . D o m E v e n t . p r e v e n t D e f a u l t ) } } ) } ) ( ) ; f . L a t L n g = f u n c t i o n ( a , b , c ) { a = p a r s e F l o a t ( a ) ; b = p a r s e F l o a t ( b ) ; i f ( i s N a N ( a ) | | i s N a N ( b ) ) t h r o w   n e w   E r r o r ( " I n v a l i d   L a t L n g   o b j e c t :   ( " + a + " ,   " + b + " ) " ) ; t h i s . l a t = a ; t h i s . l n g = b ; c ! = = v o i d   0 & & ( t h i s . a l t = p a r s e F l o a t ( c ) ) } ; f . e x t e n d ( f . L a t L n g , { D E G _ T O _ R A D : M a t h . P I / 1 8 0 , R A D _ T O _ D E G : 1 8 0 / M a t h . P I , M A X _ M A R G I N : 1 e - 9 } ) ; f . L a t L n g . p r o t o t y p e = { e q u a l s : f u n c t i o n ( a ) { i f ( ! a ) r e t u r n ! 1 ; a = f . l a t L n g ( a ) ; a = M a t h . m a x ( M a t h . a b s ( t h i s . l a t - a . l a t ) , M a t h . a b s ( t h i s . l n g - a . l n g ) ) ; r e t u r n   a < = f . L a t L n g . M A X _ M A R G I N } , t o S t r i n g : f u n c t i o n ( a ) { r e t u r n " L a t L n g ( " + f . U t i l . f o r m a t N u m ( t h i s . l a t , a ) + " ,   " + f . U t i l . f o r m a t N u m ( t h i s . l n g , a ) + " ) " } , d i s t a n c e T o : f u n c t i o n ( a ) { a = f . l a t L n g ( a ) ; v a r   b = 6 3 7 8 1 3 7 , c = f . L a t L n g . D E G _ T O _ R A D , d = ( a . l a t - t h i s . l a t ) * c , e = ( a . l n g - t h i s . l n g ) * c , g = t h i s . l a t * c ; a = a . l a t * c ; c = M a t h . s i n ( d / 2 ) ; d = M a t h . s i n ( e / 2 ) ; e = c * c + d * d * M a t h . c o s ( g ) * M a t h . c o s ( a ) ; r e t u r n   b * 2 * M a t h . a t a n 2 ( M a t h . s q r t ( e ) , M a t h . s q r t ( 1 - e ) ) } , w r a p : f u n c t i o n ( a , b ) { v a r   c = t h i s . l n g ; a = a | | - 1 8 0 ; b = b | | 1 8 0 ; c = ( c + b ) % ( b - a ) + ( c < a | | c = = = b ? b : a ) ; r e t u r n   n e w   f . L a t L n g ( t h i s . l a t , c ) } } ; f . l a t L n g = f u n c t i o n ( a , b ) { _ _ p & & _ _ p ( ) ; i f ( a   i n s t a n c e o f   f . L a t L n g ) r e t u r n   a ; i f ( f . U t i l . i s A r r a y ( a ) ) i f ( t y p e o f   a [ 0 ] = = = " n u m b e r " | | t y p e o f   a [ 0 ] = = = " s t r i n g " ) r e t u r n   n e w   f . L a t L n g ( a [ 0 ] , a [ 1 ] , a [ 2 ] ) ; e l s e   r e t u r n   n u l l ; i f ( a = = = v o i d   0 | | a = = = n u l l ) r e t u r n   a ; i f ( t y p e o f   a = = = " o b j e c t " & & " l a t " i n   a ) r e t u r n   n e w   f . L a t L n g ( a . l a t , " l n g " i n   a ? a . l n g : a . l o n ) ; r e t u r n   b = = = v o i d   0 ? n u l l : n e w   f . L a t L n g ( a , b ) } ; f . L a t L n g B o u n d s = f u n c t i o n ( a , b ) { i f ( ! a ) r e t u r n ; b = b ? [ a , b ] : a ; f o r ( v a r   a = 0 , c = b . l e n g t h ; a < c ; a + + ) t h i s . e x t e n d ( b [ a ] ) } ; f . L a t L n g B o u n d s . p r o t o t y p e = { e x t e n d : f u n c t i o n ( a ) { i f ( ! a ) r e t u r n   t h i s ; v a r   b = f . l a t L n g ( a ) ; b ! = = n u l l ? a = b : a = f . l a t L n g B o u n d s ( a ) ; a   i n s t a n c e o f   f . L a t L n g ? ! t h i s . _ s o u t h W e s t & & ! t h i s . _ n o r t h E a s t ? ( t h i s . _ s o u t h W e s t = n e w   f . L a t L n g ( a . l a t , a . l n g ) , t h i s . _ n o r t h E a s t = n e w   f . L a t L n g ( a . l a t , a . l n g ) ) : ( t h i s . _ s o u t h W e s t . l a t = M a t h . m i n ( a . l a t , t h i s . _ s o u t h W e s t . l a t ) , t h i s . _ s o u t h W e s t . l n g = M a t h . m i n ( a . l n g , t h i s . _ s o u t h W e s t . l n g ) , t h i s . _ n o r t h E a s t . l a t = M a t h . m a x ( a . l a t , t h i s . _ n o r t h E a s t . l a t ) , t h i s . _ n o r t h E a s t . l n g = M a t h . m a x ( a . l n g , t h i s . _ n o r t h E a s t . l n g ) ) : a   i n s t a n c e o f   f . L a t L n g B o u n d s & & ( t h i s . e x t e n d ( a . _ s o u t h W e s t ) , t h i s . e x t e n d ( a . _ n o r t h E a s t ) ) ; r e t u r n   t h i s } , p a d : f u n c t i o n ( a ) { v a r   b = t h i s . _ s o u t h W e s t , c = t h i s . _ n o r t h E a s t , d = M a t h . a b s ( b . l a t - c . l a t ) * a ; a = M a t h . a b s ( b . l n g - c . l n g ) * a ; r e t u r n   n e w   f . L a t L n g B o u n d s ( n e w   f . L a t L n g ( b . l a t - d , b . l n g - a ) , n e w   f . L a t L n g ( c . l a t + d , c . l n g + a ) ) } , g e t C e n t e r : f u n c t i o n ( ) { r e t u r n   n e w   f . L a t L n g ( ( t h i s . _ s o u t h W e s t . l a t + t h i s . _ n o r t h E a s t . l a t ) / 2 , ( t h i s . _ s o u t h W e s t . l n g + t h i s . _ n o r t h E a s t . l n g ) / 2 ) } , g e t S o u t h W e s t : f u n c t i o n ( ) { r e t u r n   t h i s . _ s o u t h W e s t } , g e t N o r t h E a s t : f u n c t i o n ( ) { r e t u r n   t h i s . _ n o r t h E a s t } , g e t N o r t h W e s t : f u n c t i o n ( ) { r e t u r n   n e w   f . L a t L n g ( t h i s . g e t N o r t h ( ) , t h i s . g e t W e s t ( ) ) } , g e t S o u t h E a s t : f u n c t i o n ( ) { r e t u r n   n e w   f . L a t L n g ( t h i s . g e t S o u t h ( ) , t h i s . g e t E a s t ( ) ) } , g e t W e s t : f u n c t i o n ( ) { r e t u r n   t h i s . _ s o u t h W e s t . l n g } , g e t S o u t h : f u n c t i o n ( ) { r e t u r n   t h i s . _ s o u t h W e s t . l a t } , g e t E a s t : f u n c t i o n ( ) { r e t u r n   t h i s . _ n o r t h E a s t . l n g } , g e t N o r t h : f u n c t i o n ( ) { r e t u r n   t h i s . _ n o r t h E a s t . l a t } , c o n t a i n s : f u n c t i o n ( a ) { t y p e o f   a [ 0 ] = = = " n u m b e r " | | a   i n s t a n c e o f   f . L a t L n g ? a = f . l a t L n g ( a ) : a = f . l a t L n g B o u n d s ( a ) ; v a r   b = t h i s . _ s o u t h W e s t , c = t h i s . _ n o r t h E a s t , d , e ; a   i n s t a n c e o f   f . L a t L n g B o u n d s ? ( d = a . g e t S o u t h W e s t ( ) , e = a . g e t N o r t h E a s t ( ) ) : d = e = a ; r e t u r n   d . l a t > = b . l a t & & e . l a t < = c . l a t & & d . l n g > = b . l n g & & e . l n g < = c . l n g } , i n t e r s e c t s : f u n c t i o n ( a ) { a = f . l a t L n g B o u n d s ( a ) ; v a r   b = t h i s . _ s o u t h W e s t , c = t h i s . _ n o r t h E a s t , d = a . g e t S o u t h W e s t ( ) ; a = a . g e t N o r t h E a s t ( ) ; v a r   e = a . l a t > = b . l a t & & d . l a t < = c . l a t ; a = a . l n g > = b . l n g & & d . l n g < = c . l n g ; r e t u r n   e & & a } , t o B B o x S t r i n g : f u n c t i o n ( ) { r e t u r n [ t h i s . g e t W e s t ( ) , t h i s . g e t S o u t h ( ) , t h i s . g e t E a s t ( ) , t h i s . g e t N o r t h ( ) ] . j o i n ( " , " ) } , e q u a l s : f u n c t i o n ( a ) { i f ( ! a ) r e t u r n ! 1 ; a = f . l a t L n g B o u n d s ( a ) ; r e t u r n   t h i s . _ s o u t h W e s t . e q u a l s ( a . g e t S o u t h W e s t ( ) ) & & t h i s . _ n o r t h E a s t . e q u a l s ( a . g e t N o r t h E a s t ( ) ) } , i s V a l i d : f u n c t i o n ( ) { r e t u r n ! ! ( t h i s . _ s o u t h W e s t & & t h i s . _ n o r t h E a s t ) } } ; f . l a t L n g B o u n d s = f u n c t i o n ( a , b ) { r e t u r n ! a | | a   i n s t a n c e o f   f . L a t L n g B o u n d s ? a : n e w   f . L a t L n g B o u n d s ( a , b ) } ; f . P r o j e c t i o n = { } ; f . P r o j e c t i o n . S p h e r i c a l M e r c a t o r = { M A X _ L A T I T U D E : 8 5 . 0 5 1 1 2 8 7 7 9 8 , p r o j e c t : f u n c t i o n ( a ) { v a r   b = f . L a t L n g . D E G _ T O _ R A D , c = t h i s . M A X _ L A T I T U D E ; c = M a t h . m a x ( M a t h . m i n ( c , a . l a t ) , - c ) ; a = a . l n g * b ; c = c * b ; c = M a t h . l o g ( M a t h . t a n ( M a t h . P I / 4 + c / 2 ) ) ; r e t u r n   n e w   f . P o i n t ( a , c ) } , u n p r o j e c t : f u n c t i o n ( a ) { v a r   b = f . L a t L n g . R A D _ T O _ D E G , c = a . x * b ; a = ( 2 * M a t h . a t a n ( M a t h . e x p ( a . y ) ) - M a t h . P I / 2 ) * b ; r e t u r n   n e w   f . L a t L n g ( a , c ) } } ; f . P r o j e c t i o n . L o n L a t = { p r o j e c t : f u n c t i o n ( a ) { r e t u r n   n e w   f . P o i n t ( a . l n g , a . l a t ) } , u n p r o j e c t : f u n c t i o n ( a ) { r e t u r n   n e w   f . L a t L n g ( a . y , a . x ) } } ; f . C R S = { l a t L n g T o P o i n t : f u n c t i o n ( a , b ) { a = t h i s . p r o j e c t i o n . p r o j e c t ( a ) ; b = t h i s . s c a l e ( b ) ; r e t u r n   t h i s . t r a n s f o r m a t i o n . _ t r a n s f o r m ( a , b ) } , p o i n t T o L a t L n g : f u n c t i o n ( a , b ) { b = t h i s . s c a l e ( b ) ; a = t h i s . t r a n s f o r m a t i o n . u n t r a n s f o r m ( a , b ) ; r e t u r n   t h i s . p r o j e c t i o n . u n p r o j e c t ( a ) } , p r o j e c t : f u n c t i o n ( a ) { r e t u r n   t h i s . p r o j e c t i o n . p r o j e c t ( a ) } , s c a l e : f u n c t i o n ( a ) { r e t u r n   2 5 6 * M a t h . p o w ( 2 , a ) } , g e t S i z e : f u n c t i o n ( a ) { a = t h i s . s c a l e ( a ) ; r e t u r n   f . p o i n t ( a , a ) } } ; f . C R S . S i m p l e = f . e x t e n d ( { } , f . C R S , { p r o j e c t i o n : f . P r o j e c t i o n . L o n L a t , t r a n s f o r m a t i o n : n e w   f . T r a n s f o r m a t i o n ( 1 , 0 , - 1 , 0 ) , s c a l e : f u n c t i o n ( a ) { r e t u r n   M a t h . p o w ( 2 , a ) } } ) ; f . C R S . E P S G 3 8 5 7 = f . e x t e n d ( { } , f . C R S , { c o d e : " E P S G : 3 8 5 7 " , p r o j e c t i o n : f . P r o j e c t i o n . S p h e r i c a l M e r c a t o r , t r a n s f o r m a t i o n : n e w   f . T r a n s f o r m a t i o n ( . 5 / M a t h . P I , . 5 , - . 5 / M a t h . P I , . 5 ) , p r o j e c t : f u n c t i o n ( a ) { a = t h i s . p r o j e c t i o n . p r o j e c t ( a ) ; v a r   b = 6 3 7 8 1 3 7 ; r e t u r n   a . m u l t i p l y B y ( b ) } } ) ; f . C R S . E P S G 9 0 0 9 1 3 = f . e x t e n d ( { } , f . C R S . E P S G 3 8 5 7 , { c o d e : " E P S G : 9 0 0 9 1 3 " } ) ; f . C R S . E P S G 4 3 2 6 = f . e x t e n d ( { } , f . C R S , { c o d e : " E P S G : 4 3 2 6 " , p r o j e c t i o n : f . P r o j e c t i o n . L o n L a t , t r a n s f o r m a t i o n : n e w   f . T r a n s f o r m a t i o n ( 1 / 3 6 0 , . 5 , - 1 / 3 6 0 , . 5 ) } ) ; f . M a p = f . C l a s s . e x t e n d ( { i n c l u d e s : f . M i x i n . E v e n t s , o p t i o n s : { c r s : f . C R S . E P S G 3 8 5 7 , f a d e A n i m a t i o n : f . D o m U t i l . T R A N S I T I O N & & ! f . B r o w s e r . a n d r o i d 2 3 , t r a c k R e s i z e : ! 0 , m a r k e r Z o o m A n i m a t i o n : f . D o m U t i l . T R A N S I T I O N & & f . B r o w s e r . a n y 3 d } , i n i t i a l i z e : f u n c t i o n ( a , b ) { b = f . s e t O p t i o n s ( t h i s , b ) , t h i s . _ i n i t C o n t a i n e r ( a ) , t h i s . _ i n i t L a y o u t ( ) , t h i s . _ o n R e s i z e = f . b i n d ( t h i s . _ o n R e s i z e , t h i s ) , t h i s . _ i n i t E v e n t s ( ) , b . m a x B o u n d s & & t h i s . s e t M a x B o u n d s ( b . m a x B o u n d s ) , b . c e n t e r & & b . z o o m ! = = v o i d   0 & & t h i s . s e t V i e w ( f . l a t L n g ( b . c e n t e r ) , b . z o o m , { r e s e t : ! 0 } ) , t h i s . _ h a n d l e r s = [ ] , t h i s . _ l a y e r s = { } , t h i s . _ z o o m B o u n d L a y e r s = { } , t h i s . _ t i l e L a y e r s N u m = 0 , t h i s . c a l l I n i t H o o k s ( ) , t h i s . _ a d d L a y e r s ( b . l a y e r s ) } , s e t V i e w : f u n c t i o n ( a , b ) { b = b = = = v o i d   0 ? t h i s . g e t Z o o m ( ) : b ; t h i s . _ r e s e t V i e w ( f . l a t L n g ( a ) , t h i s . _ l i m i t Z o o m ( b ) ) ; r e t u r n   t h i s } , s e t Z o o m : f u n c t i o n ( a , b ) { i f ( ! t h i s . _ l o a d e d ) { t h i s . _ z o o m = t h i s . _ l i m i t Z o o m ( a ) ; r e t u r n   t h i s } r e t u r n   t h i s . s e t V i e w ( t h i s . g e t C e n t e r ( ) , a , { z o o m : b } ) } , z o o m I n : f u n c t i o n ( a , b ) { r e t u r n   t h i s . s e t Z o o m ( t h i s . _ z o o m + ( a | | 1 ) , b ) } , z o o m O u t : f u n c t i o n ( a , b ) { r e t u r n   t h i s . s e t Z o o m ( t h i s . _ z o o m - ( a | | 1 ) , b ) } , s e t Z o o m A r o u n d : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . g e t Z o o m S c a l e ( b ) , e = t h i s . g e t S i z e ( ) . d i v i d e B y ( 2 ) ; a = a   i n s t a n c e o f   f . P o i n t ? a : t h i s . l a t L n g T o C o n t a i n e r P o i n t ( a ) ; a = a . s u b t r a c t ( e ) . m u l t i p l y B y ( 1 - 1 / d ) ; d = t h i s . c o n t a i n e r P o i n t T o L a t L n g ( e . a d d ( a ) ) ; r e t u r n   t h i s . s e t V i e w ( d , b , { z o o m : c } ) } , f i t B o u n d s : f u n c t i o n ( a , b ) { b = b | | { } ; a = a . g e t B o u n d s ? a . g e t B o u n d s ( ) : f . l a t L n g B o u n d s ( a ) ; v a r   c = f . p o i n t ( b . p a d d i n g T o p L e f t | | b . p a d d i n g | | [ 0 , 0 ] ) , d = f . p o i n t ( b . p a d d i n g B o t t o m R i g h t | | b . p a d d i n g | | [ 0 , 0 ] ) , e = t h i s . g e t B o u n d s Z o o m ( a , ! 1 , c . a d d ( d ) ) ; d = d . s u b t r a c t ( c ) . d i v i d e B y ( 2 ) ; c = t h i s . p r o j e c t ( a . g e t S o u t h W e s t ( ) , e ) ; a = t h i s . p r o j e c t ( a . g e t N o r t h E a s t ( ) , e ) ; c = t h i s . u n p r o j e c t ( c . a d d ( a ) . d i v i d e B y ( 2 ) . a d d ( d ) , e ) ; e = b & & b . m a x Z o o m ? M a t h . m i n ( b . m a x Z o o m , e ) : e ; r e t u r n   t h i s . s e t V i e w ( c , e , b ) } , f i t W o r l d : f u n c t i o n ( a ) { r e t u r n   t h i s . f i t B o u n d s ( [ [ - 9 0 , - 1 8 0 ] , [ 9 0 , 1 8 0 ] ] , a ) } , p a n T o : f u n c t i o n ( a , b ) { r e t u r n   t h i s . s e t V i e w ( a , t h i s . _ z o o m , { p a n : b } ) } , p a n B y : f u n c t i o n ( a ) { t h i s . f i r e ( " m o v e s t a r t " ) ; t h i s . _ r a w P a n B y ( f . p o i n t ( a ) ) ; t h i s . f i r e ( " m o v e " ) ; r e t u r n   t h i s . f i r e ( " m o v e e n d " ) } , s e t M a x B o u n d s : f u n c t i o n ( a ) { a = f . l a t L n g B o u n d s ( a ) ; t h i s . o p t i o n s . m a x B o u n d s = a ; i f ( ! a ) r e t u r n   t h i s . o f f ( " m o v e e n d " , t h i s . _ p a n I n s i d e M a x B o u n d s , t h i s ) ; t h i s . _ l o a d e d & & t h i s . _ p a n I n s i d e M a x B o u n d s ( ) ; r e t u r n   t h i s . o n ( " m o v e e n d " , t h i s . _ p a n I n s i d e M a x B o u n d s , t h i s ) } , p a n I n s i d e B o u n d s : f u n c t i o n ( a , b ) { v a r   c = t h i s . g e t C e n t e r ( ) ; a = t h i s . _ l i m i t C e n t e r ( c , t h i s . _ z o o m , a ) ; r e t u r n   c . e q u a l s ( a ) ? t h i s : t h i s . p a n T o ( a , b ) } , a d d L a y e r : f u n c t i o n ( a ) { v a r   b = f . s t a m p ( a ) ; i f ( t h i s . _ l a y e r s [ b ] ) r e t u r n   t h i s ; t h i s . _ l a y e r s [ b ] = a ; a . o p t i o n s & & ( ! i s N a N ( a . o p t i o n s . m a x Z o o m ) | | ! i s N a N ( a . o p t i o n s . m i n Z o o m ) ) & & ( t h i s . _ z o o m B o u n d L a y e r s [ b ] = a , t h i s . _ u p d a t e Z o o m L e v e l s ( ) ) ; t h i s . o p t i o n s . z o o m A n i m a t i o n & & f . T i l e L a y e r & & a   i n s t a n c e o f   f . T i l e L a y e r & & ( t h i s . _ t i l e L a y e r s N u m + + , t h i s . _ t i l e L a y e r s T o L o a d + + , a . o n ( " l o a d " , t h i s . _ o n T i l e L a y e r L o a d , t h i s ) ) ; t h i s . _ l o a d e d & & t h i s . _ l a y e r A d d ( a ) ; r e t u r n   t h i s } , r e m o v e L a y e r : f u n c t i o n ( a ) { v a r   b = f . s t a m p ( a ) ; i f ( ! t h i s . _ l a y e r s [ b ] ) r e t u r n   t h i s ; t h i s . _ l o a d e d & & a . o n R e m o v e ( t h i s ) ; d e l e t e   t h i s . _ l a y e r s [ b ] ; t h i s . _ l o a d e d & & t h i s . f i r e ( " l a y e r r e m o v e " , { l a y e r : a } ) ; t h i s . _ z o o m B o u n d L a y e r s [ b ] & & ( d e l e t e   t h i s . _ z o o m B o u n d L a y e r s [ b ] , t h i s . _ u p d a t e Z o o m L e v e l s ( ) ) ; t h i s . o p t i o n s . z o o m A n i m a t i o n & & f . T i l e L a y e r & & a   i n s t a n c e o f   f . T i l e L a y e r & & ( t h i s . _ t i l e L a y e r s N u m - - , t h i s . _ t i l e L a y e r s T o L o a d - - , a . o f f ( " l o a d " , t h i s . _ o n T i l e L a y e r L o a d , t h i s ) ) ; r e t u r n   t h i s } , h a s L a y e r : f u n c t i o n ( a ) { r e t u r n ! a ? ! 1 : f . s t a m p ( a ) i n   t h i s . _ l a y e r s } , e a c h L a y e r : f u n c t i o n ( a , b ) { f o r ( v a r   c   i n   t h i s . _ l a y e r s ) a . c a l l ( b , t h i s . _ l a y e r s [ c ] ) ; r e t u r n   t h i s } , i n v a l i d a t e S i z e : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; i f ( ! t h i s . _ l o a d e d ) r e t u r n   t h i s ; a = f . e x t e n d ( { a n i m a t e : ! 1 , p a n : ! 0 } , a = = = ! 0 ? { a n i m a t e : ! 0 } : a ) ; v a r   b = t h i s . g e t S i z e ( ) ; t h i s . _ s i z e C h a n g e d = ! 0 ; t h i s . _ i n i t i a l C e n t e r = n u l l ; v a r   c = t h i s . g e t S i z e ( ) , d = b . d i v i d e B y ( 2 ) . r o u n d ( ) , e = c . d i v i d e B y ( 2 ) . r o u n d ( ) ; d = d . s u b t r a c t ( e ) ; i f ( ! d . x & & ! d . y ) r e t u r n   t h i s ; a . a n i m a t e & & a . p a n ? t h i s . p a n B y ( d ) : ( a . p a n & & t h i s . _ r a w P a n B y ( d ) , t h i s . f i r e ( " m o v e " ) , a . d e b o u n c e M o v e e n d ? ( c l e a r T i m e o u t ( t h i s . _ s i z e T i m e r ) , t h i s . _ s i z e T i m e r = s e t T i m e o u t ( f . b i n d ( t h i s . f i r e , t h i s , " m o v e e n d " ) , 2 0 0 ) ) : t h i s . f i r e ( " m o v e e n d " ) ) ; r e t u r n   t h i s . f i r e ( " r e s i z e " , { o l d S i z e : b , n e w S i z e : c } ) } , a d d H a n d l e r : f u n c t i o n ( a , b ) { i f ( ! b ) r e t u r n   t h i s ; b = t h i s [ a ] = n e w   b ( t h i s ) ; t h i s . _ h a n d l e r s . p u s h ( b ) ; t h i s . o p t i o n s [ a ] & & b . e n a b l e ( ) ; r e t u r n   t h i s } , r e m o v e : f u n c t i o n ( ) { t h i s . _ l o a d e d & & t h i s . f i r e ( " u n l o a d " ) ; t h i s . _ i n i t E v e n t s ( " o f f " ) ; t r y { d e l e t e   t h i s . _ c o n t a i n e r . _ l e a f l e t } c a t c h ( a ) { t h i s . _ c o n t a i n e r . _ l e a f l e t = v o i d   0 } t h i s . _ c l e a r P a n e s ( ) ; t h i s . _ c l e a r C o n t r o l P o s & & t h i s . _ c l e a r C o n t r o l P o s ( ) ; t h i s . _ c l e a r H a n d l e r s ( ) ; r e t u r n   t h i s } , g e t C e n t e r : f u n c t i o n ( ) { t h i s . _ c h e c k I f L o a d e d ( ) ; r e t u r n   t h i s . _ i n i t i a l C e n t e r & & ! t h i s . _ m o v e d ( ) ? t h i s . _ i n i t i a l C e n t e r : t h i s . l a y e r P o i n t T o L a t L n g ( t h i s . _ g e t C e n t e r L a y e r P o i n t ( ) ) } , g e t Z o o m : f u n c t i o n ( ) { r e t u r n   t h i s . _ z o o m } , g e t B o u n d s : f u n c t i o n ( ) { v a r   a = t h i s . g e t P i x e l B o u n d s ( ) , b = t h i s . u n p r o j e c t ( a . g e t B o t t o m L e f t ( ) ) ; a = t h i s . u n p r o j e c t ( a . g e t T o p R i g h t ( ) ) ; r e t u r n   n e w   f . L a t L n g B o u n d s ( b , a ) } , g e t M i n Z o o m : f u n c t i o n ( ) { r e t u r n   t h i s . o p t i o n s . m i n Z o o m = = = v o i d   0 ? t h i s . _ l a y e r s M i n Z o o m = = = v o i d   0 ? 0 : t h i s . _ l a y e r s M i n Z o o m : t h i s . o p t i o n s . m i n Z o o m } , g e t M a x Z o o m : f u n c t i o n ( ) { r e t u r n   t h i s . o p t i o n s . m a x Z o o m = = = v o i d   0 ? t h i s . _ l a y e r s M a x Z o o m = = = v o i d   0 ? I n f i n i t y : t h i s . _ l a y e r s M a x Z o o m : t h i s . o p t i o n s . m a x Z o o m } , g e t B o u n d s Z o o m : f u n c t i o n ( a , b , c ) { a = f . l a t L n g B o u n d s ( a ) ; v a r   d = t h i s . g e t M i n Z o o m ( ) - ( b ? 1 : 0 ) , e = t h i s . g e t M a x Z o o m ( ) , g = t h i s . g e t S i z e ( ) , h = a . g e t N o r t h W e s t ( ) ; a = a . g e t S o u t h E a s t ( ) ; v a r   i ; c = f . p o i n t ( c | | [ 0 , 0 ] ) ; d o   d + + , i = t h i s . p r o j e c t ( a , d ) . s u b t r a c t ( t h i s . p r o j e c t ( h , d ) ) . a d d ( c ) , i = b ? i . x < g . x | | i . y < g . y : g . c o n t a i n s ( i ) ; w h i l e ( i & & d < = e ) ; r e t u r n   i & & b ? n u l l : b ? d : d - 1 } , g e t S i z e : f u n c t i o n ( ) { ( ! t h i s . _ s i z e | | t h i s . _ s i z e C h a n g e d ) & & ( t h i s . _ s i z e = n e w   f . P o i n t ( t h i s . _ c o n t a i n e r . c l i e n t W i d t h , t h i s . _ c o n t a i n e r . c l i e n t H e i g h t ) , t h i s . _ s i z e C h a n g e d = ! 1 ) ; r e t u r n   t h i s . _ s i z e . c l o n e ( ) } , g e t P i x e l B o u n d s : f u n c t i o n ( ) { v a r   a = t h i s . _ g e t T o p L e f t P o i n t ( ) ; r e t u r n   n e w   f . B o u n d s ( a , a . a d d ( t h i s . g e t S i z e ( ) ) ) } , g e t P i x e l O r i g i n : f u n c t i o n ( ) { t h i s . _ c h e c k I f L o a d e d ( ) ; r e t u r n   t h i s . _ i n i t i a l T o p L e f t P o i n t } , g e t P a n e s : f u n c t i o n ( ) { r e t u r n   t h i s . _ p a n e s } , g e t C o n t a i n e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ c o n t a i n e r } , g e t Z o o m S c a l e : f u n c t i o n ( a ) { v a r   b = t h i s . o p t i o n s . c r s ; r e t u r n   b . s c a l e ( a ) / b . s c a l e ( t h i s . _ z o o m ) } , g e t S c a l e Z o o m : f u n c t i o n ( a ) { r e t u r n   t h i s . _ z o o m + M a t h . l o g ( a ) / M a t h . L N 2 } , p r o j e c t : f u n c t i o n ( a , b ) { b = b = = = v o i d   0 ? t h i s . _ z o o m : b ; r e t u r n   t h i s . o p t i o n s . c r s . l a t L n g T o P o i n t ( f . l a t L n g ( a ) , b ) } , u n p r o j e c t : f u n c t i o n ( a , b ) { b = b = = = v o i d   0 ? t h i s . _ z o o m : b ; r e t u r n   t h i s . o p t i o n s . c r s . p o i n t T o L a t L n g ( f . p o i n t ( a ) , b ) } , l a y e r P o i n t T o L a t L n g : f u n c t i o n ( a ) { a = f . p o i n t ( a ) . a d d ( t h i s . g e t P i x e l O r i g i n ( ) ) ; r e t u r n   t h i s . u n p r o j e c t ( a ) } , l a t L n g T o L a y e r P o i n t : f u n c t i o n ( a ) { a = t h i s . p r o j e c t ( f . l a t L n g ( a ) ) . _ r o u n d ( ) ; r e t u r n   a . _ s u b t r a c t ( t h i s . g e t P i x e l O r i g i n ( ) ) } , c o n t a i n e r P o i n t T o L a y e r P o i n t : f u n c t i o n ( a ) { r e t u r n   f . p o i n t ( a ) . s u b t r a c t ( t h i s . _ g e t M a p P a n e P o s ( ) ) } , l a y e r P o i n t T o C o n t a i n e r P o i n t : f u n c t i o n ( a ) { r e t u r n   f . p o i n t ( a ) . a d d ( t h i s . _ g e t M a p P a n e P o s ( ) ) } , c o n t a i n e r P o i n t T o L a t L n g : f u n c t i o n ( a ) { a = t h i s . c o n t a i n e r P o i n t T o L a y e r P o i n t ( f . p o i n t ( a ) ) ; r e t u r n   t h i s . l a y e r P o i n t T o L a t L n g ( a ) } , l a t L n g T o C o n t a i n e r P o i n t : f u n c t i o n ( a ) { r e t u r n   t h i s . l a y e r P o i n t T o C o n t a i n e r P o i n t ( t h i s . l a t L n g T o L a y e r P o i n t ( f . l a t L n g ( a ) ) ) } , m o u s e E v e n t T o C o n t a i n e r P o i n t : f u n c t i o n ( a ) { r e t u r n   f . D o m E v e n t . g e t M o u s e P o s i t i o n ( a , t h i s . _ c o n t a i n e r ) } , m o u s e E v e n t T o L a y e r P o i n t : f u n c t i o n ( a ) { r e t u r n   t h i s . c o n t a i n e r P o i n t T o L a y e r P o i n t ( t h i s . m o u s e E v e n t T o C o n t a i n e r P o i n t ( a ) ) } , m o u s e E v e n t T o L a t L n g : f u n c t i o n ( a ) { r e t u r n   t h i s . l a y e r P o i n t T o L a t L n g ( t h i s . m o u s e E v e n t T o L a y e r P o i n t ( a ) ) } , _ i n i t C o n t a i n e r : f u n c t i o n ( a ) { a = t h i s . _ c o n t a i n e r = f . D o m U t i l . g e t ( a ) ; i f ( ! a ) t h r o w   n e w   E r r o r ( " M a p   c o n t a i n e r   n o t   f o u n d . " ) ; e l s e   i f ( a . _ l e a f l e t ) t h r o w   n e w   E r r o r ( " M a p   c o n t a i n e r   i s   a l r e a d y   i n i t i a l i z e d . " ) ; a . _ l e a f l e t = ! 0 } , _ i n i t L a y o u t : f u n c t i o n ( ) { v a r   a = t h i s . _ c o n t a i n e r ; f . D o m U t i l . a d d C l a s s ( a , " l e a f l e t - c o n t a i n e r " + ( f . B r o w s e r . t o u c h ? "   l e a f l e t - t o u c h " : " " ) + ( f . B r o w s e r . r e t i n a ? "   l e a f l e t - r e t i n a " : " " ) + ( f . B r o w s e r . i e l t 9 ? "   l e a f l e t - o l d i e " : " " ) + ( t h i s . o p t i o n s . f a d e A n i m a t i o n ? "   l e a f l e t - f a d e - a n i m " : " " ) ) ; v a r   b = f . D o m U t i l . g e t S t y l e ( a , " p o s i t i o n " ) ; b ! = = " a b s o l u t e " & & b ! = = " r e l a t i v e " & & b ! = = " f i x e d " & & ( a . s t y l e . p o s i t i o n = " r e l a t i v e " ) ; t h i s . _ i n i t P a n e s ( ) ; t h i s . _ i n i t C o n t r o l P o s & & t h i s . _ i n i t C o n t r o l P o s ( ) } , _ i n i t P a n e s : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   a = t h i s . _ p a n e s = { } ; t h i s . _ m a p P a n e = a . m a p P a n e = t h i s . _ c r e a t e P a n e ( " l e a f l e t - m a p - p a n e " , t h i s . _ c o n t a i n e r ) ; t h i s . _ t i l e P a n e = a . t i l e P a n e = t h i s . _ c r e a t e P a n e ( " l e a f l e t - t i l e - p a n e " , t h i s . _ m a p P a n e ) ; a . o b j e c t s P a n e = t h i s . _ c r e a t e P a n e ( " l e a f l e t - o b j e c t s - p a n e " , t h i s . _ m a p P a n e ) ; a . s h a d o w P a n e = t h i s . _ c r e a t e P a n e ( " l e a f l e t - s h a d o w - p a n e " ) ; a . o v e r l a y P a n e = t h i s . _ c r e a t e P a n e ( " l e a f l e t - o v e r l a y - p a n e " ) ; a . m a r k e r P a n e = t h i s . _ c r e a t e P a n e ( " l e a f l e t - m a r k e r - p a n e " ) ; a . p o p u p P a n e = t h i s . _ c r e a t e P a n e ( " l e a f l e t - p o p u p - p a n e " ) ; v a r   b = "   l e a f l e t - z o o m - h i d e " ; t h i s . o p t i o n s . m a r k e r Z o o m A n i m a t i o n | | ( f . D o m U t i l . a d d C l a s s ( a . m a r k e r P a n e , b ) , f . D o m U t i l . a d d C l a s s ( a . s h a d o w P a n e , b ) , f . D o m U t i l . a d d C l a s s ( a . p o p u p P a n e , b ) ) } , _ c r e a t e P a n e : f u n c t i o n ( a , b ) { r e t u r n   f . D o m U t i l . c r e a t e ( " d i v " , a , b | | t h i s . _ p a n e s . o b j e c t s P a n e ) } , _ c l e a r P a n e s : f u n c t i o n ( ) { t h i s . _ c o n t a i n e r . r e m o v e C h i l d ( t h i s . _ m a p P a n e ) } , _ a d d L a y e r s : f u n c t i o n ( a ) { a = a ? f . U t i l . i s A r r a y ( a ) ? a : [ a ] : [ ] ; f o r ( v a r   b = 0 , c = a . l e n g t h ; b < c ; b + + ) t h i s . a d d L a y e r ( a [ b ] ) } , _ r e s e t V i e w : f u n c t i o n ( a , b , c , d ) { _ _ p & & _ _ p ( ) ; v a r   e = t h i s . _ z o o m ! = = b ; d | | ( t h i s . f i r e ( " m o v e s t a r t " ) , e & & t h i s . f i r e ( " z o o m s t a r t " ) ) ; t h i s . _ z o o m = b ; t h i s . _ i n i t i a l C e n t e r = a ; t h i s . _ i n i t i a l T o p L e f t P o i n t = t h i s . _ g e t N e w T o p L e f t P o i n t ( a ) ; ! c ? f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ m a p P a n e , n e w   f . P o i n t ( 0 , 0 ) ) : t h i s . _ i n i t i a l T o p L e f t P o i n t . _ a d d ( t h i s . _ g e t M a p P a n e P o s ( ) ) ; t h i s . _ t i l e L a y e r s T o L o a d = t h i s . _ t i l e L a y e r s N u m ; b = ! t h i s . _ l o a d e d ; t h i s . _ l o a d e d = ! 0 ; b & & ( t h i s . f i r e ( " l o a d " ) , t h i s . e a c h L a y e r ( t h i s . _ l a y e r A d d , t h i s ) ) ; t h i s . f i r e ( " v i e w r e s e t " , { h a r d : ! c } ) ; t h i s . f i r e ( " m o v e " ) ; ( e | | d ) & & t h i s . f i r e ( " z o o m e n d " ) ; t h i s . f i r e ( " m o v e e n d " , { h a r d : ! c } ) } , _ r a w P a n B y : f u n c t i o n ( a ) { f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ m a p P a n e , t h i s . _ g e t M a p P a n e P o s ( ) . s u b t r a c t ( a ) ) } , _ g e t Z o o m S p a n : f u n c t i o n ( ) { r e t u r n   t h i s . g e t M a x Z o o m ( ) - t h i s . g e t M i n Z o o m ( ) } , _ u p d a t e Z o o m L e v e l s : f u n c t i o n ( ) { v a r   a , b = I n f i n i t y , c = - I n f i n i t y , d = t h i s . _ g e t Z o o m S p a n ( ) ; f o r ( a   i n   t h i s . _ z o o m B o u n d L a y e r s ) { v a r   e = t h i s . _ z o o m B o u n d L a y e r s [ a ] ; i s N a N ( e . o p t i o n s . m i n Z o o m ) | | ( b = M a t h . m i n ( b , e . o p t i o n s . m i n Z o o m ) ) ; i s N a N ( e . o p t i o n s . m a x Z o o m ) | | ( c = M a t h . m a x ( c , e . o p t i o n s . m a x Z o o m ) ) } a = = = v o i d   0 ? t h i s . _ l a y e r s M a x Z o o m = t h i s . _ l a y e r s M i n Z o o m = v o i d   0 : ( t h i s . _ l a y e r s M a x Z o o m = c , t h i s . _ l a y e r s M i n Z o o m = b ) ; d ! = = t h i s . _ g e t Z o o m S p a n ( ) & & t h i s . f i r e ( " z o o m l e v e l s c h a n g e " ) } , _ p a n I n s i d e M a x B o u n d s : f u n c t i o n ( ) { t h i s . p a n I n s i d e B o u n d s ( t h i s . o p t i o n s . m a x B o u n d s ) } , _ c h e c k I f L o a d e d : f u n c t i o n ( ) { i f ( ! t h i s . _ l o a d e d ) t h r o w   n e w   E r r o r ( " S e t   m a p   c e n t e r   a n d   z o o m   f i r s t . " ) } , _ i n i t E v e n t s : f u n c t i o n ( b ) { i f ( ! f . D o m E v e n t ) r e t u r n ; b = b | | " o n " ; f . D o m E v e n t [ b ] ( t h i s . _ c o n t a i n e r , " c l i c k " , t h i s . _ o n M o u s e C l i c k , t h i s ) ; v a r   c = [ " d b l c l i c k " , " m o u s e d o w n " , " m o u s e u p " , " m o u s e e n t e r " , " m o u s e l e a v e " , " m o u s e m o v e " , " c o n t e x t m e n u " ] , d , e ; f o r ( d = 0 , e = c . l e n g t h ; d < e ; d + + ) f . D o m E v e n t [ b ] ( t h i s . _ c o n t a i n e r , c [ d ] , t h i s . _ f i r e M o u s e E v e n t , t h i s ) ; t h i s . o p t i o n s . t r a c k R e s i z e & & f . D o m E v e n t [ b ] ( a , " r e s i z e " , t h i s . _ o n R e s i z e , t h i s ) } , _ o n R e s i z e : f u n c t i o n ( ) { f . U t i l . c a n c e l A n i m F r a m e ( t h i s . _ r e s i z e R e q u e s t ) , t h i s . _ r e s i z e R e q u e s t = f . U t i l . r e q u e s t A n i m F r a m e ( f u n c t i o n ( ) { t h i s . i n v a l i d a t e S i z e ( { d e b o u n c e M o v e e n d : ! 0 } ) } , t h i s , ! 1 , t h i s . _ c o n t a i n e r ) } , _ o n M o u s e C l i c k : f u n c t i o n ( a ) { i f ( ! t h i s . _ l o a d e d | | ! a . _ s i m u l a t e d & & ( t h i s . d r a g g i n g & & t h i s . d r a g g i n g . m o v e d ( ) | | t h i s . b o x Z o o m & & t h i s . b o x Z o o m . m o v e d ( ) ) | | f . D o m E v e n t . _ s k i p p e d ( a ) ) r e t u r n ; t h i s . f i r e ( " p r e c l i c k " ) ; t h i s . _ f i r e M o u s e E v e n t ( a ) } , _ f i r e M o u s e E v e n t : f u n c t i o n ( a ) { i f ( ! t h i s . _ l o a d e d | | f . D o m E v e n t . _ s k i p p e d ( a ) ) r e t u r n ; v a r   b = a . t y p e ; b = b = = = " m o u s e e n t e r " ? " m o u s e o v e r " : b = = = " m o u s e l e a v e " ? " m o u s e o u t " : b ; i f ( ! t h i s . h a s E v e n t L i s t e n e r s ( b ) ) r e t u r n ; b = = = " c o n t e x t m e n u " & & f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) ; v a r   c = t h i s . m o u s e E v e n t T o C o n t a i n e r P o i n t ( a ) , d = t h i s . c o n t a i n e r P o i n t T o L a y e r P o i n t ( c ) , e = t h i s . l a y e r P o i n t T o L a t L n g ( d ) ; t h i s . f i r e ( b , { l a t l n g : e , l a y e r P o i n t : d , c o n t a i n e r P o i n t : c , o r i g i n a l E v e n t : a } ) } , _ o n T i l e L a y e r L o a d : f u n c t i o n ( ) { t h i s . _ t i l e L a y e r s T o L o a d - - , t h i s . _ t i l e L a y e r s N u m & & ! t h i s . _ t i l e L a y e r s T o L o a d & & t h i s . f i r e ( " t i l e l a y e r s l o a d " ) } , _ c l e a r H a n d l e r s : f u n c t i o n ( ) { f o r ( v a r   a = 0 , b = t h i s . _ h a n d l e r s . l e n g t h ; a < b ; a + + ) t h i s . _ h a n d l e r s [ a ] . d i s a b l e ( ) } , w h e n R e a d y : f u n c t i o n ( a , b ) { t h i s . _ l o a d e d ? a . c a l l ( b | | t h i s , t h i s ) : t h i s . o n ( " l o a d " , a , b ) ; r e t u r n   t h i s } , _ l a y e r A d d : f u n c t i o n ( a ) { a . o n A d d ( t h i s ) , t h i s . f i r e ( " l a y e r a d d " , { l a y e r : a } ) } , _ g e t M a p P a n e P o s : f u n c t i o n ( ) { r e t u r n   f . D o m U t i l . g e t P o s i t i o n ( t h i s . _ m a p P a n e ) } , _ m o v e d : f u n c t i o n ( ) { v a r   a = t h i s . _ g e t M a p P a n e P o s ( ) ; r e t u r n   a & & ! a . e q u a l s ( [ 0 , 0 ] ) } , _ g e t T o p L e f t P o i n t : f u n c t i o n ( ) { r e t u r n   t h i s . g e t P i x e l O r i g i n ( ) . s u b t r a c t ( t h i s . _ g e t M a p P a n e P o s ( ) ) } , _ g e t N e w T o p L e f t P o i n t : f u n c t i o n ( a , b ) { v a r   c = t h i s . g e t S i z e ( ) . _ d i v i d e B y ( 2 ) ; r e t u r n   t h i s . p r o j e c t ( a , b ) . _ s u b t r a c t ( c ) . _ r o u n d ( ) } , _ l a t L n g T o N e w L a y e r P o i n t : f u n c t i o n ( a , b , c ) { c = t h i s . _ g e t N e w T o p L e f t P o i n t ( c , b ) . a d d ( t h i s . _ g e t M a p P a n e P o s ( ) ) ; r e t u r n   t h i s . p r o j e c t ( a , b ) . _ s u b t r a c t ( c ) } , _ g e t C e n t e r L a y e r P o i n t : f u n c t i o n ( ) { r e t u r n   t h i s . c o n t a i n e r P o i n t T o L a y e r P o i n t ( t h i s . g e t S i z e ( ) . _ d i v i d e B y ( 2 ) ) } , _ g e t C e n t e r O f f s e t : f u n c t i o n ( a ) { r e t u r n   t h i s . l a t L n g T o L a y e r P o i n t ( a ) . s u b t r a c t ( t h i s . _ g e t C e n t e r L a y e r P o i n t ( ) ) } , _ l i m i t C e n t e r : f u n c t i o n ( a , b , c ) { i f ( ! c ) r e t u r n   a ; a = t h i s . p r o j e c t ( a , b ) ; v a r   d = t h i s . g e t S i z e ( ) . d i v i d e B y ( 2 ) ; d = n e w   f . B o u n d s ( a . s u b t r a c t ( d ) , a . a d d ( d ) ) ; d = t h i s . _ g e t B o u n d s O f f s e t ( d , c , b ) ; r e t u r n   t h i s . u n p r o j e c t ( a . a d d ( d ) , b ) } , _ l i m i t O f f s e t : f u n c t i o n ( a , b ) { i f ( ! b ) r e t u r n   a ; v a r   c = t h i s . g e t P i x e l B o u n d s ( ) ; c = n e w   f . B o u n d s ( c . m i n . a d d ( a ) , c . m a x . a d d ( a ) ) ; r e t u r n   a . a d d ( t h i s . _ g e t B o u n d s O f f s e t ( c , b ) ) } , _ g e t B o u n d s O f f s e t : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . p r o j e c t ( b . g e t N o r t h W e s t ( ) , c ) . s u b t r a c t ( a . m i n ) ; b = t h i s . p r o j e c t ( b . g e t S o u t h E a s t ( ) , c ) . s u b t r a c t ( a . m a x ) ; c = t h i s . _ r e b o u n d ( d . x , - b . x ) ; a = t h i s . _ r e b o u n d ( d . y , - b . y ) ; r e t u r n   n e w   f . P o i n t ( c , a ) } , _ r e b o u n d : f u n c t i o n ( a , b ) { r e t u r n   a + b > 0 ? M a t h . r o u n d ( a - b ) / 2 : M a t h . m a x ( 0 , M a t h . c e i l ( a ) ) - M a t h . m a x ( 0 , M a t h . f l o o r ( b ) ) } , _ l i m i t Z o o m : f u n c t i o n ( a ) { v a r   b = t h i s . g e t M i n Z o o m ( ) , c = t h i s . g e t M a x Z o o m ( ) ; r e t u r n   M a t h . m a x ( b , M a t h . m i n ( c , a ) ) } } ) ; f . m a p = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . M a p ( a , b ) } ; f . P r o j e c t i o n . M e r c a t o r = { M A X _ L A T I T U D E : 8 5 . 0 8 4 0 5 9 1 5 5 6 , R _ M I N O R : 6 3 5 6 7 5 2 . 3 1 4 2 4 5 1 7 9 , R _ M A J O R : 6 3 7 8 1 3 7 , p r o j e c t : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   b = f . L a t L n g . D E G _ T O _ R A D , c = t h i s . M A X _ L A T I T U D E ; c = M a t h . m a x ( M a t h . m i n ( c , a . l a t ) , - c ) ; v a r   d = t h i s . R _ M A J O R , e = t h i s . R _ M I N O R ; a = a . l n g * b * d ; c = c * b ; b = e / d ; e = M a t h . s q r t ( 1 - b * b ) ; b = e * M a t h . s i n ( c ) ; b = M a t h . p o w ( ( 1 - b ) / ( 1 + b ) , e * . 5 ) ; e = M a t h . t a n ( . 5 * ( M a t h . P I * . 5 - c ) ) / b ; c = - d * M a t h . l o g ( e ) ; r e t u r n   n e w   f . P o i n t ( a , c ) } , u n p r o j e c t : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   b = f . L a t L n g . R A D _ T O _ D E G , c = t h i s . R _ M A J O R , d = t h i s . R _ M I N O R , e = a . x * b / c ; d = d / c ; d = M a t h . s q r t ( 1 - d * d ) ; a = M a t h . e x p ( - a . y / c ) ; c = M a t h . P I / 2 - 2 * M a t h . a t a n ( a ) ; v a r   g = 1 5 , h = 1 e - 7 ; g = g ; v a r   i = . 1 , j ; w h i l e ( M a t h . a b s ( i ) > h & & - - g > 0 ) j = d * M a t h . s i n ( c ) , i = M a t h . P I / 2 - 2 * M a t h . a t a n ( a * M a t h . p o w ( ( 1 - j ) / ( 1 + j ) , . 5 * d ) ) - c , c + = i ; r e t u r n   n e w   f . L a t L n g ( c * b , e ) } } ; f . C R S . E P S G 3 3 9 5 = f . e x t e n d ( { } , f . C R S , { c o d e : " E P S G : 3 3 9 5 " , p r o j e c t i o n : f . P r o j e c t i o n . M e r c a t o r , t r a n s f o r m a t i o n : f u n c t i o n ( ) { v a r   a = f . P r o j e c t i o n . M e r c a t o r ; a = a . R _ M A J O R ; a = . 5 / ( M a t h . P I * a ) ; r e t u r n   n e w   f . T r a n s f o r m a t i o n ( a , . 5 , - a , . 5 ) } ( ) } ) ; f . T i l e L a y e r = f . C l a s s . e x t e n d ( { i n c l u d e s : f . M i x i n . E v e n t s , o p t i o n s : { m i n Z o o m : 0 , m a x Z o o m : 1 8 , t i l e S i z e : 2 5 6 , s u b d o m a i n s : " a b c " , e r r o r T i l e U r l : " " , a t t r i b u t i o n : " " , z o o m O f f s e t : 0 , o p a c i t y : 1 , u n l o a d I n v i s i b l e T i l e s : f . B r o w s e r . m o b i l e , u p d a t e W h e n I d l e : f . B r o w s e r . m o b i l e } , i n i t i a l i z e : f u n c t i o n ( a , b ) { b = f . s e t O p t i o n s ( t h i s , b ) ; b . d e t e c t R e t i n a & & f . B r o w s e r . r e t i n a & & b . m a x Z o o m > 0 & & ( b . t i l e S i z e = M a t h . f l o o r ( b . t i l e S i z e / 2 ) , b . z o o m O f f s e t + + , b . m i n Z o o m > 0 & & b . m i n Z o o m - - , t h i s . o p t i o n s . m a x Z o o m - - ) ; b . b o u n d s & & ( b . b o u n d s = f . l a t L n g B o u n d s ( b . b o u n d s ) ) ; t h i s . _ u r l = a ; b = t h i s . o p t i o n s . s u b d o m a i n s ; t y p e o f   b = = = " s t r i n g " & & ( t h i s . o p t i o n s . s u b d o m a i n s = b . s p l i t ( " " ) ) } , o n A d d : f u n c t i o n ( a ) { t h i s . _ m a p = a , t h i s . _ a n i m a t e d = a . _ z o o m A n i m a t e d , t h i s . _ i n i t C o n t a i n e r ( ) , a . o n ( { v i e w r e s e t : t h i s . _ r e s e t , m o v e e n d : t h i s . _ u p d a t e } , t h i s ) , t h i s . _ a n i m a t e d & & a . o n ( { z o o m a n i m : t h i s . _ a n i m a t e Z o o m , z o o m e n d : t h i s . _ e n d Z o o m A n i m } , t h i s ) , t h i s . o p t i o n s . u p d a t e W h e n I d l e | | ( t h i s . _ l i m i t e d U p d a t e = f . U t i l . l i m i t E x e c B y I n t e r v a l ( t h i s . _ u p d a t e , 1 5 0 , t h i s ) , a . o n ( " m o v e " , t h i s . _ l i m i t e d U p d a t e , t h i s ) ) , t h i s . _ r e s e t ( ) , t h i s . _ u p d a t e ( ) } , a d d T o : f u n c t i o n ( a ) { a . a d d L a y e r ( t h i s ) ; r e t u r n   t h i s } , o n R e m o v e : f u n c t i o n ( a ) { t h i s . _ c o n t a i n e r . p a r e n t N o d e . r e m o v e C h i l d ( t h i s . _ c o n t a i n e r ) , a . o f f ( { v i e w r e s e t : t h i s . _ r e s e t , m o v e e n d : t h i s . _ u p d a t e } , t h i s ) , t h i s . _ a n i m a t e d & & a . o f f ( { z o o m a n i m : t h i s . _ a n i m a t e Z o o m , z o o m e n d : t h i s . _ e n d Z o o m A n i m } , t h i s ) , t h i s . o p t i o n s . u p d a t e W h e n I d l e | | a . o f f ( " m o v e " , t h i s . _ l i m i t e d U p d a t e , t h i s ) , t h i s . _ c o n t a i n e r = n u l l , t h i s . _ m a p = n u l l } , b r i n g T o F r o n t : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p . _ p a n e s . t i l e P a n e ; t h i s . _ c o n t a i n e r & & ( a . a p p e n d C h i l d ( t h i s . _ c o n t a i n e r ) , t h i s . _ s e t A u t o Z I n d e x ( a , M a t h . m a x ) ) ; r e t u r n   t h i s } , b r i n g T o B a c k : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p . _ p a n e s . t i l e P a n e ; t h i s . _ c o n t a i n e r & & ( a . i n s e r t B e f o r e ( t h i s . _ c o n t a i n e r , a . f i r s t C h i l d ) , t h i s . _ s e t A u t o Z I n d e x ( a , M a t h . m i n ) ) ; r e t u r n   t h i s } , g e t A t t r i b u t i o n : f u n c t i o n ( ) { r e t u r n   t h i s . o p t i o n s . a t t r i b u t i o n } , g e t C o n t a i n e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ c o n t a i n e r } , s e t O p a c i t y : f u n c t i o n ( a ) { t h i s . o p t i o n s . o p a c i t y = a ; t h i s . _ m a p & & t h i s . _ u p d a t e O p a c i t y ( ) ; r e t u r n   t h i s } , s e t Z I n d e x : f u n c t i o n ( a ) { t h i s . o p t i o n s . z I n d e x = a ; t h i s . _ u p d a t e Z I n d e x ( ) ; r e t u r n   t h i s } , s e t U r l : f u n c t i o n ( a , b ) { t h i s . _ u r l = a ; b | | t h i s . r e d r a w ( ) ; r e t u r n   t h i s } , r e d r a w : f u n c t i o n ( ) { t h i s . _ m a p & & ( t h i s . _ r e s e t ( { h a r d : ! 0 } ) , t h i s . _ u p d a t e ( ) ) ; r e t u r n   t h i s } , _ u p d a t e Z I n d e x : f u n c t i o n ( ) { t h i s . _ c o n t a i n e r & & t h i s . o p t i o n s . z I n d e x ! = = v o i d   0 & & ( t h i s . _ c o n t a i n e r . s t y l e . z I n d e x = t h i s . o p t i o n s . z I n d e x ) } , _ s e t A u t o Z I n d e x : f u n c t i o n ( a , b ) { a = a . c h i l d r e n ; v a r   c = - b ( I n f i n i t y , - I n f i n i t y ) , d , e , f ; f o r ( e = 0 , f = a . l e n g t h ; e < f ; e + + ) a [ e ] ! = = t h i s . _ c o n t a i n e r & & ( d = p a r s e I n t ( a [ e ] . s t y l e . z I n d e x , 1 0 ) , i s N a N ( d ) | | ( c = b ( c , d ) ) ) ; t h i s . o p t i o n s . z I n d e x = t h i s . _ c o n t a i n e r . s t y l e . z I n d e x = ( i s F i n i t e ( c ) ? c : 0 ) + b ( 1 , - 1 ) } , _ u p d a t e O p a c i t y : f u n c t i o n ( ) { v a r   a , b = t h i s . _ t i l e s ; i f ( f . B r o w s e r . i e l t 9 ) f o r ( a   i n   b ) f . D o m U t i l . s e t O p a c i t y ( b [ a ] , t h i s . o p t i o n s . o p a c i t y ) ; e l s e   f . D o m U t i l . s e t O p a c i t y ( t h i s . _ c o n t a i n e r , t h i s . o p t i o n s . o p a c i t y ) } , _ i n i t C o n t a i n e r : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   a = t h i s . _ m a p . _ p a n e s . t i l e P a n e ; i f ( ! t h i s . _ c o n t a i n e r ) { t h i s . _ c o n t a i n e r = f . D o m U t i l . c r e a t e ( " d i v " , " l e a f l e t - l a y e r " ) ; t h i s . _ u p d a t e Z I n d e x ( ) ; i f ( t h i s . _ a n i m a t e d ) { v a r   b = " l e a f l e t - t i l e - c o n t a i n e r " ; t h i s . _ b g B u f f e r = f . D o m U t i l . c r e a t e ( " d i v " , b , t h i s . _ c o n t a i n e r ) ; t h i s . _ t i l e C o n t a i n e r = f . D o m U t i l . c r e a t e ( " d i v " , b , t h i s . _ c o n t a i n e r ) } e l s e   t h i s . _ t i l e C o n t a i n e r = t h i s . _ c o n t a i n e r ; a . a p p e n d C h i l d ( t h i s . _ c o n t a i n e r ) ; t h i s . o p t i o n s . o p a c i t y < 1 & & t h i s . _ u p d a t e O p a c i t y ( ) } } , _ r e s e t : f u n c t i o n ( a ) { f o r ( v a r   b   i n   t h i s . _ t i l e s ) t h i s . f i r e ( " t i l e u n l o a d " , { t i l e : t h i s . _ t i l e s [ b ] } ) ; t h i s . _ t i l e s = { } ; t h i s . _ t i l e s T o L o a d = 0 ; t h i s . o p t i o n s . r e u s e T i l e s & & ( t h i s . _ u n u s e d T i l e s = [ ] ) ; t h i s . _ t i l e C o n t a i n e r . i n n e r H T M L = " " ; t h i s . _ a n i m a t e d & & a & & a . h a r d & & t h i s . _ c l e a r B g B u f f e r ( ) ; t h i s . _ i n i t C o n t a i n e r ( ) } , _ g e t T i l e S i z e : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p , b = a . g e t Z o o m ( ) + t h i s . o p t i o n s . z o o m O f f s e t , c = t h i s . o p t i o n s . m a x N a t i v e Z o o m , d = t h i s . o p t i o n s . t i l e S i z e ; c & & b > c & & ( d = M a t h . r o u n d ( a . g e t Z o o m S c a l e ( b ) / a . g e t Z o o m S c a l e ( c ) * d ) ) ; r e t u r n   d } , _ u p d a t e : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; i f ( ! t h i s . _ m a p ) r e t u r n ; v a r   a = t h i s . _ m a p , b = a . g e t P i x e l B o u n d s ( ) ; a = a . g e t Z o o m ( ) ; v a r   c = t h i s . _ g e t T i l e S i z e ( ) ; i f ( a > t h i s . o p t i o n s . m a x Z o o m | | a < t h i s . o p t i o n s . m i n Z o o m ) r e t u r n ; a = f . b o u n d s ( b . m i n . d i v i d e B y ( c ) . _ f l o o r ( ) , b . m a x . d i v i d e B y ( c ) . _ f l o o r ( ) ) ; t h i s . _ a d d T i l e s F r o m C e n t e r O u t ( a ) ; ( t h i s . o p t i o n s . u n l o a d I n v i s i b l e T i l e s | | t h i s . o p t i o n s . r e u s e T i l e s ) & & t h i s . _ r e m o v e O t h e r T i l e s ( a ) } , _ a d d T i l e s F r o m C e n t e r O u t : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   c = [ ] , d = a . g e t C e n t e r ( ) , e , g , h ; f o r ( e = a . m i n . y ; e < = a . m a x . y ; e + + ) f o r ( g = a . m i n . x ; g < = a . m a x . x ; g + + ) h = n e w   f . P o i n t ( g , e ) , t h i s . _ t i l e S h o u l d B e L o a d e d ( h ) & & c . p u s h ( h ) ; h = c . l e n g t h ; i f ( h = = = 0 ) r e t u r n ; c . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   a . d i s t a n c e T o ( d ) - b . d i s t a n c e T o ( d ) } ) ; a = b . c r e a t e D o c u m e n t F r a g m e n t ( ) ; t h i s . _ t i l e s T o L o a d | | t h i s . f i r e ( " l o a d i n g " ) ; t h i s . _ t i l e s T o L o a d + = h ; f o r ( g = 0 ; g < h ; g + + ) t h i s . _ a d d T i l e ( c [ g ] , a ) ; t h i s . _ t i l e C o n t a i n e r . a p p e n d C h i l d ( a ) } , _ t i l e S h o u l d B e L o a d e d : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; i f ( a . x + " : " + a . y   i n   t h i s . _ t i l e s ) r e t u r n ! 1 ; v a r   b = t h i s . o p t i o n s ; i f ( ! b . c o n t i n u o u s W o r l d ) { v a r   c = t h i s . _ g e t W r a p T i l e N u m ( ) ; i f ( b . n o W r a p & & ( a . x < 0 | | a . x > = c . x ) | | a . y < 0 | | a . y > = c . y ) r e t u r n ! 1 } i f ( b . b o u n d s ) { c = b . t i l e S i z e ; a = a . m u l t i p l y B y ( c ) ; c = a . a d d ( [ c , c ] ) ; a = t h i s . _ m a p . u n p r o j e c t ( a ) ; c = t h i s . _ m a p . u n p r o j e c t ( c ) ; ! b . c o n t i n u o u s W o r l d & & ! b . n o W r a p & & ( a = a . w r a p ( ) , c = c . w r a p ( ) ) ; i f ( ! b . b o u n d s . i n t e r s e c t s ( [ a , c ] ) ) r e t u r n ! 1 } r e t u r n ! 0 } , _ r e m o v e O t h e r T i l e s : f u n c t i o n ( a ) { v a r   b , c , d ; f o r ( d   i n   t h i s . _ t i l e s ) b = d . s p l i t ( " : " ) , c = p a r s e I n t ( b [ 0 ] , 1 0 ) , b = p a r s e I n t ( b [ 1 ] , 1 0 ) , ( c < a . m i n . x | | c > a . m a x . x | | b < a . m i n . y | | b > a . m a x . y ) & & t h i s . _ r e m o v e T i l e ( d ) } , _ r e m o v e T i l e : f u n c t i o n ( a ) { v a r   b = t h i s . _ t i l e s [ a ] ; t h i s . f i r e ( " t i l e u n l o a d " , { t i l e : b , u r l : b . s r c } ) ; t h i s . o p t i o n s . r e u s e T i l e s ? ( f . D o m U t i l . r e m o v e C l a s s ( b , " l e a f l e t - t i l e - l o a d e d " ) , t h i s . _ u n u s e d T i l e s . p u s h ( b ) ) : b . p a r e n t N o d e = = = t h i s . _ t i l e C o n t a i n e r & & t h i s . _ t i l e C o n t a i n e r . r e m o v e C h i l d ( b ) ; f . B r o w s e r . a n d r o i d | | ( b . o n l o a d = n u l l , b . s r c = f . U t i l . e m p t y I m a g e U r l ) ; d e l e t e   t h i s . _ t i l e s [ a ] } , _ a d d T i l e : f u n c t i o n ( a , b ) { v a r   c = t h i s . _ g e t T i l e P o s ( a ) , d = t h i s . _ g e t T i l e ( ) ; f . D o m U t i l . s e t P o s i t i o n ( d , c , f . B r o w s e r . c h r o m e ) ; t h i s . _ t i l e s [ a . x + " : " + a . y ] = d ; t h i s . _ l o a d T i l e ( d , a ) ; d . p a r e n t N o d e ! = = t h i s . _ t i l e C o n t a i n e r & & b . a p p e n d C h i l d ( d ) } , _ g e t Z o o m F o r U r l : f u n c t i o n ( ) { v a r   a = t h i s . o p t i o n s , b = t h i s . _ m a p . g e t Z o o m ( ) ; a . z o o m R e v e r s e & & ( b = a . m a x Z o o m - b ) ; b + = a . z o o m O f f s e t ; r e t u r n   a . m a x N a t i v e Z o o m ? M a t h . m i n ( b , a . m a x N a t i v e Z o o m ) : b } , _ g e t T i l e P o s : f u n c t i o n ( a ) { v a r   b = t h i s . _ m a p . g e t P i x e l O r i g i n ( ) , c = t h i s . _ g e t T i l e S i z e ( ) ; r e t u r n   a . m u l t i p l y B y ( c ) . s u b t r a c t ( b ) } , g e t T i l e U r l : f u n c t i o n ( a ) { r e t u r n   f . U t i l . t e m p l a t e ( t h i s . _ u r l , f . e x t e n d ( { s : t h i s . _ g e t S u b d o m a i n ( a ) , z : a . z , x : a . x , y : a . y } , t h i s . o p t i o n s ) ) } , _ g e t W r a p T i l e N u m : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p . o p t i o n s . c r s ; a = a . g e t S i z e ( t h i s . _ m a p . g e t Z o o m ( ) ) ; r e t u r n   a . d i v i d e B y ( t h i s . _ g e t T i l e S i z e ( ) ) . _ f l o o r ( ) } , _ a d j u s t T i l e P o i n t : f u n c t i o n ( a ) { v a r   b = t h i s . _ g e t W r a p T i l e N u m ( ) ; ! t h i s . o p t i o n s . c o n t i n u o u s W o r l d & & ! t h i s . o p t i o n s . n o W r a p & & ( a . x = ( a . x % b . x + b . x ) % b . x ) ; t h i s . o p t i o n s . t m s & & ( a . y = b . y - a . y - 1 ) ; a . z = t h i s . _ g e t Z o o m F o r U r l ( ) } , _ g e t S u b d o m a i n : f u n c t i o n ( a ) { a = M a t h . a b s ( a . x + a . y ) % t h i s . o p t i o n s . s u b d o m a i n s . l e n g t h ; r e t u r n   t h i s . o p t i o n s . s u b d o m a i n s [ a ] } , _ g e t T i l e : f u n c t i o n ( ) { i f ( t h i s . o p t i o n s . r e u s e T i l e s & & t h i s . _ u n u s e d T i l e s . l e n g t h > 0 ) { v a r   a = t h i s . _ u n u s e d T i l e s . p o p ( ) ; t h i s . _ r e s e t T i l e ( a ) ; r e t u r n   a } r e t u r n   t h i s . _ c r e a t e T i l e ( ) } , _ r e s e t T i l e : f u n c t i o n ( ) { } , _ c r e a t e T i l e : f u n c t i o n ( ) { v a r   a = f . D o m U t i l . c r e a t e ( " i m g " , " l e a f l e t - t i l e " ) ; a . s t y l e . w i d t h = a . s t y l e . h e i g h t = t h i s . _ g e t T i l e S i z e ( ) + " p x " ; a . g a l l e r y i m g = " n o " ; a . o n s e l e c t s t a r t = a . o n m o u s e m o v e = f . U t i l . f a l s e F n ; f . B r o w s e r . i e l t 9 & & t h i s . o p t i o n s . o p a c i t y ! = = v o i d   0 & & f . D o m U t i l . s e t O p a c i t y ( a , t h i s . o p t i o n s . o p a c i t y ) ; f . B r o w s e r . m o b i l e W e b k i t 3 d & & ( a . s t y l e . W e b k i t B a c k f a c e V i s i b i l i t y = " h i d d e n " ) ; r e t u r n   a } , _ l o a d T i l e : f u n c t i o n ( a , b ) { a . _ l a y e r = t h i s , a . o n l o a d = t h i s . _ t i l e O n L o a d , a . o n e r r o r = t h i s . _ t i l e O n E r r o r , t h i s . _ a d j u s t T i l e P o i n t ( b ) , a . s r c = t h i s . g e t T i l e U r l ( b ) , t h i s . f i r e ( " t i l e l o a d s t a r t " , { t i l e : a , u r l : a . s r c } ) } , _ t i l e L o a d e d : f u n c t i o n ( ) { t h i s . _ t i l e s T o L o a d - - , t h i s . _ a n i m a t e d & & f . D o m U t i l . a d d C l a s s ( t h i s . _ t i l e C o n t a i n e r , " l e a f l e t - z o o m - a n i m a t e d " ) , t h i s . _ t i l e s T o L o a d | | ( t h i s . f i r e ( " l o a d " ) , t h i s . _ a n i m a t e d & & ( c l e a r T i m e o u t ( t h i s . _ c l e a r B g B u f f e r T i m e r ) , t h i s . _ c l e a r B g B u f f e r T i m e r = s e t T i m e o u t ( f . b i n d ( t h i s . _ c l e a r B g B u f f e r , t h i s ) , 5 0 0 ) ) ) } , _ t i l e O n L o a d : f u n c t i o n ( ) { v a r   a = t h i s . _ l a y e r ; t h i s . s r c ! = = f . U t i l . e m p t y I m a g e U r l & & ( f . D o m U t i l . a d d C l a s s ( t h i s , " l e a f l e t - t i l e - l o a d e d " ) , a . f i r e ( " t i l e l o a d " , { t i l e : t h i s , u r l : t h i s . s r c } ) ) ; a . _ t i l e L o a d e d ( ) } , _ t i l e O n E r r o r : f u n c t i o n ( ) { v a r   a = t h i s . _ l a y e r ; a . f i r e ( " t i l e e r r o r " , { t i l e : t h i s , u r l : t h i s . s r c } ) ; v a r   b = a . o p t i o n s . e r r o r T i l e U r l ; b & & ( t h i s . s r c = b ) ; a . _ t i l e L o a d e d ( ) } } ) ; f . t i l e L a y e r = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . T i l e L a y e r ( a , b ) } ; f . T i l e L a y e r . W M S = f . T i l e L a y e r . e x t e n d ( { d e f a u l t W m s P a r a m s : { s e r v i c e : " W M S " , r e q u e s t : " G e t M a p " , v e r s i o n : " 1 . 1 . 1 " , l a y e r s : " " , s t y l e s : " " , f o r m a t : " i m a g e / j p e g " , t r a n s p a r e n t : ! 1 } , i n i t i a l i z e : f u n c t i o n ( a , b ) { t h i s . _ u r l = a ; a = f . e x t e n d ( { } , t h i s . d e f a u l t W m s P a r a m s ) ; v a r   c = b . t i l e S i z e | | t h i s . o p t i o n s . t i l e S i z e ; b . d e t e c t R e t i n a & & f . B r o w s e r . r e t i n a ? a . w i d t h = a . h e i g h t = c * 2 : a . w i d t h = a . h e i g h t = c ; f o r ( v a r   d   i n   b ) ! t h i s . o p t i o n s . h a s O w n P r o p e r t y ( d ) & & d ! = = " c r s " & & ( a [ d ] = b [ d ] ) ; t h i s . w m s P a r a m s = a ; f . s e t O p t i o n s ( t h i s , b ) } , o n A d d : f u n c t i o n ( a ) { t h i s . _ c r s = t h i s . o p t i o n s . c r s | | a . o p t i o n s . c r s ; t h i s . _ w m s V e r s i o n = p a r s e F l o a t ( t h i s . w m s P a r a m s . v e r s i o n ) ; v a r   b = t h i s . _ w m s V e r s i o n > = 1 . 3 ? " c r s " : " s r s " ; t h i s . w m s P a r a m s [ b ] = t h i s . _ c r s . c o d e ; f . T i l e L a y e r . p r o t o t y p e . o n A d d . c a l l ( t h i s , a ) } , g e t T i l e U r l : f u n c t i o n ( a ) { v a r   b = t h i s . _ m a p , c = t h i s . o p t i o n s . t i l e S i z e , d = a . m u l t i p l y B y ( c ) ; c = d . a d d ( [ c , c ] ) ; d = t h i s . _ c r s . p r o j e c t ( b . u n p r o j e c t ( d , a . z ) ) ; b = t h i s . _ c r s . p r o j e c t ( b . u n p r o j e c t ( c , a . z ) ) ; c = t h i s . _ w m s V e r s i o n > = 1 . 3 & & t h i s . _ c r s = = = f . C R S . E P S G 4 3 2 6 ? [ b . y , d . x , d . y , b . x ] . j o i n ( " , " ) : [ d . x , b . y , b . x , d . y ] . j o i n ( " , " ) ; b = f . U t i l . t e m p l a t e ( t h i s . _ u r l , { s : t h i s . _ g e t S u b d o m a i n ( a ) } ) ; r e t u r n   b + f . U t i l . g e t P a r a m S t r i n g ( t h i s . w m s P a r a m s , b , ! 0 ) + " & B B O X = " + c } , s e t P a r a m s : f u n c t i o n ( a , b ) { f . e x t e n d ( t h i s . w m s P a r a m s , a ) ; b | | t h i s . r e d r a w ( ) ; r e t u r n   t h i s } } ) ; f . t i l e L a y e r . w m s = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . T i l e L a y e r . W M S ( a , b ) } ; f . T i l e L a y e r . C a n v a s = f . T i l e L a y e r . e x t e n d ( { o p t i o n s : { a s y n c : ! 1 } , i n i t i a l i z e : f u n c t i o n ( a ) { f . s e t O p t i o n s ( t h i s , a ) } , r e d r a w : f u n c t i o n ( ) { t h i s . _ m a p & & ( t h i s . _ r e s e t ( { h a r d : ! 0 } ) , t h i s . _ u p d a t e ( ) ) ; f o r ( v a r   a   i n   t h i s . _ t i l e s ) t h i s . _ r e d r a w T i l e ( t h i s . _ t i l e s [ a ] ) ; r e t u r n   t h i s } , _ r e d r a w T i l e : f u n c t i o n ( a ) { t h i s . d r a w T i l e ( a , a . _ t i l e P o i n t , t h i s . _ m a p . _ z o o m ) } , _ c r e a t e T i l e : f u n c t i o n ( ) { v a r   a = f . D o m U t i l . c r e a t e ( " c a n v a s " , " l e a f l e t - t i l e " ) ; a . w i d t h = a . h e i g h t = t h i s . o p t i o n s . t i l e S i z e ; a . o n s e l e c t s t a r t = a . o n m o u s e m o v e = f . U t i l . f a l s e F n ; r e t u r n   a } , _ l o a d T i l e : f u n c t i o n ( a , b ) { a . _ l a y e r = t h i s , a . _ t i l e P o i n t = b , t h i s . _ r e d r a w T i l e ( a ) , t h i s . o p t i o n s . a s y n c | | t h i s . t i l e D r a w n ( a ) } , d r a w T i l e : f u n c t i o n ( ) { } , t i l e D r a w n : f u n c t i o n ( a ) { t h i s . _ t i l e O n L o a d . c a l l ( a ) } } ) ; f . t i l e L a y e r . c a n v a s = f u n c t i o n ( a ) { r e t u r n   n e w   f . T i l e L a y e r . C a n v a s ( a ) } ; f . I m a g e O v e r l a y = f . C l a s s . e x t e n d ( { i n c l u d e s : f . M i x i n . E v e n t s , o p t i o n s : { o p a c i t y : 1 } , i n i t i a l i z e : f u n c t i o n ( a , b , c ) { t h i s . _ u r l = a , t h i s . _ b o u n d s = f . l a t L n g B o u n d s ( b ) , f . s e t O p t i o n s ( t h i s , c ) } , o n A d d : f u n c t i o n ( a ) { t h i s . _ m a p = a , t h i s . _ i m a g e | | t h i s . _ i n i t I m a g e ( ) , a . _ p a n e s . o v e r l a y P a n e . a p p e n d C h i l d ( t h i s . _ i m a g e ) , a . o n ( " v i e w r e s e t " , t h i s . _ r e s e t , t h i s ) , a . o p t i o n s . z o o m A n i m a t i o n & & f . B r o w s e r . a n y 3 d & & a . o n ( " z o o m a n i m " , t h i s . _ a n i m a t e Z o o m , t h i s ) , t h i s . _ r e s e t ( ) } , o n R e m o v e : f u n c t i o n ( a ) { a . g e t P a n e s ( ) . o v e r l a y P a n e . r e m o v e C h i l d ( t h i s . _ i m a g e ) , a . o f f ( " v i e w r e s e t " , t h i s . _ r e s e t , t h i s ) , a . o p t i o n s . z o o m A n i m a t i o n & & a . o f f ( " z o o m a n i m " , t h i s . _ a n i m a t e Z o o m , t h i s ) } , a d d T o : f u n c t i o n ( a ) { a . a d d L a y e r ( t h i s ) ; r e t u r n   t h i s } , s e t O p a c i t y : f u n c t i o n ( a ) { t h i s . o p t i o n s . o p a c i t y = a ; t h i s . _ u p d a t e O p a c i t y ( ) ; r e t u r n   t h i s } , b r i n g T o F r o n t : f u n c t i o n ( ) { t h i s . _ i m a g e & & t h i s . _ m a p . _ p a n e s . o v e r l a y P a n e . a p p e n d C h i l d ( t h i s . _ i m a g e ) ; r e t u r n   t h i s } , b r i n g T o B a c k : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p . _ p a n e s . o v e r l a y P a n e ; t h i s . _ i m a g e & & a . i n s e r t B e f o r e ( t h i s . _ i m a g e , a . f i r s t C h i l d ) ; r e t u r n   t h i s } , s e t U r l : f u n c t i o n ( a ) { t h i s . _ u r l = a , t h i s . _ i m a g e . s r c = t h i s . _ u r l } , g e t A t t r i b u t i o n : f u n c t i o n ( ) { r e t u r n   t h i s . o p t i o n s . a t t r i b u t i o n } , _ i n i t I m a g e : f u n c t i o n ( ) { t h i s . _ i m a g e = f . D o m U t i l . c r e a t e ( " i m g " , " l e a f l e t - i m a g e - l a y e r " ) , t h i s . _ m a p . o p t i o n s . z o o m A n i m a t i o n & & f . B r o w s e r . a n y 3 d ? f . D o m U t i l . a d d C l a s s ( t h i s . _ i m a g e , " l e a f l e t - z o o m - a n i m a t e d " ) : f . D o m U t i l . a d d C l a s s ( t h i s . _ i m a g e , " l e a f l e t - z o o m - h i d e " ) , t h i s . _ u p d a t e O p a c i t y ( ) , f . e x t e n d ( t h i s . _ i m a g e , { g a l l e r y i m g : " n o " , o n s e l e c t s t a r t : f . U t i l . f a l s e F n , o n m o u s e m o v e : f . U t i l . f a l s e F n , o n l o a d : f . b i n d ( t h i s . _ o n I m a g e L o a d , t h i s ) , s r c : t h i s . _ u r l } ) } , _ a n i m a t e Z o o m : f u n c t i o n ( a ) { v a r   b = t h i s . _ m a p , c = t h i s . _ i m a g e , d = b . g e t Z o o m S c a l e ( a . z o o m ) , e = t h i s . _ b o u n d s . g e t N o r t h W e s t ( ) , g = t h i s . _ b o u n d s . g e t S o u t h E a s t ( ) ; e = b . _ l a t L n g T o N e w L a y e r P o i n t ( e , a . z o o m , a . c e n t e r ) ; b = b . _ l a t L n g T o N e w L a y e r P o i n t ( g , a . z o o m , a . c e n t e r ) . _ s u b t r a c t ( e ) ; g = e . _ a d d ( b . _ m u l t i p l y B y ( 1 / 2 * ( 1 - 1 / d ) ) ) ; c . s t y l e [ f . D o m U t i l . T R A N S F O R M ] = f . D o m U t i l . g e t T r a n s l a t e S t r i n g ( g ) + "   s c a l e ( " + d + " )   " } , _ r e s e t : f u n c t i o n ( ) { v a r   a = t h i s . _ i m a g e , b = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( t h i s . _ b o u n d s . g e t N o r t h W e s t ( ) ) , c = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( t h i s . _ b o u n d s . g e t S o u t h E a s t ( ) ) . _ s u b t r a c t ( b ) ; f . D o m U t i l . s e t P o s i t i o n ( a , b ) ; a . s t y l e . w i d t h = c . x + " p x " ; a . s t y l e . h e i g h t = c . y + " p x " } , _ o n I m a g e L o a d : f u n c t i o n ( ) { t h i s . f i r e ( " l o a d " ) } , _ u p d a t e O p a c i t y : f u n c t i o n ( ) { f . D o m U t i l . s e t O p a c i t y ( t h i s . _ i m a g e , t h i s . o p t i o n s . o p a c i t y ) } } ) ; f . i m a g e O v e r l a y = f u n c t i o n ( a , b , c ) { r e t u r n   n e w   f . I m a g e O v e r l a y ( a , b , c ) } ; f . I c o n = f . C l a s s . e x t e n d ( { o p t i o n s : { c l a s s N a m e : " " } , i n i t i a l i z e : f u n c t i o n ( a ) { f . s e t O p t i o n s ( t h i s , a ) } , c r e a t e I c o n : f u n c t i o n ( a ) { r e t u r n   t h i s . _ c r e a t e I c o n ( " i c o n " , a ) } , c r e a t e S h a d o w : f u n c t i o n ( a ) { r e t u r n   t h i s . _ c r e a t e I c o n ( " s h a d o w " , a ) } , _ c r e a t e I c o n : f u n c t i o n ( a , b ) { _ _ p & & _ _ p ( ) ; v a r   c = t h i s . _ g e t I c o n U r l ( a ) ; i f ( ! c ) { i f ( a = = = " i c o n " ) t h r o w   n e w   E r r o r ( " i c o n U r l   n o t   s e t   i n   I c o n   o p t i o n s   ( s e e   t h e   d o c s ) . " ) ; r e t u r n   n u l l } v a r   d ; ! b | | b . t a g N a m e ! = = " I M G " ? d = t h i s . _ c r e a t e I m g ( c ) : d = t h i s . _ c r e a t e I m g ( c , b ) ; t h i s . _ s e t I c o n S t y l e s ( d , a ) ; r e t u r n   d } , _ s e t I c o n S t y l e s : f u n c t i o n ( a , b ) { v a r   c = t h i s . o p t i o n s , d = f . p o i n t ( c [ b + " S i z e " ] ) , e ; b = = = " s h a d o w " ? e = f . p o i n t ( c . s h a d o w A n c h o r | | c . i c o n A n c h o r ) : e = f . p o i n t ( c . i c o n A n c h o r ) ; ! e & & d & & ( e = d . d i v i d e B y ( 2 , ! 0 ) ) ; a . c l a s s N a m e = " l e a f l e t - m a r k e r - " + b + "   " + c . c l a s s N a m e ; e & & ( a . s t y l e . m a r g i n L e f t = - e . x + " p x " , a . s t y l e . m a r g i n T o p = - e . y + " p x " ) ; d & & ( a . s t y l e . w i d t h = d . x + " p x " , a . s t y l e . h e i g h t = d . y + " p x " ) } , _ c r e a t e I m g : f u n c t i o n ( a , c ) { c = c | | b . c r e a t e E l e m e n t ( " i m g " ) ; c . s r c = a ; r e t u r n   c } , _ g e t I c o n U r l : f u n c t i o n ( a ) { r e t u r n   f . B r o w s e r . r e t i n a & & t h i s . o p t i o n s [ a + " R e t i n a U r l " ] ? t h i s . o p t i o n s [ a + " R e t i n a U r l " ] : t h i s . o p t i o n s [ a + " U r l " ] } } ) ; f . i c o n = f u n c t i o n ( a ) { r e t u r n   n e w   f . I c o n ( a ) } ; f . I c o n . D e f a u l t = f . I c o n . e x t e n d ( { o p t i o n s : { i c o n S i z e : [ 2 5 , 4 1 ] , i c o n A n c h o r : [ 1 2 , 4 1 ] , p o p u p A n c h o r : [ 1 , - 3 4 ] , s h a d o w S i z e : [ 4 1 , 4 1 ] } , _ g e t I c o n U r l : f u n c t i o n ( a ) { v a r   b = a + " U r l " ; i f ( t h i s . o p t i o n s [ b ] ) r e t u r n   t h i s . o p t i o n s [ b ] ; f . B r o w s e r . r e t i n a & & a = = = " i c o n " & & ( a + = " - 2 x " ) ; b = f . I c o n . D e f a u l t . i m a g e P a t h ; i f ( ! b ) t h r o w   n e w   E r r o r ( " C o u l d n ' t   a u t o d e t e c t   L . I c o n . D e f a u l t . i m a g e P a t h ,   s e t   i t   m a n u a l l y . " ) ; r e t u r n   b + " / m a r k e r - " + a + " . p n g " } } ) ; f . I c o n . D e f a u l t . i m a g e P a t h = f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; i f ( ! b . g e t E l e m e n t s B y T a g N a m e ) r e t u r n   n u l l ; v a r   a = b . g e t E l e m e n t s B y T a g N a m e ( " s c r i p t " ) , c = / [ \ / ^ ] l e a f l e t [ \ - \ . _ ] ? ( [ \ w \ - \ . _ ] * ) \ . j s \ ? ? / , d , e , f , g ; f o r ( d = 0 , e = a . l e n g t h ; d < e ; d + + ) { f = a [ d ] . s r c ; g = f . m a t c h ( c ) ; i f ( g ) { g = f . s p l i t ( c ) [ 0 ] ; r e t u r n ( g ? g + " / " : " " ) + " i m a g e s " } } } ( ) ; f . M a r k e r = f . C l a s s . e x t e n d ( { i n c l u d e s : f . M i x i n . E v e n t s , o p t i o n s : { i c o n : n e w   f . I c o n . D e f a u l t ( ) , t i t l e : " " , a l t : " " , c l i c k a b l e : ! 0 , d r a g g a b l e : ! 1 , k e y b o a r d : ! 0 , z I n d e x O f f s e t : 0 , o p a c i t y : 1 , r i s e O n H o v e r : ! 1 , r i s e O f f s e t : 2 5 0 } , i n i t i a l i z e : f u n c t i o n ( a , b ) { f . s e t O p t i o n s ( t h i s , b ) , t h i s . _ l a t l n g = f . l a t L n g ( a ) } , o n A d d : f u n c t i o n ( a ) { t h i s . _ m a p = a , a . o n ( " v i e w r e s e t " , t h i s . u p d a t e , t h i s ) , t h i s . _ i n i t I c o n ( ) , t h i s . u p d a t e ( ) , t h i s . f i r e ( " a d d " ) , a . o p t i o n s . z o o m A n i m a t i o n & & a . o p t i o n s . m a r k e r Z o o m A n i m a t i o n & & a . o n ( " z o o m a n i m " , t h i s . _ a n i m a t e Z o o m , t h i s ) } , a d d T o : f u n c t i o n ( a ) { a . a d d L a y e r ( t h i s ) ; r e t u r n   t h i s } , o n R e m o v e : f u n c t i o n ( a ) { t h i s . d r a g g i n g & & t h i s . d r a g g i n g . d i s a b l e ( ) , t h i s . _ r e m o v e I c o n ( ) , t h i s . _ r e m o v e S h a d o w ( ) , t h i s . f i r e ( " r e m o v e " ) , a . o f f ( { v i e w r e s e t : t h i s . u p d a t e , z o o m a n i m : t h i s . _ a n i m a t e Z o o m } , t h i s ) , t h i s . _ m a p = n u l l } , g e t L a t L n g : f u n c t i o n ( ) { r e t u r n   t h i s . _ l a t l n g } , s e t L a t L n g : f u n c t i o n ( a ) { t h i s . _ l a t l n g = f . l a t L n g ( a ) ; t h i s . u p d a t e ( ) ; r e t u r n   t h i s . f i r e ( " m o v e " , { l a t l n g : t h i s . _ l a t l n g } ) } , s e t Z I n d e x O f f s e t : f u n c t i o n ( a ) { t h i s . o p t i o n s . z I n d e x O f f s e t = a ; t h i s . u p d a t e ( ) ; r e t u r n   t h i s } , s e t I c o n : f u n c t i o n ( a ) { t h i s . o p t i o n s . i c o n = a ; t h i s . _ m a p & & ( t h i s . _ i n i t I c o n ( ) , t h i s . u p d a t e ( ) ) ; t h i s . _ p o p u p & & t h i s . b i n d P o p u p ( t h i s . _ p o p u p ) ; r e t u r n   t h i s } , u p d a t e : f u n c t i o n ( ) { i f ( t h i s . _ i c o n ) { v a r   a = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( t h i s . _ l a t l n g ) . r o u n d ( ) ; t h i s . _ s e t P o s ( a ) } r e t u r n   t h i s } , _ i n i t I c o n : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   a = t h i s . o p t i o n s , b = t h i s . _ m a p ; b = b . o p t i o n s . z o o m A n i m a t i o n & & b . o p t i o n s . m a r k e r Z o o m A n i m a t i o n ; b = b ? " l e a f l e t - z o o m - a n i m a t e d " : " l e a f l e t - z o o m - h i d e " ; v a r   c = a . i c o n . c r e a t e I c o n ( t h i s . _ i c o n ) , d = ! 1 ; c ! = = t h i s . _ i c o n & & ( t h i s . _ i c o n & & t h i s . _ r e m o v e I c o n ( ) , d = ! 0 , a . t i t l e & & ( c . t i t l e = a . t i t l e ) , a . a l t & & ( c . a l t = a . a l t ) ) ; f . D o m U t i l . a d d C l a s s ( c , b ) ; a . k e y b o a r d & & ( c . t a b I n d e x = " 0 " ) ; t h i s . _ i c o n = c ; t h i s . _ i n i t I n t e r a c t i o n ( ) ; a . r i s e O n H o v e r & & f . D o m E v e n t . o n ( c , " m o u s e o v e r " , t h i s . _ b r i n g T o F r o n t , t h i s ) . o n ( c , " m o u s e o u t " , t h i s . _ r e s e t Z I n d e x , t h i s ) ; c = a . i c o n . c r e a t e S h a d o w ( t h i s . _ s h a d o w ) ; v a r   e = ! 1 ; c ! = = t h i s . _ s h a d o w & & ( t h i s . _ r e m o v e S h a d o w ( ) , e = ! 0 ) ; c & & f . D o m U t i l . a d d C l a s s ( c , b ) ; t h i s . _ s h a d o w = c ; a . o p a c i t y < 1 & & t h i s . _ u p d a t e O p a c i t y ( ) ; b = t h i s . _ m a p . _ p a n e s ; d & & b . m a r k e r P a n e . a p p e n d C h i l d ( t h i s . _ i c o n ) ; c & & e & & b . s h a d o w P a n e . a p p e n d C h i l d ( t h i s . _ s h a d o w ) } , _ r e m o v e I c o n : f u n c t i o n ( ) { t h i s . o p t i o n s . r i s e O n H o v e r & & f . D o m E v e n t . o f f ( t h i s . _ i c o n , " m o u s e o v e r " , t h i s . _ b r i n g T o F r o n t ) . o f f ( t h i s . _ i c o n , " m o u s e o u t " , t h i s . _ r e s e t Z I n d e x ) , t h i s . _ m a p . _ p a n e s . m a r k e r P a n e . r e m o v e C h i l d ( t h i s . _ i c o n ) , t h i s . _ i c o n = n u l l } , _ r e m o v e S h a d o w : f u n c t i o n ( ) { t h i s . _ s h a d o w & & t h i s . _ m a p . _ p a n e s . s h a d o w P a n e . r e m o v e C h i l d ( t h i s . _ s h a d o w ) , t h i s . _ s h a d o w = n u l l } , _ s e t P o s : f u n c t i o n ( a ) { f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ i c o n , a ) , t h i s . _ s h a d o w & & f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ s h a d o w , a ) , t h i s . _ z I n d e x = a . y + t h i s . o p t i o n s . z I n d e x O f f s e t , t h i s . _ r e s e t Z I n d e x ( ) } , _ u p d a t e Z I n d e x : f u n c t i o n ( a ) { t h i s . _ i c o n . s t y l e . z I n d e x = t h i s . _ z I n d e x + a } , _ a n i m a t e Z o o m : f u n c t i o n ( a ) { a = t h i s . _ m a p . _ l a t L n g T o N e w L a y e r P o i n t ( t h i s . _ l a t l n g , a . z o o m , a . c e n t e r ) . r o u n d ( ) ; t h i s . _ s e t P o s ( a ) } , _ i n i t I n t e r a c t i o n : f u n c t i o n ( ) { i f ( ! t h i s . o p t i o n s . c l i c k a b l e ) r e t u r n ; v a r   a = t h i s . _ i c o n , b = [ " d b l c l i c k " , " m o u s e d o w n " , " m o u s e o v e r " , " m o u s e o u t " , " c o n t e x t m e n u " ] ; f . D o m U t i l . a d d C l a s s ( a , " l e a f l e t - c l i c k a b l e " ) ; f . D o m E v e n t . o n ( a , " c l i c k " , t h i s . _ o n M o u s e C l i c k , t h i s ) ; f . D o m E v e n t . o n ( a , " k e y p r e s s " , t h i s . _ o n K e y P r e s s , t h i s ) ; f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) f . D o m E v e n t . o n ( a , b [ c ] , t h i s . _ f i r e M o u s e E v e n t , t h i s ) ; f . H a n d l e r . M a r k e r D r a g & & ( t h i s . d r a g g i n g = n e w   f . H a n d l e r . M a r k e r D r a g ( t h i s ) , t h i s . o p t i o n s . d r a g g a b l e & & t h i s . d r a g g i n g . e n a b l e ( ) ) } , _ o n M o u s e C l i c k : f u n c t i o n ( a ) { v a r   b = t h i s . d r a g g i n g & & t h i s . d r a g g i n g . m o v e d ( ) ; ( t h i s . h a s E v e n t L i s t e n e r s ( a . t y p e ) | | b ) & & f . D o m E v e n t . s t o p P r o p a g a t i o n ( a ) ; i f ( b ) r e t u r n ; i f ( ( ! t h i s . d r a g g i n g | | ! t h i s . d r a g g i n g . _ e n a b l e d ) & & t h i s . _ m a p . d r a g g i n g & & t h i s . _ m a p . d r a g g i n g . m o v e d ( ) ) r e t u r n ; t h i s . f i r e ( a . t y p e , { o r i g i n a l E v e n t : a , l a t l n g : t h i s . _ l a t l n g } ) } , _ o n K e y P r e s s : f u n c t i o n ( a ) { a . k e y C o d e = = = 1 3 & & t h i s . f i r e ( " c l i c k " , { o r i g i n a l E v e n t : a , l a t l n g : t h i s . _ l a t l n g } ) } , _ f i r e M o u s e E v e n t : f u n c t i o n ( a ) { t h i s . f i r e ( a . t y p e , { o r i g i n a l E v e n t : a , l a t l n g : t h i s . _ l a t l n g } ) , a . t y p e = = = " c o n t e x t m e n u " & & t h i s . h a s E v e n t L i s t e n e r s ( a . t y p e ) & & f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) , a . t y p e ! = = " m o u s e d o w n " ? f . D o m E v e n t . s t o p P r o p a g a t i o n ( a ) : f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) } , s e t O p a c i t y : f u n c t i o n ( a ) { t h i s . o p t i o n s . o p a c i t y = a ; t h i s . _ m a p & & t h i s . _ u p d a t e O p a c i t y ( ) ; r e t u r n   t h i s } , _ u p d a t e O p a c i t y : f u n c t i o n ( ) { f . D o m U t i l . s e t O p a c i t y ( t h i s . _ i c o n , t h i s . o p t i o n s . o p a c i t y ) , t h i s . _ s h a d o w & & f . D o m U t i l . s e t O p a c i t y ( t h i s . _ s h a d o w , t h i s . o p t i o n s . o p a c i t y ) } , _ b r i n g T o F r o n t : f u n c t i o n ( ) { t h i s . _ u p d a t e Z I n d e x ( t h i s . o p t i o n s . r i s e O f f s e t ) } , _ r e s e t Z I n d e x : f u n c t i o n ( ) { t h i s . _ u p d a t e Z I n d e x ( 0 ) } } ) ; f . m a r k e r = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . M a r k e r ( a , b ) } ; f . D i v I c o n = f . I c o n . e x t e n d ( { o p t i o n s : { i c o n S i z e : [ 1 2 , 1 2 ] , c l a s s N a m e : " l e a f l e t - d i v - i c o n " , h t m l : ! 1 } , c r e a t e I c o n : f u n c t i o n ( a ) { a = a & & a . t a g N a m e = = = " D I V " ? a : b . c r e a t e E l e m e n t ( " d i v " ) ; v a r   c = t h i s . o p t i o n s ; c . h t m l ! = = ! 1 ? a . i n n e r H T M L = c . h t m l : a . i n n e r H T M L = " " ; c . b g P o s & & ( a . s t y l e . b a c k g r o u n d P o s i t i o n = - c . b g P o s . x + " p x   " + - c . b g P o s . y + " p x " ) ; t h i s . _ s e t I c o n S t y l e s ( a , " i c o n " ) ; r e t u r n   a } , c r e a t e S h a d o w : f u n c t i o n ( ) { r e t u r n   n u l l } } ) ; f . d i v I c o n = f u n c t i o n ( a ) { r e t u r n   n e w   f . D i v I c o n ( a ) } ; f . M a p . m e r g e O p t i o n s ( { c l o s e P o p u p O n C l i c k : ! 0 } ) ; f . P o p u p = f . C l a s s . e x t e n d ( { i n c l u d e s : f . M i x i n . E v e n t s , o p t i o n s : { m i n W i d t h : 5 0 , m a x W i d t h : 3 0 0 , a u t o P a n : ! 0 , c l o s e B u t t o n : ! 0 , o f f s e t : [ 0 , 7 ] , a u t o P a n P a d d i n g : [ 5 , 5 ] , k e e p I n V i e w : ! 1 , c l a s s N a m e : " " , z o o m A n i m a t i o n : ! 0 } , i n i t i a l i z e : f u n c t i o n ( a , b ) { f . s e t O p t i o n s ( t h i s , a ) , t h i s . _ s o u r c e = b , t h i s . _ a n i m a t e d = f . B r o w s e r . a n y 3 d & & t h i s . o p t i o n s . z o o m A n i m a t i o n , t h i s . _ i s O p e n = ! 1 } , o n A d d : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; t h i s . _ m a p = a ; t h i s . _ c o n t a i n e r | | t h i s . _ i n i t L a y o u t ( ) ; v a r   b = a . o p t i o n s . f a d e A n i m a t i o n ; b & & f . D o m U t i l . s e t O p a c i t y ( t h i s . _ c o n t a i n e r , 0 ) ; a . _ p a n e s . p o p u p P a n e . a p p e n d C h i l d ( t h i s . _ c o n t a i n e r ) ; a . o n ( t h i s . _ g e t E v e n t s ( ) , t h i s ) ; t h i s . u p d a t e ( ) ; b & & f . D o m U t i l . s e t O p a c i t y ( t h i s . _ c o n t a i n e r , 1 ) ; t h i s . f i r e ( " o p e n " ) ; a . f i r e ( " p o p u p o p e n " , { p o p u p : t h i s } ) ; t h i s . _ s o u r c e & & t h i s . _ s o u r c e . f i r e ( " p o p u p o p e n " , { p o p u p : t h i s } ) } , a d d T o : f u n c t i o n ( a ) { a . a d d L a y e r ( t h i s ) ; r e t u r n   t h i s } , o p e n O n : f u n c t i o n ( a ) { a . o p e n P o p u p ( t h i s ) ; r e t u r n   t h i s } , o n R e m o v e : f u n c t i o n ( a ) { a . _ p a n e s . p o p u p P a n e . r e m o v e C h i l d ( t h i s . _ c o n t a i n e r ) , f . U t i l . f a l s e F n ( t h i s . _ c o n t a i n e r . o f f s e t W i d t h ) , a . o f f ( t h i s . _ g e t E v e n t s ( ) , t h i s ) , a . o p t i o n s . f a d e A n i m a t i o n & & f . D o m U t i l . s e t O p a c i t y ( t h i s . _ c o n t a i n e r , 0 ) , t h i s . _ m a p = n u l l , t h i s . f i r e ( " c l o s e " ) , a . f i r e ( " p o p u p c l o s e " , { p o p u p : t h i s } ) , t h i s . _ s o u r c e & & t h i s . _ s o u r c e . f i r e ( " p o p u p c l o s e " , { p o p u p : t h i s } ) } , g e t L a t L n g : f u n c t i o n ( ) { r e t u r n   t h i s . _ l a t l n g } , s e t L a t L n g : f u n c t i o n ( a ) { t h i s . _ l a t l n g = f . l a t L n g ( a ) ; t h i s . _ m a p & & ( t h i s . _ u p d a t e P o s i t i o n ( ) , t h i s . _ a d j u s t P a n ( ) ) ; r e t u r n   t h i s } , g e t C o n t e n t : f u n c t i o n ( ) { r e t u r n   t h i s . _ c o n t e n t } , s e t C o n t e n t : f u n c t i o n ( a ) { t h i s . _ c o n t e n t = a ; t h i s . u p d a t e ( ) ; r e t u r n   t h i s } , u p d a t e : f u n c t i o n ( ) { i f ( ! t h i s . _ m a p ) r e t u r n ; t h i s . _ c o n t a i n e r . s t y l e . v i s i b i l i t y = " h i d d e n " ; t h i s . _ u p d a t e C o n t e n t ( ) ; t h i s . _ u p d a t e L a y o u t ( ) ; t h i s . _ u p d a t e P o s i t i o n ( ) ; t h i s . _ c o n t a i n e r . s t y l e . v i s i b i l i t y = " " ; t h i s . _ a d j u s t P a n ( ) } , _ g e t E v e n t s : f u n c t i o n ( ) { v a r   a = { v i e w r e s e t : t h i s . _ u p d a t e P o s i t i o n } ; t h i s . _ a n i m a t e d & & ( a . z o o m a n i m = t h i s . _ z o o m A n i m a t i o n ) ; ( " c l o s e O n C l i c k " i n   t h i s . o p t i o n s ? t h i s . o p t i o n s . c l o s e O n C l i c k : t h i s . _ m a p . o p t i o n s . c l o s e P o p u p O n C l i c k ) & & ( a . p r e c l i c k = t h i s . _ c l o s e ) ; t h i s . o p t i o n s . k e e p I n V i e w & & ( a . m o v e e n d = t h i s . _ a d j u s t P a n ) ; r e t u r n   a } , _ c l o s e : f u n c t i o n ( ) { t h i s . _ m a p & & t h i s . _ m a p . c l o s e P o p u p ( t h i s ) } , _ i n i t L a y o u t : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   a = " l e a f l e t - p o p u p " , b = a + "   " + t h i s . o p t i o n s . c l a s s N a m e + "   l e a f l e t - z o o m - " + ( t h i s . _ a n i m a t e d ? " a n i m a t e d " : " h i d e " ) ; b = t h i s . _ c o n t a i n e r = f . D o m U t i l . c r e a t e ( " d i v " , b ) ; v a r   c ; t h i s . o p t i o n s . c l o s e B u t t o n & & ( c = t h i s . _ c l o s e B u t t o n = f . D o m U t i l . c r e a t e ( " a " , a + " - c l o s e - b u t t o n " , b ) , c . h r e f = " # c l o s e " , c . i n n e r H T M L = " & # 2 1 5 ; " , f . D o m E v e n t . d i s a b l e C l i c k P r o p a g a t i o n ( c ) , f . D o m E v e n t . o n ( c , " c l i c k " , t h i s . _ o n C l o s e B u t t o n C l i c k , t h i s ) ) ; c = t h i s . _ w r a p p e r = f . D o m U t i l . c r e a t e ( " d i v " , a + " - c o n t e n t - w r a p p e r " , b ) ; f . D o m E v e n t . d i s a b l e C l i c k P r o p a g a t i o n ( c ) ; t h i s . _ c o n t e n t N o d e = f . D o m U t i l . c r e a t e ( " d i v " , a + " - c o n t e n t " , c ) ; f . D o m E v e n t . d i s a b l e S c r o l l P r o p a g a t i o n ( t h i s . _ c o n t e n t N o d e ) ; f . D o m E v e n t . o n ( c , " c o n t e x t m e n u " , f . D o m E v e n t . s t o p P r o p a g a t i o n ) ; t h i s . _ t i p C o n t a i n e r = f . D o m U t i l . c r e a t e ( " d i v " , a + " - t i p - c o n t a i n e r " , b ) ; t h i s . _ t i p = f . D o m U t i l . c r e a t e ( " d i v " , a + " - t i p " , t h i s . _ t i p C o n t a i n e r ) } , _ u p d a t e C o n t e n t : f u n c t i o n ( ) { i f ( ! t h i s . _ c o n t e n t ) r e t u r n ; i f ( t y p e o f   t h i s . _ c o n t e n t = = = " s t r i n g " ) t h i s . _ c o n t e n t N o d e . i n n e r H T M L = t h i s . _ c o n t e n t ; e l s e { w h i l e ( t h i s . _ c o n t e n t N o d e . h a s C h i l d N o d e s ( ) ) t h i s . _ c o n t e n t N o d e . r e m o v e C h i l d ( t h i s . _ c o n t e n t N o d e . f i r s t C h i l d ) ; t h i s . _ c o n t e n t N o d e . a p p e n d C h i l d ( t h i s . _ c o n t e n t ) } t h i s . f i r e ( " c o n t e n t u p d a t e " ) } , _ u p d a t e L a y o u t : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   a = t h i s . _ c o n t e n t N o d e , b = a . s t y l e ; b . w i d t h = " " ; b . w h i t e S p a c e = " n o w r a p " ; v a r   c = a . o f f s e t W i d t h ; c = M a t h . m i n ( c , t h i s . o p t i o n s . m a x W i d t h ) ; c = M a t h . m a x ( c , t h i s . o p t i o n s . m i n W i d t h ) ; b . w i d t h = c + 1 + " p x " ; b . w h i t e S p a c e = " " ; b . h e i g h t = " " ; c = a . o f f s e t H e i g h t ; v a r   d = t h i s . o p t i o n s . m a x H e i g h t , e = " l e a f l e t - p o p u p - s c r o l l e d " ; d & & c > d ? ( b . h e i g h t = d + " p x " , f . D o m U t i l . a d d C l a s s ( a , e ) ) : f . D o m U t i l . r e m o v e C l a s s ( a , e ) ; t h i s . _ c o n t a i n e r W i d t h = t h i s . _ c o n t a i n e r . o f f s e t W i d t h } , _ u p d a t e P o s i t i o n : f u n c t i o n ( ) { i f ( ! t h i s . _ m a p ) r e t u r n ; v a r   a = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( t h i s . _ l a t l n g ) , b = t h i s . _ a n i m a t e d , c = f . p o i n t ( t h i s . o p t i o n s . o f f s e t ) ; b & & f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ c o n t a i n e r , a ) ; t h i s . _ c o n t a i n e r B o t t o m = - c . y - ( b ? 0 : a . y ) ; t h i s . _ c o n t a i n e r L e f t = - M a t h . r o u n d ( t h i s . _ c o n t a i n e r W i d t h / 2 ) + c . x + ( b ? 0 : a . x ) ; t h i s . _ c o n t a i n e r . s t y l e . b o t t o m = t h i s . _ c o n t a i n e r B o t t o m + " p x " ; t h i s . _ c o n t a i n e r . s t y l e . l e f t = t h i s . _ c o n t a i n e r L e f t + " p x " } , _ z o o m A n i m a t i o n : f u n c t i o n ( a ) { a = t h i s . _ m a p . _ l a t L n g T o N e w L a y e r P o i n t ( t h i s . _ l a t l n g , a . z o o m , a . c e n t e r ) ; f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ c o n t a i n e r , a ) } , _ a d j u s t P a n : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; i f ( ! t h i s . o p t i o n s . a u t o P a n ) r e t u r n ; v a r   a = t h i s . _ m a p , b = t h i s . _ c o n t a i n e r . o f f s e t H e i g h t , c = t h i s . _ c o n t a i n e r W i d t h , d = n e w   f . P o i n t ( t h i s . _ c o n t a i n e r L e f t , - b - t h i s . _ c o n t a i n e r B o t t o m ) ; t h i s . _ a n i m a t e d & & d . _ a d d ( f . D o m U t i l . g e t P o s i t i o n ( t h i s . _ c o n t a i n e r ) ) ; d = a . l a y e r P o i n t T o C o n t a i n e r P o i n t ( d ) ; v a r   e = f . p o i n t ( t h i s . o p t i o n s . a u t o P a n P a d d i n g ) , g = f . p o i n t ( t h i s . o p t i o n s . a u t o P a n P a d d i n g T o p L e f t | | e ) ; e = f . p o i n t ( t h i s . o p t i o n s . a u t o P a n P a d d i n g B o t t o m R i g h t | | e ) ; v a r   h = a . g e t S i z e ( ) , i = 0 , j = 0 ; d . x + c + e . x > h . x & & ( i = d . x + c - h . x + e . x ) ; d . x - i - g . x < 0 & & ( i = d . x - g . x ) ; d . y + b + e . y > h . y & & ( j = d . y + b - h . y + e . y ) ; d . y - j - g . y < 0 & & ( j = d . y - g . y ) ; ( i | | j ) & & a . f i r e ( " a u t o p a n s t a r t " ) . p a n B y ( [ i , j ] ) } , _ o n C l o s e B u t t o n C l i c k : f u n c t i o n ( a ) { t h i s . _ c l o s e ( ) , f . D o m E v e n t . s t o p ( a ) } } ) ; f . p o p u p = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . P o p u p ( a , b ) } ; f . M a p . i n c l u d e ( { o p e n P o p u p : f u n c t i o n ( a , b , c ) { t h i s . c l o s e P o p u p ( ) ; i f ( ! ( a   i n s t a n c e o f   f . P o p u p ) ) { v a r   d = a ; a = n e w   f . P o p u p ( c ) . s e t L a t L n g ( b ) . s e t C o n t e n t ( d ) } a . _ i s O p e n = ! 0 ; t h i s . _ p o p u p = a ; r e t u r n   t h i s . a d d L a y e r ( a ) } , c l o s e P o p u p : f u n c t i o n ( a ) { ( ! a | | a = = = t h i s . _ p o p u p ) & & ( a = t h i s . _ p o p u p , t h i s . _ p o p u p = n u l l ) ; a & & ( t h i s . r e m o v e L a y e r ( a ) , a . _ i s O p e n = ! 1 ) ; r e t u r n   t h i s } } ) ; f . M a r k e r . i n c l u d e ( { o p e n P o p u p : f u n c t i o n ( ) { t h i s . _ p o p u p & & t h i s . _ m a p & & ! t h i s . _ m a p . h a s L a y e r ( t h i s . _ p o p u p ) & & ( t h i s . _ p o p u p . s e t L a t L n g ( t h i s . _ l a t l n g ) , t h i s . _ m a p . o p e n P o p u p ( t h i s . _ p o p u p ) ) ; r e t u r n   t h i s } , c l o s e P o p u p : f u n c t i o n ( ) { t h i s . _ p o p u p & & t h i s . _ p o p u p . _ c l o s e ( ) ; r e t u r n   t h i s } , t o g g l e P o p u p : f u n c t i o n ( ) { t h i s . _ p o p u p & & ( t h i s . _ p o p u p . _ i s O p e n ? t h i s . c l o s e P o p u p ( ) : t h i s . o p e n P o p u p ( ) ) ; r e t u r n   t h i s } , b i n d P o p u p : f u n c t i o n ( a , b ) { v a r   c = f . p o i n t ( t h i s . o p t i o n s . i c o n . o p t i o n s . p o p u p A n c h o r | | [ 0 , 0 ] ) ; c = c . a d d ( f . P o p u p . p r o t o t y p e . o p t i o n s . o f f s e t ) ; b & & b . o f f s e t & & ( c = c . a d d ( b . o f f s e t ) ) ; b = f . e x t e n d ( { o f f s e t : c } , b ) ; t h i s . _ p o p u p H a n d l e r s A d d e d | | ( t h i s . o n ( " c l i c k " , t h i s . t o g g l e P o p u p , t h i s ) . o n ( " r e m o v e " , t h i s . c l o s e P o p u p , t h i s ) . o n ( " m o v e " , t h i s . _ m o v e P o p u p , t h i s ) , t h i s . _ p o p u p H a n d l e r s A d d e d = ! 0 ) ; a   i n s t a n c e o f   f . P o p u p ? ( f . s e t O p t i o n s ( a , b ) , t h i s . _ p o p u p = a ) : t h i s . _ p o p u p = n e w   f . P o p u p ( b , t h i s ) . s e t C o n t e n t ( a ) ; r e t u r n   t h i s } , s e t P o p u p C o n t e n t : f u n c t i o n ( a ) { t h i s . _ p o p u p & & t h i s . _ p o p u p . s e t C o n t e n t ( a ) ; r e t u r n   t h i s } , u n b i n d P o p u p : f u n c t i o n ( ) { t h i s . _ p o p u p & & ( t h i s . _ p o p u p = n u l l , t h i s . o f f ( " c l i c k " , t h i s . t o g g l e P o p u p , t h i s ) . o f f ( " r e m o v e " , t h i s . c l o s e P o p u p , t h i s ) . o f f ( " m o v e " , t h i s . _ m o v e P o p u p , t h i s ) , t h i s . _ p o p u p H a n d l e r s A d d e d = ! 1 ) ; r e t u r n   t h i s } , g e t P o p u p : f u n c t i o n ( ) { r e t u r n   t h i s . _ p o p u p } , _ m o v e P o p u p : f u n c t i o n ( a ) { t h i s . _ p o p u p . s e t L a t L n g ( a . l a t l n g ) } } ) ; f . L a y e r G r o u p = f . C l a s s . e x t e n d ( { i n i t i a l i z e : f u n c t i o n ( a ) { t h i s . _ l a y e r s = { } ; v a r   b , c ; i f ( a ) f o r ( b = 0 , c = a . l e n g t h ; b < c ; b + + ) t h i s . a d d L a y e r ( a [ b ] ) } , a d d L a y e r : f u n c t i o n ( a ) { v a r   b = t h i s . g e t L a y e r I d ( a ) ; t h i s . _ l a y e r s [ b ] = a ; t h i s . _ m a p & & t h i s . _ m a p . a d d L a y e r ( a ) ; r e t u r n   t h i s } , r e m o v e L a y e r : f u n c t i o n ( a ) { a = a   i n   t h i s . _ l a y e r s ? a : t h i s . g e t L a y e r I d ( a ) ; t h i s . _ m a p & & t h i s . _ l a y e r s [ a ] & & t h i s . _ m a p . r e m o v e L a y e r ( t h i s . _ l a y e r s [ a ] ) ; d e l e t e   t h i s . _ l a y e r s [ a ] ; r e t u r n   t h i s } , h a s L a y e r : f u n c t i o n ( a ) { r e t u r n ! a ? ! 1 : a   i n   t h i s . _ l a y e r s | | t h i s . g e t L a y e r I d ( a ) i n   t h i s . _ l a y e r s } , c l e a r L a y e r s : f u n c t i o n ( ) { t h i s . e a c h L a y e r ( t h i s . r e m o v e L a y e r , t h i s ) ; r e t u r n   t h i s } , i n v o k e : f u n c t i o n ( a ) { v a r   b = A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s , 1 ) , c , d ; f o r ( c   i n   t h i s . _ l a y e r s ) d = t h i s . _ l a y e r s [ c ] , d [ a ] & & d [ a ] . a p p l y ( d , b ) ; r e t u r n   t h i s } , o n A d d : f u n c t i o n ( a ) { t h i s . _ m a p = a , t h i s . e a c h L a y e r ( a . a d d L a y e r , a ) } , o n R e m o v e : f u n c t i o n ( a ) { t h i s . e a c h L a y e r ( a . r e m o v e L a y e r , a ) , t h i s . _ m a p = n u l l } , a d d T o : f u n c t i o n ( a ) { a . a d d L a y e r ( t h i s ) ; r e t u r n   t h i s } , e a c h L a y e r : f u n c t i o n ( a , b ) { f o r ( v a r   c   i n   t h i s . _ l a y e r s ) a . c a l l ( b , t h i s . _ l a y e r s [ c ] ) ; r e t u r n   t h i s } , g e t L a y e r : f u n c t i o n ( a ) { r e t u r n   t h i s . _ l a y e r s [ a ] } , g e t L a y e r s : f u n c t i o n ( ) { v a r   a = [ ] ; f o r ( v a r   b   i n   t h i s . _ l a y e r s ) a . p u s h ( t h i s . _ l a y e r s [ b ] ) ; r e t u r n   a } , s e t Z I n d e x : f u n c t i o n ( a ) { r e t u r n   t h i s . i n v o k e ( " s e t Z I n d e x " , a ) } , g e t L a y e r I d : f u n c t i o n ( a ) { r e t u r n   f . s t a m p ( a ) } } ) ; f . l a y e r G r o u p = f u n c t i o n ( a ) { r e t u r n   n e w   f . L a y e r G r o u p ( a ) } ; f . F e a t u r e G r o u p = f . L a y e r G r o u p . e x t e n d ( { i n c l u d e s : f . M i x i n . E v e n t s , s t a t i c s : { E V E N T S : " c l i c k   d b l c l i c k   m o u s e o v e r   m o u s e o u t   m o u s e m o v e   c o n t e x t m e n u   p o p u p o p e n   p o p u p c l o s e " } , a d d L a y e r : f u n c t i o n ( a ) { i f ( t h i s . h a s L a y e r ( a ) ) r e t u r n   t h i s ; " o n " i n   a & & a . o n ( f . F e a t u r e G r o u p . E V E N T S , t h i s . _ p r o p a g a t e E v e n t , t h i s ) ; f . L a y e r G r o u p . p r o t o t y p e . a d d L a y e r . c a l l ( t h i s , a ) ; t h i s . _ p o p u p C o n t e n t & & a . b i n d P o p u p & & a . b i n d P o p u p ( t h i s . _ p o p u p C o n t e n t , t h i s . _ p o p u p O p t i o n s ) ; r e t u r n   t h i s . f i r e ( " l a y e r a d d " , { l a y e r : a } ) } , r e m o v e L a y e r : f u n c t i o n ( a ) { i f ( ! t h i s . h a s L a y e r ( a ) ) r e t u r n   t h i s ; a   i n   t h i s . _ l a y e r s & & ( a = t h i s . _ l a y e r s [ a ] ) ; a . o f f ( f . F e a t u r e G r o u p . E V E N T S , t h i s . _ p r o p a g a t e E v e n t , t h i s ) ; f . L a y e r G r o u p . p r o t o t y p e . r e m o v e L a y e r . c a l l ( t h i s , a ) ; t h i s . _ p o p u p C o n t e n t & & t h i s . i n v o k e ( " u n b i n d P o p u p " ) ; r e t u r n   t h i s . f i r e ( " l a y e r r e m o v e " , { l a y e r : a } ) } , b i n d P o p u p : f u n c t i o n ( a , b ) { t h i s . _ p o p u p C o n t e n t = a ; t h i s . _ p o p u p O p t i o n s = b ; r e t u r n   t h i s . i n v o k e ( " b i n d P o p u p " , a , b ) } , u n b i n d P o p u p : f u n c t i o n ( ) { t h i s . _ p o p u p C o n t e n t & & t h i s . i n v o k e ( " u n b i n d P o p u p " ) } , o p e n P o p u p : f u n c t i o n ( a ) { f o r ( v a r   b   i n   t h i s . _ l a y e r s ) { t h i s . _ l a y e r s [ b ] . o p e n P o p u p ( a ) ; b r e a k } r e t u r n   t h i s } , c l o s e P o p u p : f u n c t i o n ( ) { t h i s . _ p o p u p C o n t e n t & & t h i s . i n v o k e ( " c l o s e P o p u p " ) } , s e t S t y l e : f u n c t i o n ( a ) { r e t u r n   t h i s . i n v o k e ( " s e t S t y l e " , a ) } , b r i n g T o F r o n t : f u n c t i o n ( ) { r e t u r n   t h i s . i n v o k e ( " b r i n g T o F r o n t " ) } , b r i n g T o B a c k : f u n c t i o n ( ) { r e t u r n   t h i s . i n v o k e ( " b r i n g T o B a c k " ) } , g e t B o u n d s : f u n c t i o n ( ) { v a r   a = n e w   f . L a t L n g B o u n d s ( ) ; t h i s . e a c h L a y e r ( f u n c t i o n ( b ) { a . e x t e n d ( b   i n s t a n c e o f   f . M a r k e r ? b . g e t L a t L n g ( ) : b . g e t B o u n d s ( ) ) } ) ; r e t u r n   a } , _ p r o p a g a t e E v e n t : f u n c t i o n ( a ) { a = f . e x t e n d ( { l a y e r : a . t a r g e t , t a r g e t : t h i s } , a ) , t h i s . f i r e ( a . t y p e , a ) } } ) ; f . f e a t u r e G r o u p = f u n c t i o n ( a ) { r e t u r n   n e w   f . F e a t u r e G r o u p ( a ) } ; f . P a t h = f . C l a s s . e x t e n d ( { i n c l u d e s : [ f . M i x i n . E v e n t s ] , s t a t i c s : { C L I P _ P A D D I N G : f u n c t i o n ( ) { v a r   b = f . B r o w s e r . m o b i l e ? 1 2 8 0 : 2 e 3 ; b = ( b / M a t h . m a x ( a . o u t e r W i d t h , a . o u t e r H e i g h t ) - 1 ) / 2 ; r e t u r n   M a t h . m a x ( 0 , M a t h . m i n ( . 5 , b ) ) } ( ) } , o p t i o n s : { s t r o k e : ! 0 , c o l o r : " # 0 0 3 3 f f " , d a s h A r r a y : n u l l , l i n e C a p : n u l l , l i n e J o i n : n u l l , w e i g h t : 5 , o p a c i t y : . 5 , f i l l : ! 1 , f i l l C o l o r : n u l l , f i l l O p a c i t y : . 2 , c l i c k a b l e : ! 0 } , i n i t i a l i z e : f u n c t i o n ( a ) { f . s e t O p t i o n s ( t h i s , a ) } , o n A d d : f u n c t i o n ( a ) { t h i s . _ m a p = a , t h i s . _ c o n t a i n e r | | ( t h i s . _ i n i t E l e m e n t s ( ) , t h i s . _ i n i t E v e n t s ( ) ) , t h i s . p r o j e c t L a t l n g s ( ) , t h i s . _ u p d a t e P a t h ( ) , t h i s . _ c o n t a i n e r & & t h i s . _ m a p . _ p a t h R o o t . a p p e n d C h i l d ( t h i s . _ c o n t a i n e r ) , t h i s . f i r e ( " a d d " ) , a . o n ( { v i e w r e s e t : t h i s . p r o j e c t L a t l n g s , m o v e e n d : t h i s . _ u p d a t e P a t h } , t h i s ) } , a d d T o : f u n c t i o n ( a ) { a . a d d L a y e r ( t h i s ) ; r e t u r n   t h i s } , o n R e m o v e : f u n c t i o n ( a ) { a . _ p a t h R o o t . r e m o v e C h i l d ( t h i s . _ c o n t a i n e r ) , t h i s . f i r e ( " r e m o v e " ) , t h i s . _ m a p = n u l l , f . B r o w s e r . v m l & & ( t h i s . _ c o n t a i n e r = n u l l , t h i s . _ s t r o k e = n u l l , t h i s . _ f i l l = n u l l ) , a . o f f ( { v i e w r e s e t : t h i s . p r o j e c t L a t l n g s , m o v e e n d : t h i s . _ u p d a t e P a t h } , t h i s ) } , p r o j e c t L a t l n g s : f u n c t i o n ( ) { } , s e t S t y l e : f u n c t i o n ( a ) { f . s e t O p t i o n s ( t h i s , a ) ; t h i s . _ c o n t a i n e r & & t h i s . _ u p d a t e S t y l e ( ) ; r e t u r n   t h i s } , r e d r a w : f u n c t i o n ( ) { t h i s . _ m a p & & ( t h i s . p r o j e c t L a t l n g s ( ) , t h i s . _ u p d a t e P a t h ( ) ) ; r e t u r n   t h i s } } ) ; f . M a p . i n c l u d e ( { _ u p d a t e P a t h V i e w p o r t : f u n c t i o n ( ) { v a r   a = f . P a t h . C L I P _ P A D D I N G , b = t h i s . g e t S i z e ( ) , c = f . D o m U t i l . g e t P o s i t i o n ( t h i s . _ m a p P a n e ) ; c = c . m u l t i p l y B y ( - 1 ) . _ s u b t r a c t ( b . m u l t i p l y B y ( a ) . _ r o u n d ( ) ) ; b = c . a d d ( b . m u l t i p l y B y ( 1 + a * 2 ) . _ r o u n d ( ) ) ; t h i s . _ p a t h V i e w p o r t = n e w   f . B o u n d s ( c , b ) } } ) ; f . P a t h . S V G _ N S = " h t t p : / / w w w . w 3 . o r g / 2 0 0 0 / s v g " ; f . B r o w s e r . s v g = ! ! ( b . c r e a t e E l e m e n t N S & & b . c r e a t e E l e m e n t N S ( f . P a t h . S V G _ N S , " s v g " ) . c r e a t e S V G R e c t ) ; f . P a t h = f . P a t h . e x t e n d ( { s t a t i c s : { S V G : f . B r o w s e r . s v g } , b r i n g T o F r o n t : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p . _ p a t h R o o t , b = t h i s . _ c o n t a i n e r ; b & & a . l a s t C h i l d ! = = b & & a . a p p e n d C h i l d ( b ) ; r e t u r n   t h i s } , b r i n g T o B a c k : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p . _ p a t h R o o t , b = t h i s . _ c o n t a i n e r , c = a . f i r s t C h i l d ; b & & c ! = = b & & a . i n s e r t B e f o r e ( b , c ) ; r e t u r n   t h i s } , g e t P a t h S t r i n g : f u n c t i o n ( ) { } , _ c r e a t e E l e m e n t : f u n c t i o n ( a ) { r e t u r n   b . c r e a t e E l e m e n t N S ( f . P a t h . S V G _ N S , a ) } , _ i n i t E l e m e n t s : f u n c t i o n ( ) { t h i s . _ m a p . _ i n i t P a t h R o o t ( ) , t h i s . _ i n i t P a t h ( ) , t h i s . _ i n i t S t y l e ( ) } , _ i n i t P a t h : f u n c t i o n ( ) { t h i s . _ c o n t a i n e r = t h i s . _ c r e a t e E l e m e n t ( " g " ) , t h i s . _ p a t h = t h i s . _ c r e a t e E l e m e n t ( " p a t h " ) , t h i s . o p t i o n s . c l a s s N a m e & & f . D o m U t i l . a d d C l a s s ( t h i s . _ p a t h , t h i s . o p t i o n s . c l a s s N a m e ) , t h i s . _ c o n t a i n e r . a p p e n d C h i l d ( t h i s . _ p a t h ) } , _ i n i t S t y l e : f u n c t i o n ( ) { t h i s . o p t i o n s . s t r o k e & & ( t h i s . _ p a t h . s e t A t t r i b u t e ( " s t r o k e - l i n e j o i n " , " r o u n d " ) , t h i s . _ p a t h . s e t A t t r i b u t e ( " s t r o k e - l i n e c a p " , " r o u n d " ) ) , t h i s . o p t i o n s . f i l l & & t h i s . _ p a t h . s e t A t t r i b u t e ( " f i l l - r u l e " , " e v e n o d d " ) , t h i s . o p t i o n s . p o i n t e r E v e n t s & & t h i s . _ p a t h . s e t A t t r i b u t e ( " p o i n t e r - e v e n t s " , t h i s . o p t i o n s . p o i n t e r E v e n t s ) , ! t h i s . o p t i o n s . c l i c k a b l e & & ! t h i s . o p t i o n s . p o i n t e r E v e n t s & & t h i s . _ p a t h . s e t A t t r i b u t e ( " p o i n t e r - e v e n t s " , " n o n e " ) , t h i s . o p t i o n s [ " d a t a - t e s t i d " ] & & t h i s . _ p a t h . s e t A t t r i b u t e ( " d a t a - t e s t i d " , t h i s . o p t i o n s [ " d a t a - t e s t i d " ] ) , t h i s . _ u p d a t e S t y l e ( ) } , _ u p d a t e S t y l e : f u n c t i o n ( ) { t h i s . o p t i o n s . s t r o k e ? ( t h i s . _ p a t h . s e t A t t r i b u t e ( " s t r o k e " , t h i s . o p t i o n s . c o l o r ) , t h i s . _ p a t h . s e t A t t r i b u t e ( " s t r o k e - o p a c i t y " , t h i s . o p t i o n s . o p a c i t y ) , t h i s . _ p a t h . s e t A t t r i b u t e ( " s t r o k e - w i d t h " , t h i s . o p t i o n s . w e i g h t ) , t h i s . o p t i o n s . d a s h A r r a y ? t h i s . _ p a t h . s e t A t t r i b u t e ( " s t r o k e - d a s h a r r a y " , t h i s . o p t i o n s . d a s h A r r a y ) : t h i s . _ p a t h . r e m o v e A t t r i b u t e ( " s t r o k e - d a s h a r r a y " ) , t h i s . o p t i o n s . l i n e C a p & & t h i s . _ p a t h . s e t A t t r i b u t e ( " s t r o k e - l i n e c a p " , t h i s . o p t i o n s . l i n e C a p ) , t h i s . o p t i o n s . l i n e J o i n & & t h i s . _ p a t h . s e t A t t r i b u t e ( " s t r o k e - l i n e j o i n " , t h i s . o p t i o n s . l i n e J o i n ) ) : t h i s . _ p a t h . s e t A t t r i b u t e ( " s t r o k e " , " n o n e " ) , t h i s . o p t i o n s . f i l l ? ( t h i s . _ p a t h . s e t A t t r i b u t e ( " f i l l " , t h i s . o p t i o n s . f i l l C o l o r | | t h i s . o p t i o n s . c o l o r ) , t h i s . _ p a t h . s e t A t t r i b u t e ( " f i l l - o p a c i t y " , t h i s . o p t i o n s . f i l l O p a c i t y ) ) : t h i s . _ p a t h . s e t A t t r i b u t e ( " f i l l " , " n o n e " ) } , _ u p d a t e P a t h : f u n c t i o n ( ) { v a r   a = t h i s . g e t P a t h S t r i n g ( ) ; a | | ( a = " M 0   0 " ) ; t h i s . _ p a t h . s e t A t t r i b u t e ( " d " , a ) } , _ i n i t E v e n t s : f u n c t i o n ( ) { i f ( t h i s . o p t i o n s . c l i c k a b l e ) { ( f . B r o w s e r . s v g | | ! f . B r o w s e r . v m l ) & & f . D o m U t i l . a d d C l a s s ( t h i s . _ p a t h , " l e a f l e t - c l i c k a b l e " ) ; f . D o m E v e n t . o n ( t h i s . _ c o n t a i n e r , " c l i c k " , t h i s . _ o n M o u s e C l i c k , t h i s ) ; v a r   a = [ " d b l c l i c k " , " m o u s e d o w n " , " m o u s e o v e r " , " m o u s e o u t " , " m o u s e m o v e " , " c o n t e x t m e n u " ] ; f o r ( v a r   b = 0 ; b < a . l e n g t h ; b + + ) f . D o m E v e n t . o n ( t h i s . _ c o n t a i n e r , a [ b ] , t h i s . _ f i r e M o u s e E v e n t , t h i s ) } } , _ o n M o u s e C l i c k : f u n c t i o n ( a ) { i f ( t h i s . _ m a p . d r a g g i n g & & t h i s . _ m a p . d r a g g i n g . m o v e d ( ) ) r e t u r n ; t h i s . _ f i r e M o u s e E v e n t ( a ) } , _ f i r e M o u s e E v e n t : f u n c t i o n ( a ) { i f ( ! t h i s . h a s E v e n t L i s t e n e r s ( a . t y p e ) ) r e t u r n ; v a r   b = t h i s . _ m a p , c = b . m o u s e E v e n t T o C o n t a i n e r P o i n t ( a ) , d = b . c o n t a i n e r P o i n t T o L a y e r P o i n t ( c ) ; b = b . l a y e r P o i n t T o L a t L n g ( d ) ; t h i s . f i r e ( a . t y p e , { l a t l n g : b , l a y e r P o i n t : d , c o n t a i n e r P o i n t : c , o r i g i n a l E v e n t : a } ) ; a . t y p e = = = " c o n t e x t m e n u " & & f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) ; a . t y p e ! = = " m o u s e m o v e " & & f . D o m E v e n t . s t o p P r o p a g a t i o n ( a ) } } ) ; f . M a p . i n c l u d e ( { _ i n i t P a t h R o o t : f u n c t i o n ( ) { t h i s . _ p a t h R o o t | | ( t h i s . _ p a t h R o o t = f . P a t h . p r o t o t y p e . _ c r e a t e E l e m e n t ( " s v g " ) , t h i s . _ p a n e s . o v e r l a y P a n e . a p p e n d C h i l d ( t h i s . _ p a t h R o o t ) , t h i s . o p t i o n s . z o o m A n i m a t i o n & & f . B r o w s e r . a n y 3 d ? ( f . D o m U t i l . a d d C l a s s ( t h i s . _ p a t h R o o t , " l e a f l e t - z o o m - a n i m a t e d " ) , t h i s . o n ( { z o o m a n i m : t h i s . _ a n i m a t e P a t h Z o o m , z o o m e n d : t h i s . _ e n d P a t h Z o o m } ) ) : f . D o m U t i l . a d d C l a s s ( t h i s . _ p a t h R o o t , " l e a f l e t - z o o m - h i d e " ) , t h i s . o n ( " m o v e e n d " , t h i s . _ u p d a t e S v g V i e w p o r t ) , t h i s . _ u p d a t e S v g V i e w p o r t ( ) ) } , _ a n i m a t e P a t h Z o o m : f u n c t i o n ( a ) { v a r   b = t h i s . g e t Z o o m S c a l e ( a . z o o m ) ; a = t h i s . _ g e t C e n t e r O f f s e t ( a . c e n t e r ) . _ m u l t i p l y B y ( - b ) . _ a d d ( t h i s . _ p a t h V i e w p o r t . m i n ) ; t h i s . _ p a t h R o o t . s t y l e [ f . D o m U t i l . T R A N S F O R M ] = f . D o m U t i l . g e t T r a n s l a t e S t r i n g ( a ) + "   s c a l e ( " + b + " )   " ; t h i s . _ p a t h Z o o m i n g = ! 0 } , _ e n d P a t h Z o o m : f u n c t i o n ( ) { t h i s . _ p a t h Z o o m i n g = ! 1 } , _ u p d a t e S v g V i e w p o r t : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; i f ( t h i s . _ p a t h Z o o m i n g ) r e t u r n ; t h i s . _ u p d a t e P a t h V i e w p o r t ( ) ; v a r   a = t h i s . _ p a t h V i e w p o r t , b = a . m i n ; a = a . m a x ; v a r   c = a . x - b . x ; a = a . y - b . y ; v a r   d = t h i s . _ p a t h R o o t , e = t h i s . _ p a n e s . o v e r l a y P a n e ; f . B r o w s e r . m o b i l e W e b k i t & & e . r e m o v e C h i l d ( d ) ; f . D o m U t i l . s e t P o s i t i o n ( d , b ) ; d . s e t A t t r i b u t e ( " w i d t h " , c ) ; d . s e t A t t r i b u t e ( " h e i g h t " , a ) ; d . s e t A t t r i b u t e ( " v i e w B o x " , [ b . x , b . y , c , a ] . j o i n ( "   " ) ) ; f . B r o w s e r . m o b i l e W e b k i t & & e . a p p e n d C h i l d ( d ) } } ) ; f . P a t h . i n c l u d e ( { b i n d P o p u p : f u n c t i o n ( a , b ) { a   i n s t a n c e o f   f . P o p u p ? t h i s . _ p o p u p = a : ( ( ! t h i s . _ p o p u p | | b ) & & ( t h i s . _ p o p u p = n e w   f . P o p u p ( b , t h i s ) ) , t h i s . _ p o p u p . s e t C o n t e n t ( a ) ) ; t h i s . _ p o p u p H a n d l e r s A d d e d | | ( t h i s . o n ( " c l i c k " , t h i s . _ o p e n P o p u p , t h i s ) . o n ( " r e m o v e " , t h i s . c l o s e P o p u p , t h i s ) , t h i s . _ p o p u p H a n d l e r s A d d e d = ! 0 ) ; r e t u r n   t h i s } , u n b i n d P o p u p : f u n c t i o n ( ) { t h i s . _ p o p u p & & ( t h i s . _ p o p u p = n u l l , t h i s . o f f ( " c l i c k " , t h i s . _ o p e n P o p u p ) . o f f ( " r e m o v e " , t h i s . c l o s e P o p u p ) , t h i s . _ p o p u p H a n d l e r s A d d e d = ! 1 ) ; r e t u r n   t h i s } , o p e n P o p u p : f u n c t i o n ( a ) { t h i s . _ p o p u p & & ( a = a | | t h i s . _ l a t l n g | | t h i s . _ l a t l n g s [ M a t h . f l o o r ( t h i s . _ l a t l n g s . l e n g t h / 2 ) ] , t h i s . _ o p e n P o p u p ( { l a t l n g : a } ) ) ; r e t u r n   t h i s } , c l o s e P o p u p : f u n c t i o n ( ) { t h i s . _ p o p u p & & t h i s . _ p o p u p . _ c l o s e ( ) ; r e t u r n   t h i s } , _ o p e n P o p u p : f u n c t i o n ( a ) { t h i s . _ p o p u p . s e t L a t L n g ( a . l a t l n g ) , t h i s . _ m a p . o p e n P o p u p ( t h i s . _ p o p u p ) } } ) ; f . B r o w s e r . v m l = ! f . B r o w s e r . s v g & & f u n c t i o n ( ) { t r y { v a r   a = b . c r e a t e E l e m e n t ( " d i v " ) ; a . i n n e r H T M L = ' < v : s h a p e   a d j = " 1 " / > ' ; a = a . f i r s t C h i l d ; a . s t y l e . b e h a v i o r = " u r l ( # d e f a u l t # V M L ) " ; r e t u r n   a & & t y p e o f   a . a d j = = = " o b j e c t " } c a t c h ( a ) { r e t u r n ! 1 } } ( ) ; f . P a t h = f . B r o w s e r . s v g | | ! f . B r o w s e r . v m l ? f . P a t h : f . P a t h . e x t e n d ( { s t a t i c s : { V M L : ! 0 , C L I P _ P A D D I N G : . 0 2 } , _ c r e a t e E l e m e n t : f u n c t i o n ( ) { t r y { b . n a m e s p a c e s . a d d ( " l v m l " , " u r n : s c h e m a s - m i c r o s o f t - c o m : v m l " ) ; r e t u r n   f u n c t i o n ( a ) { r e t u r n   b . c r e a t e E l e m e n t ( " < l v m l : " + a + '   c l a s s = " l v m l " > ' ) } } c a t c h ( a ) { r e t u r n   f u n c t i o n ( a ) { r e t u r n   b . c r e a t e E l e m e n t ( " < " + a + '   x m l n s = " u r n : s c h e m a s - m i c r o s o f t . c o m : v m l "   c l a s s = " l v m l " > ' ) } } } ( ) , _ i n i t P a t h : f u n c t i o n ( ) { v a r   a = t h i s . _ c o n t a i n e r = t h i s . _ c r e a t e E l e m e n t ( " s h a p e " ) ; f . D o m U t i l . a d d C l a s s ( a , " l e a f l e t - v m l - s h a p e " + ( t h i s . o p t i o n s . c l a s s N a m e ? "   " + t h i s . o p t i o n s . c l a s s N a m e : " " ) ) ; t h i s . o p t i o n s . c l i c k a b l e & & f . D o m U t i l . a d d C l a s s ( a , " l e a f l e t - c l i c k a b l e " ) ; a . c o o r d s i z e = " 1   1 " ; t h i s . _ p a t h = t h i s . _ c r e a t e E l e m e n t ( " p a t h " ) ; a . a p p e n d C h i l d ( t h i s . _ p a t h ) ; t h i s . _ m a p . _ p a t h R o o t . a p p e n d C h i l d ( a ) } , _ i n i t S t y l e : f u n c t i o n ( ) { t h i s . _ u p d a t e S t y l e ( ) } , _ u p d a t e S t y l e : f u n c t i o n ( ) { v a r   a = t h i s . _ s t r o k e , b = t h i s . _ f i l l , c = t h i s . o p t i o n s , d = t h i s . _ c o n t a i n e r ; d . s t r o k e d = c . s t r o k e ; d . f i l l e d = c . f i l l ; c . s t r o k e ? ( a | | ( a = t h i s . _ s t r o k e = t h i s . _ c r e a t e E l e m e n t ( " s t r o k e " ) , a . e n d c a p = " r o u n d " , d . a p p e n d C h i l d ( a ) ) , a . w e i g h t = c . w e i g h t + " p x " , a . c o l o r = c . c o l o r , a . o p a c i t y = c . o p a c i t y , c . d a s h A r r a y ? a . d a s h S t y l e = f . U t i l . i s A r r a y ( c . d a s h A r r a y ) ? c . d a s h A r r a y . j o i n ( "   " ) : c . d a s h A r r a y . r e p l a c e ( / (   * ,   * ) / g , "   " ) : a . d a s h S t y l e = " " , c . l i n e C a p & & ( a . e n d c a p = c . l i n e C a p . r e p l a c e ( " b u t t " , " f l a t " ) ) , c . l i n e J o i n & & ( a . j o i n s t y l e = c . l i n e J o i n ) ) : a & & ( d . r e m o v e C h i l d ( a ) , t h i s . _ s t r o k e = n u l l ) ; c . f i l l ? ( b | | ( b = t h i s . _ f i l l = t h i s . _ c r e a t e E l e m e n t ( " f i l l " ) , d . a p p e n d C h i l d ( b ) ) , b . c o l o r = c . f i l l C o l o r | | c . c o l o r , b . o p a c i t y = c . f i l l O p a c i t y ) : b & & ( d . r e m o v e C h i l d ( b ) , t h i s . _ f i l l = n u l l ) } , _ u p d a t e P a t h : f u n c t i o n ( ) { v a r   a = t h i s . _ c o n t a i n e r . s t y l e ; a . d i s p l a y = " n o n e " ; t h i s . _ p a t h . v = t h i s . g e t P a t h S t r i n g ( ) + "   " ; a . d i s p l a y = " " } } ) ; f . M a p . i n c l u d e ( f . B r o w s e r . s v g | | ! f . B r o w s e r . v m l ? { } : { _ i n i t P a t h R o o t : f u n c t i o n ( ) { i f ( t h i s . _ p a t h R o o t ) r e t u r n ; v a r   a = t h i s . _ p a t h R o o t = b . c r e a t e E l e m e n t ( " d i v " ) ; a . c l a s s N a m e = " l e a f l e t - v m l - c o n t a i n e r " ; t h i s . _ p a n e s . o v e r l a y P a n e . a p p e n d C h i l d ( a ) ; t h i s . o n ( " m o v e e n d " , t h i s . _ u p d a t e P a t h V i e w p o r t ) ; t h i s . _ u p d a t e P a t h V i e w p o r t ( ) } } ) ; f . B r o w s e r . c a n v a s = f u n c t i o n ( ) { r e t u r n ! ! ( b . c r e a t e E l e m e n t & & b . c r e a t e E l e m e n t ( " c a n v a s " ) . g e t C o n t e x t ) } ( ) ; f . P a t h = f . P a t h . S V G & & ! a . L _ P R E F E R _ C A N V A S | | ! f . B r o w s e r . c a n v a s ? f . P a t h : f . P a t h . e x t e n d ( { s t a t i c s : { C A N V A S : ! 0 , S V G : ! 1 } , r e d r a w : f u n c t i o n ( ) { t h i s . _ m a p & & ( t h i s . p r o j e c t L a t l n g s ( ) , t h i s . _ r e q u e s t U p d a t e ( ) ) ; r e t u r n   t h i s } , s e t S t y l e : f u n c t i o n ( a ) { f . s e t O p t i o n s ( t h i s , a ) ; t h i s . _ m a p & & ( t h i s . _ u p d a t e S t y l e ( ) , t h i s . _ r e q u e s t U p d a t e ( ) ) ; r e t u r n   t h i s } , o n R e m o v e : f u n c t i o n ( a ) { a . o f f ( " v i e w r e s e t " , t h i s . p r o j e c t L a t l n g s , t h i s ) . o f f ( " m o v e e n d " , t h i s . _ u p d a t e P a t h , t h i s ) , t h i s . o p t i o n s . c l i c k a b l e & & ( t h i s . _ m a p . o f f ( " c l i c k " , t h i s . _ o n C l i c k , t h i s ) , t h i s . _ m a p . o f f ( " m o u s e m o v e " , t h i s . _ o n M o u s e M o v e , t h i s ) ) , t h i s . _ r e q u e s t U p d a t e ( ) , t h i s . _ m a p = n u l l } , _ r e q u e s t U p d a t e : f u n c t i o n ( ) { t h i s . _ m a p & & ! f . P a t h . _ u p d a t e R e q u e s t & & ( f . P a t h . _ u p d a t e R e q u e s t = f . U t i l . r e q u e s t A n i m F r a m e ( t h i s . _ f i r e M a p M o v e E n d , t h i s . _ m a p ) ) } , _ f i r e M a p M o v e E n d : f u n c t i o n ( ) { f . P a t h . _ u p d a t e R e q u e s t = n u l l , t h i s . f i r e ( " m o v e e n d " ) } , _ i n i t E l e m e n t s : f u n c t i o n ( ) { t h i s . _ m a p . _ i n i t P a t h R o o t ( ) , t h i s . _ c t x = t h i s . _ m a p . _ c a n v a s C t x } , _ u p d a t e S t y l e : f u n c t i o n ( ) { v a r   a = t h i s . o p t i o n s ; a . s t r o k e & & ( t h i s . _ c t x . l i n e W i d t h = a . w e i g h t , t h i s . _ c t x . s t r o k e S t y l e = a . c o l o r ) ; a . f i l l & & ( t h i s . _ c t x . f i l l S t y l e = a . f i l l C o l o r | | a . c o l o r ) } , _ d r a w P a t h : f u n c t i o n ( ) { v a r   a , b , c , d , e , g ; t h i s . _ c t x . b e g i n P a t h ( ) ; f o r ( a = 0 , c = t h i s . _ p a r t s . l e n g t h ; a < c ; a + + ) { f o r ( b = 0 , d = t h i s . _ p a r t s [ a ] . l e n g t h ; b < d ; b + + ) e = t h i s . _ p a r t s [ a ] [ b ] , g = ( b = = = 0 ? " m o v e " : " l i n e " ) + " T o " , t h i s . _ c t x [ g ] ( e . x , e . y ) ; t h i s   i n s t a n c e o f   f . P o l y g o n & & t h i s . _ c t x . c l o s e P a t h ( ) } } , _ c h e c k I f E m p t y : f u n c t i o n ( ) { r e t u r n ! t h i s . _ p a r t s . l e n g t h } , _ u p d a t e P a t h : f u n c t i o n ( ) { i f ( t h i s . _ c h e c k I f E m p t y ( ) ) r e t u r n ; v a r   a = t h i s . _ c t x , b = t h i s . o p t i o n s ; t h i s . _ d r a w P a t h ( ) ; a . s a v e ( ) ; t h i s . _ u p d a t e S t y l e ( ) ; b . f i l l & & ( a . g l o b a l A l p h a = b . f i l l O p a c i t y , a . f i l l ( ) ) ; b . s t r o k e & & ( a . g l o b a l A l p h a = b . o p a c i t y , a . s t r o k e ( ) ) ; a . r e s t o r e ( ) } , _ i n i t E v e n t s : f u n c t i o n ( ) { t h i s . o p t i o n s . c l i c k a b l e & & ( t h i s . _ m a p . o n ( " m o u s e m o v e " , t h i s . _ o n M o u s e M o v e , t h i s ) , t h i s . _ m a p . o n ( " c l i c k " , t h i s . _ o n C l i c k , t h i s ) ) } , _ o n C l i c k : f u n c t i o n ( a ) { t h i s . _ c o n t a i n s P o i n t ( a . l a y e r P o i n t ) & & t h i s . f i r e ( " c l i c k " , a ) } , _ o n M o u s e M o v e : f u n c t i o n ( a ) { i f ( ! t h i s . _ m a p | | t h i s . _ m a p . _ a n i m a t i n g Z o o m ) r e t u r n ; t h i s . _ c o n t a i n s P o i n t ( a . l a y e r P o i n t ) ? ( t h i s . _ c t x . c a n v a s . s t y l e . c u r s o r = " p o i n t e r " , t h i s . _ m o u s e I n s i d e = ! 0 , t h i s . f i r e ( " m o u s e o v e r " , a ) ) : t h i s . _ m o u s e I n s i d e & & ( t h i s . _ c t x . c a n v a s . s t y l e . c u r s o r = " " , t h i s . _ m o u s e I n s i d e = ! 1 , t h i s . f i r e ( " m o u s e o u t " , a ) ) } } ) ; f . M a p . i n c l u d e ( f . P a t h . S V G & & ! a . L _ P R E F E R _ C A N V A S | | ! f . B r o w s e r . c a n v a s ? { } : { _ i n i t P a t h R o o t : f u n c t i o n ( ) { v a r   a = t h i s . _ p a t h R o o t , c ; a | | ( a = t h i s . _ p a t h R o o t = b . c r e a t e E l e m e n t ( " c a n v a s " ) , a . s t y l e . p o s i t i o n = " a b s o l u t e " , c = t h i s . _ c a n v a s C t x = a . g e t C o n t e x t ( " 2 d " ) , c . l i n e C a p = " r o u n d " , c . l i n e J o i n = " r o u n d " , t h i s . _ p a n e s . o v e r l a y P a n e . a p p e n d C h i l d ( a ) , t h i s . o p t i o n s . z o o m A n i m a t i o n & & ( t h i s . _ p a t h R o o t . c l a s s N a m e = " l e a f l e t - z o o m - a n i m a t e d " , t h i s . o n ( " z o o m a n i m " , t h i s . _ a n i m a t e P a t h Z o o m ) , t h i s . o n ( " z o o m e n d " , t h i s . _ e n d P a t h Z o o m ) ) , t h i s . o n ( " m o v e e n d " , t h i s . _ u p d a t e C a n v a s V i e w p o r t ) , t h i s . _ u p d a t e C a n v a s V i e w p o r t ( ) ) } , _ u p d a t e C a n v a s V i e w p o r t : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; i f ( t h i s . _ p a t h Z o o m i n g ) r e t u r n ; t h i s . _ u p d a t e P a t h V i e w p o r t ( ) ; v a r   a = t h i s . _ p a t h V i e w p o r t , b = a . m i n ; a = a . m a x . s u b t r a c t ( b ) ; v a r   c = t h i s . _ p a t h R o o t ; f . D o m U t i l . s e t P o s i t i o n ( c , b ) ; c . w i d t h = a . x ; c . h e i g h t = a . y ; c . g e t C o n t e x t ( " 2 d " ) . t r a n s l a t e ( - b . x , - b . y ) } } ) ; f . L i n e U t i l = { s i m p l i f y : f u n c t i o n ( a , b ) { i f ( ! b | | ! a . l e n g t h ) r e t u r n   a . s l i c e ( ) ; b = b * b ; a = t h i s . _ r e d u c e P o i n t s ( a , b ) ; a = t h i s . _ s i m p l i f y D P ( a , b ) ; r e t u r n   a } , p o i n t T o S e g m e n t D i s t a n c e : f u n c t i o n ( a , b , c ) { r e t u r n   M a t h . s q r t ( t h i s . _ s q C l o s e s t P o i n t O n S e g m e n t ( a , b , c , ! 0 ) ) } , c l o s e s t P o i n t O n S e g m e n t : f u n c t i o n ( a , b , c ) { r e t u r n   t h i s . _ s q C l o s e s t P o i n t O n S e g m e n t ( a , b , c ) } , _ s i m p l i f y D P : f u n c t i o n ( a , b ) { v a r   c = a . l e n g t h , d = t y p e o f   U i n t 8 A r r a y ! = = v o i d   0 + " " ? U i n t 8 A r r a y : A r r a y ; d = n e w   d ( c ) ; d [ 0 ] = d [ c - 1 ] = 1 ; t h i s . _ s i m p l i f y D P S t e p ( a , d , b , 0 , c - 1 ) ; v a r   e ; b = [ ] ; f o r ( e = 0 ; e < c ; e + + ) d [ e ] & & b . p u s h ( a [ e ] ) ; r e t u r n   b } , _ s i m p l i f y D P S t e p : f u n c t i o n ( a , b , c , d , e ) { v a r   f = 0 , g , h , i ; f o r ( h = d + 1 ; h < = e - 1 ; h + + ) i = t h i s . _ s q C l o s e s t P o i n t O n S e g m e n t ( a [ h ] , a [ d ] , a [ e ] , ! 0 ) , i > f & & ( g = h , f = i ) ; f > c & & ( b [ g ] = 1 , t h i s . _ s i m p l i f y D P S t e p ( a , b , c , d , g ) , t h i s . _ s i m p l i f y D P S t e p ( a , b , c , g , e ) ) } , _ r e d u c e P o i n t s : f u n c t i o n ( a , b ) { v a r   c = [ a [ 0 ] ] ; f o r ( v a r   d = 1 , e = 0 , f = a . l e n g t h ; d < f ; d + + ) t h i s . _ s q D i s t ( a [ d ] , a [ e ] ) > b & & ( c . p u s h ( a [ d ] ) , e = d ) ; e < f - 1 & & c . p u s h ( a [ f - 1 ] ) ; r e t u r n   c } , c l i p S e g m e n t : f u n c t i o n ( a , b , c , d ) { d = d ? t h i s . _ l a s t C o d e : t h i s . _ g e t B i t C o d e ( a , c ) ; v a r   e = t h i s . _ g e t B i t C o d e ( b , c ) , f , g , h ; t h i s . _ l a s t C o d e = e ; w h i l e ( ! 0 ) i f ( ! ( d | e ) ) r e t u r n [ a , b ] ; e l s e   i f ( d & e ) r e t u r n ! 1 ; e l s e   f = d | | e , g = t h i s . _ g e t E d g e I n t e r s e c t i o n ( a , b , f , c ) , h = t h i s . _ g e t B i t C o d e ( g , c ) , f = = = d ? ( a = g , d = h ) : ( b = g , e = h ) } , _ g e t E d g e I n t e r s e c t i o n : f u n c t i o n ( a , b , c , d ) { _ _ p & & _ _ p ( ) ; v a r   e = b . x - a . x ; b = b . y - a . y ; v a r   g = d . m i n ; d = d . m a x ; i f ( c & 8 ) r e t u r n   n e w   f . P o i n t ( a . x + e * ( d . y - a . y ) / b , d . y ) ; e l s e   i f ( c & 4 ) r e t u r n   n e w   f . P o i n t ( a . x + e * ( g . y - a . y ) / b , g . y ) ; e l s e   i f ( c & 2 ) r e t u r n   n e w   f . P o i n t ( d . x , a . y + b * ( d . x - a . x ) / e ) ; e l s e   i f ( c & 1 ) r e t u r n   n e w   f . P o i n t ( g . x , a . y + b * ( g . x - a . x ) / e ) } , _ g e t B i t C o d e : f u n c t i o n ( a , b ) { v a r   c = 0 ; a . x < b . m i n . x ? c | = 1 : a . x > b . m a x . x & & ( c | = 2 ) ; a . y < b . m i n . y ? c | = 4 : a . y > b . m a x . y & & ( c | = 8 ) ; r e t u r n   c } , _ s q D i s t : f u n c t i o n ( a , b ) { v a r   c = b . x - a . x ; b = b . y - a . y ; r e t u r n   c * c + b * b } , _ s q C l o s e s t P o i n t O n S e g m e n t : f u n c t i o n ( a , b , c , d ) { v a r   e = b . x ; b = b . y ; v a r   g = c . x - e , h = c . y - b , i = g * g + h * h ; i > 0 & & ( i = ( ( a . x - e ) * g + ( a . y - b ) * h ) / i , i > 1 ? ( e = c . x , b = c . y ) : i > 0 & & ( e + = g * i , b + = h * i ) ) ; g = a . x - e ; h = a . y - b ; r e t u r n   d ? g * g + h * h : n e w   f . P o i n t ( e , b ) } } ; f . P o l y l i n e = f . P a t h . e x t e n d ( { i n i t i a l i z e : f u n c t i o n ( a , b ) { f . P a t h . p r o t o t y p e . i n i t i a l i z e . c a l l ( t h i s , b ) , t h i s . _ l a t l n g s = t h i s . _ c o n v e r t L a t L n g s ( a ) } , o p t i o n s : { s m o o t h F a c t o r : 1 , n o C l i p : ! 1 } , p r o j e c t L a t l n g s : f u n c t i o n ( ) { t h i s . _ o r i g i n a l P o i n t s = [ ] ; f o r ( v a r   a = 0 , b = t h i s . _ l a t l n g s . l e n g t h ; a < b ; a + + ) t h i s . _ o r i g i n a l P o i n t s [ a ] = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( t h i s . _ l a t l n g s [ a ] ) } , g e t P a t h S t r i n g : f u n c t i o n ( ) { f o r ( v a r   a = 0 , b = t h i s . _ p a r t s . l e n g t h , c = " " ; a < b ; a + + ) c + = t h i s . _ g e t P a t h P a r t S t r ( t h i s . _ p a r t s [ a ] ) ; r e t u r n   c } , g e t L a t L n g s : f u n c t i o n ( ) { r e t u r n   t h i s . _ l a t l n g s } , s e t L a t L n g s : f u n c t i o n ( a ) { t h i s . _ l a t l n g s = t h i s . _ c o n v e r t L a t L n g s ( a ) ; r e t u r n   t h i s . r e d r a w ( ) } , a d d L a t L n g : f u n c t i o n ( a ) { t h i s . _ l a t l n g s . p u s h ( f . l a t L n g ( a ) ) ; r e t u r n   t h i s . r e d r a w ( ) } , s p l i c e L a t L n g s : f u n c t i o n ( ) { v a r   a = [ ] . s p l i c e . a p p l y ( t h i s . _ l a t l n g s , a r g u m e n t s ) ; t h i s . _ c o n v e r t L a t L n g s ( t h i s . _ l a t l n g s , ! 0 ) ; t h i s . r e d r a w ( ) ; r e t u r n   a } , c l o s e s t L a y e r P o i n t : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   b = I n f i n i t y , c = t h i s . _ p a r t s , d , e , g = n u l l ; f o r ( v a r   h = 0 , i = c . l e n g t h ; h < i ; h + + ) { v a r   j = c [ h ] ; f o r ( v a r   k = 1 , l = j . l e n g t h ; k < l ; k + + ) { d = j [ k - 1 ] ; e = j [ k ] ; v a r   m = f . L i n e U t i l . _ s q C l o s e s t P o i n t O n S e g m e n t ( a , d , e , ! 0 ) ; m < b & & ( b = m , g = f . L i n e U t i l . _ s q C l o s e s t P o i n t O n S e g m e n t ( a , d , e ) ) } } g & & ( g . d i s t a n c e = M a t h . s q r t ( b ) ) ; r e t u r n   g } , g e t B o u n d s : f u n c t i o n ( ) { r e t u r n   n e w   f . L a t L n g B o u n d s ( t h i s . g e t L a t L n g s ( ) ) } , _ c o n v e r t L a t L n g s : f u n c t i o n ( a , b ) { v a r   c , d ; b = b ? a : [ ] ; f o r ( c = 0 , d = a . l e n g t h ; c < d ; c + + ) { i f ( f . U t i l . i s A r r a y ( a [ c ] ) & & t y p e o f   a [ c ] [ 0 ] ! = = " n u m b e r " ) r e t u r n ; b [ c ] = f . l a t L n g ( a [ c ] ) } r e t u r n   b } , _ i n i t E v e n t s : f u n c t i o n ( ) { f . P a t h . p r o t o t y p e . _ i n i t E v e n t s . c a l l ( t h i s ) } , _ g e t P a t h P a r t S t r : f u n c t i o n ( a ) { v a r   b = f . P a t h . V M L ; f o r ( v a r   c = 0 , d = a . l e n g t h , e = " " , g ; c < d ; c + + ) g = a [ c ] , b & & g . _ r o u n d ( ) , e + = ( c ? " L " : " M " ) + g . x + "   " + g . y ; r e t u r n   e } , _ c l i p P o i n t s : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   a = t h i s . _ o r i g i n a l P o i n t s , b = a . l e n g t h , c , d , e ; i f ( t h i s . o p t i o n s . n o C l i p ) { t h i s . _ p a r t s = [ a ] ; r e t u r n } t h i s . _ p a r t s = [ ] ; v a r   g = t h i s . _ p a r t s , h = t h i s . _ m a p . _ p a t h V i e w p o r t , i = f . L i n e U t i l ; f o r ( c = 0 , d = 0 ; c < b - 1 ; c + + ) { e = i . c l i p S e g m e n t ( a [ c ] , a [ c + 1 ] , h , c ) ; i f ( ! e ) c o n t i n u e ; g [ d ] = g [ d ] | | [ ] ; g [ d ] . p u s h ( e [ 0 ] ) ; ( e [ 1 ] ! = = a [ c + 1 ] | | c = = = b - 2 ) & & ( g [ d ] . p u s h ( e [ 1 ] ) , d + + ) } } , _ s i m p l i f y P o i n t s : f u n c t i o n ( ) { v a r   a = t h i s . _ p a r t s , b = f . L i n e U t i l ; f o r ( v a r   c = 0 , d = a . l e n g t h ; c < d ; c + + ) a [ c ] = b . s i m p l i f y ( a [ c ] , t h i s . o p t i o n s . s m o o t h F a c t o r ) } , _ u p d a t e P a t h : f u n c t i o n ( ) { i f ( ! t h i s . _ m a p ) r e t u r n ; t h i s . _ c l i p P o i n t s ( ) ; t h i s . _ s i m p l i f y P o i n t s ( ) ; f . P a t h . p r o t o t y p e . _ u p d a t e P a t h . c a l l ( t h i s ) } } ) ; f . p o l y l i n e = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . P o l y l i n e ( a , b ) } ; f . P o l y U t i l = { } ; f . P o l y U t i l . c l i p P o l y g o n = f u n c t i o n ( a , b ) { _ _ p & & _ _ p ( ) ; v a r   c , d = [ 1 , 4 , 2 , 8 ] , e , g , h , i , j , k , l , m , n = f . L i n e U t i l ; f o r ( e = 0 , k = a . l e n g t h ; e < k ; e + + ) a [ e ] . _ c o d e = n . _ g e t B i t C o d e ( a [ e ] , b ) ; f o r ( h = 0 ; h < 4 ; h + + ) { l = d [ h ] ; c = [ ] ; f o r ( e = 0 , k = a . l e n g t h , g = k - 1 ; e < k ; g = e + + ) i = a [ e ] , j = a [ g ] , ! ( i . _ c o d e & l ) ? ( j . _ c o d e & l & & ( m = n . _ g e t E d g e I n t e r s e c t i o n ( j , i , l , b ) , m . _ c o d e = n . _ g e t B i t C o d e ( m , b ) , c . p u s h ( m ) ) , c . p u s h ( i ) ) : j . _ c o d e & l | | ( m = n . _ g e t E d g e I n t e r s e c t i o n ( j , i , l , b ) , m . _ c o d e = n . _ g e t B i t C o d e ( m , b ) , c . p u s h ( m ) ) ; a = c } r e t u r n   a } ; f . P o l y g o n = f . P o l y l i n e . e x t e n d ( { o p t i o n s : { f i l l : ! 0 } , i n i t i a l i z e : f u n c t i o n ( a , b ) { f . P o l y l i n e . p r o t o t y p e . i n i t i a l i z e . c a l l ( t h i s , a , b ) , t h i s . _ i n i t W i t h H o l e s ( a ) } , _ i n i t W i t h H o l e s : f u n c t i o n ( a ) { v a r   b , c , d ; i f ( a & & f . U t i l . i s A r r a y ( a [ 0 ] ) & & t y p e o f   a [ 0 ] [ 0 ] ! = = " n u m b e r " ) { t h i s . _ l a t l n g s = t h i s . _ c o n v e r t L a t L n g s ( a [ 0 ] ) ; t h i s . _ h o l e s = a . s l i c e ( 1 ) ; f o r ( b = 0 , c = t h i s . _ h o l e s . l e n g t h ; b < c ; b + + ) d = t h i s . _ h o l e s [ b ] = t h i s . _ c o n v e r t L a t L n g s ( t h i s . _ h o l e s [ b ] ) , d [ 0 ] . e q u a l s ( d [ d . l e n g t h - 1 ] ) & & d . p o p ( ) } a = t h i s . _ l a t l n g s ; a . l e n g t h > = 2 & & a [ 0 ] . e q u a l s ( a [ a . l e n g t h - 1 ] ) & & a . p o p ( ) } , p r o j e c t L a t l n g s : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; f . P o l y l i n e . p r o t o t y p e . p r o j e c t L a t l n g s . c a l l ( t h i s ) ; t h i s . _ h o l e P o i n t s = [ ] ; i f ( ! t h i s . _ h o l e s ) r e t u r n ; v a r   a , b , c , d ; f o r ( a = 0 , c = t h i s . _ h o l e s . l e n g t h ; a < c ; a + + ) { t h i s . _ h o l e P o i n t s [ a ] = [ ] ; f o r ( b = 0 , d = t h i s . _ h o l e s [ a ] . l e n g t h ; b < d ; b + + ) t h i s . _ h o l e P o i n t s [ a ] [ b ] = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( t h i s . _ h o l e s [ a ] [ b ] ) } } , s e t L a t L n g s : f u n c t i o n ( a ) { i f ( a & & f . U t i l . i s A r r a y ( a [ 0 ] ) & & t y p e o f   a [ 0 ] [ 0 ] ! = = " n u m b e r " ) { t h i s . _ i n i t W i t h H o l e s ( a ) ; r e t u r n   t h i s . r e d r a w ( ) } e l s e   r e t u r n   f . P o l y l i n e . p r o t o t y p e . s e t L a t L n g s . c a l l ( t h i s , a ) } , _ c l i p P o i n t s : f u n c t i o n ( ) { v a r   a = t h i s . _ o r i g i n a l P o i n t s , b = [ ] ; t h i s . _ p a r t s = [ a ] . c o n c a t ( t h i s . _ h o l e P o i n t s ) ; i f ( t h i s . o p t i o n s . n o C l i p ) r e t u r n ; f o r ( v a r   a = 0 , c = t h i s . _ p a r t s . l e n g t h ; a < c ; a + + ) { v a r   d = f . P o l y U t i l . c l i p P o l y g o n ( t h i s . _ p a r t s [ a ] , t h i s . _ m a p . _ p a t h V i e w p o r t ) ; d . l e n g t h & & b . p u s h ( d ) } t h i s . _ p a r t s = b } , _ g e t P a t h P a r t S t r : f u n c t i o n ( a ) { a = f . P o l y l i n e . p r o t o t y p e . _ g e t P a t h P a r t S t r . c a l l ( t h i s , a ) ; r e t u r n   a + ( f . B r o w s e r . s v g ? " z " : " x " ) } } ) ; f . p o l y g o n = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . P o l y g o n ( a , b ) } ; ( f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; f u n c t i o n   a ( a ) { _ _ p & & _ _ p ( ) ; r e t u r n   f . F e a t u r e G r o u p . e x t e n d ( { i n i t i a l i z e : f u n c t i o n ( a , b ) { t h i s . _ l a y e r s = { } , t h i s . _ o p t i o n s = b , t h i s . s e t L a t L n g s ( a ) } , s e t L a t L n g s : f u n c t i o n ( b ) { v a r   c = 0 , d = b . l e n g t h ; t h i s . e a c h L a y e r ( f u n c t i o n ( a ) { c < d ? a . s e t L a t L n g s ( b [ c + + ] ) : t h i s . r e m o v e L a y e r ( a ) } , t h i s ) ; w h i l e ( c < d ) t h i s . a d d L a y e r ( n e w   a ( b [ c + + ] , t h i s . _ o p t i o n s ) ) ; r e t u r n   t h i s } , g e t L a t L n g s : f u n c t i o n ( ) { v a r   a = [ ] ; t h i s . e a c h L a y e r ( f u n c t i o n ( b ) { a . p u s h ( b . g e t L a t L n g s ( ) ) } ) ; r e t u r n   a } } ) } f . M u l t i P o l y l i n e = a ( f . P o l y l i n e ) ; f . M u l t i P o l y g o n = a ( f . P o l y g o n ) ; f . m u l t i P o l y l i n e = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . M u l t i P o l y l i n e ( a , b ) } ; f . m u l t i P o l y g o n = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . M u l t i P o l y g o n ( a , b ) } } ) ( ) ; f . R e c t a n g l e = f . P o l y g o n . e x t e n d ( { i n i t i a l i z e : f u n c t i o n ( a , b ) { f . P o l y g o n . p r o t o t y p e . i n i t i a l i z e . c a l l ( t h i s , t h i s . _ b o u n d s T o L a t L n g s ( a ) , b ) } , s e t B o u n d s : f u n c t i o n ( a ) { t h i s . s e t L a t L n g s ( t h i s . _ b o u n d s T o L a t L n g s ( a ) ) } , _ b o u n d s T o L a t L n g s : f u n c t i o n ( a ) { a = f . l a t L n g B o u n d s ( a ) ; r e t u r n [ a . g e t S o u t h W e s t ( ) , a . g e t N o r t h W e s t ( ) , a . g e t N o r t h E a s t ( ) , a . g e t S o u t h E a s t ( ) ] } } ) ; f . r e c t a n g l e = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . R e c t a n g l e ( a , b ) } ; f . C i r c l e = f . P a t h . e x t e n d ( { i n i t i a l i z e : f u n c t i o n ( a , b , c ) { f . P a t h . p r o t o t y p e . i n i t i a l i z e . c a l l ( t h i s , c ) , t h i s . _ l a t l n g = f . l a t L n g ( a ) , t h i s . _ m R a d i u s = b } , o p t i o n s : { f i l l : ! 0 } , s e t L a t L n g : f u n c t i o n ( a ) { t h i s . _ l a t l n g = f . l a t L n g ( a ) ; r e t u r n   t h i s . r e d r a w ( ) } , s e t R a d i u s : f u n c t i o n ( a ) { t h i s . _ m R a d i u s = a ; r e t u r n   t h i s . r e d r a w ( ) } , p r o j e c t L a t l n g s : f u n c t i o n ( ) { v a r   a = t h i s . _ g e t L n g R a d i u s ( ) , b = t h i s . _ l a t l n g ; a = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( [ b . l a t , b . l n g - a ] ) ; t h i s . _ p o i n t = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( b ) ; t h i s . _ r a d i u s = M a t h . m a x ( t h i s . _ p o i n t . x - a . x , 1 ) } , g e t B o u n d s : f u n c t i o n ( ) { v a r   a = t h i s . _ g e t L n g R a d i u s ( ) , b = t h i s . _ m R a d i u s / 4 0 0 7 5 0 1 7 * 3 6 0 , c = t h i s . _ l a t l n g ; r e t u r n   n e w   f . L a t L n g B o u n d s ( [ c . l a t - b , c . l n g - a ] , [ c . l a t + b , c . l n g + a ] ) } , g e t L a t L n g : f u n c t i o n ( ) { r e t u r n   t h i s . _ l a t l n g } , g e t P a t h S t r i n g : f u n c t i o n ( ) { v a r   a = t h i s . _ p o i n t , b = t h i s . _ r a d i u s ; i f ( t h i s . _ c h e c k I f E m p t y ( ) ) r e t u r n " " ; i f ( f . B r o w s e r . s v g ) r e t u r n " M " + a . x + " , " + ( a . y - b ) + " A " + b + " , " + b + " , 0 , 1 , 1 , " + ( a . x - . 1 ) + " , " + ( a . y - b ) + "   z " ; e l s e { a . _ r o u n d ( ) ; b = M a t h . r o u n d ( b ) ; r e t u r n " A L   " + a . x + " , " + a . y + "   " + b + " , " + b + "   0 , " + 6 5 5 3 5 * 3 6 0 } } , g e t R a d i u s : f u n c t i o n ( ) { r e t u r n   t h i s . _ m R a d i u s } , g e t P a t h : f u n c t i o n ( ) { r e t u r n   t h i s . _ p a t h } , _ g e t L a t R a d i u s : f u n c t i o n ( ) { r e t u r n   t h i s . _ m R a d i u s / 4 0 0 7 5 0 1 7 * 3 6 0 } , _ g e t L n g R a d i u s : f u n c t i o n ( ) { r e t u r n   t h i s . _ g e t L a t R a d i u s ( ) / M a t h . c o s ( f . L a t L n g . D E G _ T O _ R A D * t h i s . _ l a t l n g . l a t ) } , _ c h e c k I f E m p t y : f u n c t i o n ( ) { i f ( ! t h i s . _ m a p ) r e t u r n ! 1 ; v a r   a = t h i s . _ m a p . _ p a t h V i e w p o r t , b = t h i s . _ r a d i u s , c = t h i s . _ p o i n t ; r e t u r n   c . x - b > a . m a x . x | | c . y - b > a . m a x . y | | c . x + b < a . m i n . x | | c . y + b < a . m i n . y } } ) ; f . c i r c l e = f u n c t i o n ( a , b , c ) { r e t u r n   n e w   f . C i r c l e ( a , b , c ) } ; f . C i r c l e M a r k e r = f . C i r c l e . e x t e n d ( { o p t i o n s : { r a d i u s : 1 0 , w e i g h t : 2 } , i n i t i a l i z e : f u n c t i o n ( a , b ) { f . C i r c l e . p r o t o t y p e . i n i t i a l i z e . c a l l ( t h i s , a , n u l l , b ) , t h i s . _ r a d i u s = t h i s . o p t i o n s . r a d i u s } , p r o j e c t L a t l n g s : f u n c t i o n ( ) { t h i s . _ p o i n t = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( t h i s . _ l a t l n g ) } , _ u p d a t e S t y l e : f u n c t i o n ( ) { f . C i r c l e . p r o t o t y p e . _ u p d a t e S t y l e . c a l l ( t h i s ) , t h i s . s e t R a d i u s ( t h i s . o p t i o n s . r a d i u s ) } , s e t L a t L n g : f u n c t i o n ( a ) { f . C i r c l e . p r o t o t y p e . s e t L a t L n g . c a l l ( t h i s , a ) ; t h i s . _ p o p u p & & t h i s . _ p o p u p . _ i s O p e n & & t h i s . _ p o p u p . s e t L a t L n g ( a ) ; r e t u r n   t h i s } , s e t R a d i u s : f u n c t i o n ( a ) { t h i s . o p t i o n s . r a d i u s = t h i s . _ r a d i u s = a ; r e t u r n   t h i s . r e d r a w ( ) } , g e t R a d i u s : f u n c t i o n ( ) { r e t u r n   t h i s . _ r a d i u s } } ) ; f . c i r c l e M a r k e r = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . C i r c l e M a r k e r ( a , b ) } ; f . P o l y l i n e . i n c l u d e ( f . P a t h . C A N V A S ? { _ c o n t a i n s P o i n t : f u n c t i o n ( a , b ) { _ _ p & & _ _ p ( ) ; v a r   c , d , e , g , h , i , j , k = t h i s . o p t i o n s . w e i g h t / 2 ; f . B r o w s e r . t o u c h & & ( k + = 1 0 ) ; f o r ( c = 0 , g = t h i s . _ p a r t s . l e n g t h ; c < g ; c + + ) { j = t h i s . _ p a r t s [ c ] ; f o r ( d = 0 , h = j . l e n g t h , e = h - 1 ; d < h ; e = d + + ) { i f ( ! b & & d = = = 0 ) c o n t i n u e ; i = f . L i n e U t i l . p o i n t T o S e g m e n t D i s t a n c e ( a , j [ e ] , j [ d ] ) ; i f ( i < = k ) r e t u r n ! 0 } } r e t u r n ! 1 } } : { } ) ; f . P o l y g o n . i n c l u d e ( f . P a t h . C A N V A S ? { _ c o n t a i n s P o i n t : f u n c t i o n ( a ) { v a r   b = ! 1 , c , d , e , g , h , i , j , k ; i f ( f . P o l y l i n e . p r o t o t y p e . _ c o n t a i n s P o i n t . c a l l ( t h i s , a , ! 0 ) ) r e t u r n ! 0 ; f o r ( g = 0 , j = t h i s . _ p a r t s . l e n g t h ; g < j ; g + + ) { c = t h i s . _ p a r t s [ g ] ; f o r ( h = 0 , k = c . l e n g t h , i = k - 1 ; h < k ; i = h + + ) d = c [ h ] , e = c [ i ] , d . y > a . y ! = = e . y > a . y & & a . x < ( e . x - d . x ) * ( a . y - d . y ) / ( e . y - d . y ) + d . x & & ( b = ! b ) } r e t u r n   b } } : { } ) ; f . C i r c l e . i n c l u d e ( f . P a t h . C A N V A S ? { _ d r a w P a t h : f u n c t i o n ( ) { v a r   a = t h i s . _ p o i n t ; t h i s . _ c t x . b e g i n P a t h ( ) ; t h i s . _ c t x . a r c ( a . x , a . y , t h i s . _ r a d i u s , 0 , M a t h . P I * 2 , ! 1 ) } , _ c o n t a i n s P o i n t : f u n c t i o n ( a ) { v a r   b = t h i s . _ p o i n t , c = t h i s . o p t i o n s . s t r o k e ? t h i s . o p t i o n s . w e i g h t / 2 : 0 ; r e t u r n   a . d i s t a n c e T o ( b ) < = t h i s . _ r a d i u s + c } } : { } ) ; f . C i r c l e M a r k e r . i n c l u d e ( f . P a t h . C A N V A S ? { _ u p d a t e S t y l e : f u n c t i o n ( ) { f . P a t h . p r o t o t y p e . _ u p d a t e S t y l e . c a l l ( t h i s ) } } : { } ) ; f . G e o J S O N = f . F e a t u r e G r o u p . e x t e n d ( { i n i t i a l i z e : f u n c t i o n ( a , b ) { f . s e t O p t i o n s ( t h i s , b ) , t h i s . _ l a y e r s = { } , a & & t h i s . a d d D a t a ( a ) } , a d d D a t a : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   b = f . U t i l . i s A r r a y ( a ) ? a : a . f e a t u r e s , c , d , e ; i f ( b ) { f o r ( c = 0 , d = b . l e n g t h ; c < d ; c + + ) e = b [ c ] , ( e . g e o m e t r i e s | | e . g e o m e t r y | | e . f e a t u r e s | | e . c o o r d i n a t e s ) & & t h i s . a d d D a t a ( b [ c ] ) ; r e t u r n   t h i s } e = t h i s . o p t i o n s ; i f ( e . f i l t e r & & ! e . f i l t e r ( a ) ) r e t u r n ; b = f . G e o J S O N . g e o m e t r y T o L a y e r ( a , e . p o i n t T o L a y e r , e . c o o r d s T o L a t L n g , e ) ; b . f e a t u r e = f . G e o J S O N . a s F e a t u r e ( a ) ; b . d e f a u l t O p t i o n s = b . o p t i o n s ; t h i s . r e s e t S t y l e ( b ) ; e . o n E a c h F e a t u r e & & e . o n E a c h F e a t u r e ( a , b ) ; r e t u r n   t h i s . a d d L a y e r ( b ) } , r e s e t S t y l e : f u n c t i o n ( a ) { v a r   b = t h i s . o p t i o n s . s t y l e ; b & & ( f . U t i l . e x t e n d ( a . o p t i o n s , a . d e f a u l t O p t i o n s ) , t h i s . _ s e t L a y e r S t y l e ( a , b ) ) } , s e t S t y l e : f u n c t i o n ( a ) { t h i s . e a c h L a y e r ( f u n c t i o n ( b ) { t h i s . _ s e t L a y e r S t y l e ( b , a ) } , t h i s ) } , _ s e t L a y e r S t y l e : f u n c t i o n ( a , b ) { t y p e o f   b = = = " f u n c t i o n " & & ( b = b ( a . f e a t u r e ) ) , a . s e t S t y l e & & a . s e t S t y l e ( b ) } } ) ; f . e x t e n d ( f . G e o J S O N , { g e o m e t r y T o L a y e r : f u n c t i o n ( a , b , c , d ) { _ _ p & & _ _ p ( ) ; v a r   e = a . t y p e = = = " F e a t u r e " ? a . g e o m e t r y : a , g = e . c o o r d i n a t e s , h = [ ] , i , j , k ; c = c | | t h i s . c o o r d s T o L a t L n g ; s w i t c h ( e . t y p e ) { c a s e " P o i n t " : i = c ( g ) ; r e t u r n   b ? b ( a , i ) : n e w   f . M a r k e r ( i ) ; c a s e " M u l t i P o i n t " : f o r ( j = 0 , k = g . l e n g t h ; j < k ; j + + ) i = c ( g [ j ] ) , h . p u s h ( b ? b ( a , i ) : n e w   f . M a r k e r ( i ) ) ; r e t u r n   n e w   f . F e a t u r e G r o u p ( h ) ; c a s e " L i n e S t r i n g " : i = t h i s . c o o r d s T o L a t L n g s ( g , 0 , c ) ; r e t u r n   n e w   f . P o l y l i n e ( i , d ) ; c a s e " P o l y g o n " : i f ( g . l e n g t h = = = 2 & & ! g [ 1 ] . l e n g t h ) t h r o w   n e w   E r r o r ( " I n v a l i d   G e o J S O N   o b j e c t . " ) ; i = t h i s . c o o r d s T o L a t L n g s ( g , 1 , c ) ; r e t u r n   n e w   f . P o l y g o n ( i , d ) ; c a s e " M u l t i L i n e S t r i n g " : i = t h i s . c o o r d s T o L a t L n g s ( g , 1 , c ) ; r e t u r n   n e w   f . M u l t i P o l y l i n e ( i , d ) ; c a s e " M u l t i P o l y g o n " : i = t h i s . c o o r d s T o L a t L n g s ( g , 2 , c ) ; r e t u r n   n e w   f . M u l t i P o l y g o n ( i , d ) ; c a s e " G e o m e t r y C o l l e c t i o n " : f o r ( j = 0 , k = e . g e o m e t r i e s . l e n g t h ; j < k ; j + + ) h . p u s h ( t h i s . g e o m e t r y T o L a y e r ( { g e o m e t r y : e . g e o m e t r i e s [ j ] , t y p e : " F e a t u r e " , p r o p e r t i e s : a . p r o p e r t i e s } , b , c , d ) ) ; r e t u r n   n e w   f . F e a t u r e G r o u p ( h ) ; d e f a u l t : t h r o w   n e w   E r r o r ( " I n v a l i d   G e o J S O N   o b j e c t . " ) } } , c o o r d s T o L a t L n g : f u n c t i o n ( a ) { r e t u r n   n e w   f . L a t L n g ( a [ 1 ] , a [ 0 ] , a [ 2 ] ) } , c o o r d s T o L a t L n g s : f u n c t i o n ( a , b , c ) { v a r   d , e , f , g = [ ] ; f o r ( e = 0 , f = a . l e n g t h ; e < f ; e + + ) d = b ? t h i s . c o o r d s T o L a t L n g s ( a [ e ] , b - 1 , c ) : ( c | | t h i s . c o o r d s T o L a t L n g ) ( a [ e ] ) , g . p u s h ( d ) ; r e t u r n   g } , l a t L n g T o C o o r d s : f u n c t i o n ( a ) { v a r   b = [ a . l n g , a . l a t ] ; a . a l t ! = = v o i d   0 & & b . p u s h ( a . a l t ) ; r e t u r n   b } , l a t L n g s T o C o o r d s : f u n c t i o n ( a ) { v a r   b = [ ] ; f o r ( v a r   c = 0 , d = a . l e n g t h ; c < d ; c + + ) b . p u s h ( f . G e o J S O N . l a t L n g T o C o o r d s ( a [ c ] ) ) ; r e t u r n   b } , g e t F e a t u r e : f u n c t i o n ( a , b ) { r e t u r n   a . f e a t u r e ? f . e x t e n d ( { } , a . f e a t u r e , { g e o m e t r y : b } ) : f . G e o J S O N . a s F e a t u r e ( b ) } , a s F e a t u r e : f u n c t i o n ( a ) { r e t u r n   a . t y p e = = = " F e a t u r e " ? a : { t y p e : " F e a t u r e " , p r o p e r t i e s : { } , g e o m e t r y : a } } } ) ; c = { t o G e o J S O N : f u n c t i o n ( ) { r e t u r n   f . G e o J S O N . g e t F e a t u r e ( t h i s , { t y p e : " P o i n t " , c o o r d i n a t e s : f . G e o J S O N . l a t L n g T o C o o r d s ( t h i s . g e t L a t L n g ( ) ) } ) } } ; f . M a r k e r . i n c l u d e ( c ) ; f . C i r c l e . i n c l u d e ( c ) ; f . C i r c l e M a r k e r . i n c l u d e ( c ) ; f . P o l y l i n e . i n c l u d e ( { t o G e o J S O N : f u n c t i o n ( ) { r e t u r n   f . G e o J S O N . g e t F e a t u r e ( t h i s , { t y p e : " L i n e S t r i n g " , c o o r d i n a t e s : f . G e o J S O N . l a t L n g s T o C o o r d s ( t h i s . g e t L a t L n g s ( ) ) } ) } } ) ; f . P o l y g o n . i n c l u d e ( { t o G e o J S O N : f u n c t i o n ( ) { v a r   a = [ f . G e o J S O N . l a t L n g s T o C o o r d s ( t h i s . g e t L a t L n g s ( ) ) ] , b , c , d ; a [ 0 ] . p u s h ( a [ 0 ] [ 0 ] ) ; i f ( t h i s . _ h o l e s ) f o r ( b = 0 , c = t h i s . _ h o l e s . l e n g t h ; b < c ; b + + ) d = f . G e o J S O N . l a t L n g s T o C o o r d s ( t h i s . _ h o l e s [ b ] ) , d . p u s h ( d [ 0 ] ) , a . p u s h ( d ) ; r e t u r n   f . G e o J S O N . g e t F e a t u r e ( t h i s , { t y p e : " P o l y g o n " , c o o r d i n a t e s : a } ) } } ) ; ( f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; f u n c t i o n   a ( a ) { r e t u r n   f u n c t i o n ( ) { v a r   b = [ ] ; t h i s . e a c h L a y e r ( f u n c t i o n ( a ) { b . p u s h ( a . t o G e o J S O N ( ) . g e o m e t r y . c o o r d i n a t e s ) } ) ; r e t u r n   f . G e o J S O N . g e t F e a t u r e ( t h i s , { t y p e : a , c o o r d i n a t e s : b } ) } } f . M u l t i P o l y l i n e . i n c l u d e ( { t o G e o J S O N : a ( " M u l t i L i n e S t r i n g " ) } ) ; f . M u l t i P o l y g o n . i n c l u d e ( { t o G e o J S O N : a ( " M u l t i P o l y g o n " ) } ) ; f . L a y e r G r o u p . i n c l u d e ( { t o G e o J S O N : f u n c t i o n ( ) { v a r   b = t h i s . f e a t u r e & & t h i s . f e a t u r e . g e o m e t r y , c = [ ] ; i f ( b & & b . t y p e = = = " M u l t i P o i n t " ) r e t u r n   a ( " M u l t i P o i n t " ) . c a l l ( t h i s ) ; v a r   d = b & & b . t y p e = = = " G e o m e t r y C o l l e c t i o n " ; t h i s . e a c h L a y e r ( f u n c t i o n ( a ) { a . t o G e o J S O N & & ( b = a . t o G e o J S O N ( ) , c . p u s h ( d ? b . g e o m e t r y : f . G e o J S O N . a s F e a t u r e ( b ) ) ) } ) ; r e t u r n   d ? f . G e o J S O N . g e t F e a t u r e ( t h i s , { g e o m e t r i e s : c , t y p e : " G e o m e t r y C o l l e c t i o n " } ) : { t y p e : " F e a t u r e C o l l e c t i o n " , f e a t u r e s : c } } } ) } ) ( ) ; f . g e o J s o n = f u n c t i o n ( a , b ) { r e t u r n   n e w   f . G e o J S O N ( a , b ) } ; f . D o m E v e n t = { a d d L i s t e n e r : f u n c t i o n ( a , b , c , d ) { _ _ p & & _ _ p ( ) ; v a r   e = f . s t a m p ( c ) , g = " _ l e a f l e t _ " + b + e , h , i ; i f ( a [ g ] ) r e t u r n   t h i s ; h = f u n c t i o n ( b ) { r e t u r n   c . c a l l ( d | | a , b | | f . D o m E v e n t . _ g e t E v e n t ( ) ) } ; i f ( f . B r o w s e r . p o i n t e r & & b . i n d e x O f ( " t o u c h " ) = = = 0 ) r e t u r n   t h i s . a d d P o i n t e r L i s t e n e r ( a , b , h , e ) ; f . B r o w s e r . t o u c h & & b = = = " d b l c l i c k " & & t h i s . a d d D o u b l e T a p L i s t e n e r & & t h i s . a d d D o u b l e T a p L i s t e n e r ( a , h , e ) ; " a d d E v e n t L i s t e n e r " i n   a ? b = = = " m o u s e w h e e l " ? ( a . a d d E v e n t L i s t e n e r ( " D O M M o u s e S c r o l l " , h , ! 1 ) , a . a d d E v e n t L i s t e n e r ( b , h , ! 1 ) ) : b = = = " m o u s e e n t e r " | | b = = = " m o u s e l e a v e " ? ( i = h , e = b = = = " m o u s e e n t e r " ? " m o u s e o v e r " : " m o u s e o u t " , h = f u n c t i o n ( b ) { i f ( ! f . D o m E v e n t . _ c h e c k M o u s e ( a , b ) ) r e t u r n ; r e t u r n   i ( b ) } , a . a d d E v e n t L i s t e n e r ( e , h , ! 1 ) ) : b = = = " c l i c k " & & f . B r o w s e r . a n d r o i d ? ( i = h , h = f u n c t i o n ( a ) { r e t u r n   f . D o m E v e n t . _ f i l t e r C l i c k ( a , i ) } , a . a d d E v e n t L i s t e n e r ( b , h , ! 1 ) ) : a . a d d E v e n t L i s t e n e r ( b , h , ! 1 ) : " a t t a c h E v e n t " i n   a & & a . a t t a c h E v e n t ( " o n " + b , h ) ; a [ g ] = h ; r e t u r n   t h i s } , r e m o v e L i s t e n e r : f u n c t i o n ( a , b , c ) { c = f . s t a m p ( c ) ; v a r   d = " _ l e a f l e t _ " + b + c , e = a [ d ] ; i f ( ! e ) r e t u r n   t h i s ; f . B r o w s e r . p o i n t e r & & b . i n d e x O f ( " t o u c h " ) = = = 0 ? t h i s . r e m o v e P o i n t e r L i s t e n e r ( a , b , c ) : f . B r o w s e r . t o u c h & & b = = = " d b l c l i c k " & & t h i s . r e m o v e D o u b l e T a p L i s t e n e r ? t h i s . r e m o v e D o u b l e T a p L i s t e n e r ( a , c ) : " r e m o v e E v e n t L i s t e n e r " i n   a ? b = = = " m o u s e w h e e l " ? ( a . r e m o v e E v e n t L i s t e n e r ( " D O M M o u s e S c r o l l " , e , ! 1 ) , a . r e m o v e E v e n t L i s t e n e r ( b , e , ! 1 ) ) : b = = = " m o u s e e n t e r " | | b = = = " m o u s e l e a v e " ? a . r e m o v e E v e n t L i s t e n e r ( b = = = " m o u s e e n t e r " ? " m o u s e o v e r " : " m o u s e o u t " , e , ! 1 ) : a . r e m o v e E v e n t L i s t e n e r ( b , e , ! 1 ) : " d e t a c h E v e n t " i n   a & & a . d e t a c h E v e n t ( " o n " + b , e ) ; a [ d ] = n u l l ; r e t u r n   t h i s } , s t o p P r o p a g a t i o n : f u n c t i o n ( a ) { a . d e l i b e r a t e S y n c = ! 0 ; a . s t o p P r o p a g a t i o n ? a . s t o p P r o p a g a t i o n ( ) : a . c a n c e l B u b b l e = ! 0 ; f . D o m E v e n t . _ s k i p p e d ( a ) ; r e t u r n   t h i s } , d i s a b l e S c r o l l P r o p a g a t i o n : f u n c t i o n ( a ) { v a r   b = f . D o m E v e n t . s t o p P r o p a g a t i o n ; r e t u r n   f . D o m E v e n t . o n ( a , " m o u s e w h e e l " , b ) . o n ( a , " M o z M o u s e P i x e l S c r o l l " , b ) } , d i s a b l e C l i c k P r o p a g a t i o n : f u n c t i o n ( a ) { v a r   b = f . D o m E v e n t . s t o p P r o p a g a t i o n ; f o r ( v a r   c = f . D r a g g a b l e . S T A R T . l e n g t h - 1 ; c > = 0 ; c - - ) f . D o m E v e n t . o n ( a , f . D r a g g a b l e . S T A R T [ c ] , b ) ; r e t u r n   f . D o m E v e n t . o n ( a , " c l i c k " , f . D o m E v e n t . _ f a k e S t o p ) . o n ( a , " d b l c l i c k " , b ) } , p r e v e n t D e f a u l t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ? a . p r e v e n t D e f a u l t ( ) : a . r e t u r n V a l u e = ! 1 ; r e t u r n   t h i s } , s t o p : f u n c t i o n ( a ) { r e t u r n   f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) . s t o p P r o p a g a t i o n ( a ) } , g e t M o u s e P o s i t i o n : f u n c t i o n ( a , b ) { i f ( ! b ) r e t u r n   n e w   f . P o i n t ( a . c l i e n t X , a . c l i e n t Y ) ; v a r   c = b . g e t B o u n d i n g C l i e n t R e c t ( ) ; r e t u r n   n e w   f . P o i n t ( a . c l i e n t X - c . l e f t - b . c l i e n t L e f t , a . c l i e n t Y - c . t o p - b . c l i e n t T o p ) } , g e t W h e e l D e l t a : f u n c t i o n ( a ) { v a r   b = 0 ; a . w h e e l D e l t a & & ( b = a . w h e e l D e l t a / 1 2 0 ) ; a . d e t a i l & & ( b = - a . d e t a i l / 3 ) ; r e t u r n   b } , _ s k i p E v e n t s : { } , _ f a k e S t o p : f u n c t i o n ( a ) { f . D o m E v e n t . _ s k i p E v e n t s [ a . t y p e ] = ! 0 } , _ s k i p p e d : f u n c t i o n ( a ) { v a r   b = t h i s . _ s k i p E v e n t s [ a . t y p e ] ; t h i s . _ s k i p E v e n t s [ a . t y p e ] = ! 1 ; r e t u r n   b } , _ c h e c k M o u s e : f u n c t i o n ( a , b ) { b = b . r e l a t e d T a r g e t ; i f ( ! b ) r e t u r n ! 0 ; t r y { w h i l e ( b & & b ! = = a ) b = b . p a r e n t N o d e } c a t c h ( a ) { r e t u r n ! 1 } r e t u r n   b ! = = a } , _ g e t E v e n t : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   b = a . e v e n t ; i f ( ! b ) { v a r   c = a r g u m e n t s . c a l l e e . c a l l e r ; w h i l e ( c ) { b = c . a r g u m e n t s [ 0 ] ; i f ( b & & a . E v e n t = = = b . c o n s t r u c t o r ) b r e a k ; c = c . c a l l e r } } r e t u r n   b } , _ f i l t e r C l i c k : f u n c t i o n ( a , b ) { v a r   c = a . t i m e S t a m p | | a . o r i g i n a l E v e n t . t i m e S t a m p , d = f . D o m E v e n t . _ l a s t C l i c k & & c - f . D o m E v e n t . _ l a s t C l i c k ; i f ( d & & d > 1 0 0 & & d < 1 e 3 | | a . t a r g e t . _ s i m u l a t e d C l i c k & & ! a . _ s i m u l a t e d ) { f . D o m E v e n t . s t o p ( a ) ; r e t u r n } f . D o m E v e n t . _ l a s t C l i c k = c ; r e t u r n   b ( a ) } } ; f . D o m E v e n t . o n = f . D o m E v e n t . a d d L i s t e n e r ; f . D o m E v e n t . o f f = f . D o m E v e n t . r e m o v e L i s t e n e r ; f . D r a g g a b l e = f . C l a s s . e x t e n d ( { i n c l u d e s : f . M i x i n . E v e n t s , s t a t i c s : { S T A R T : f . B r o w s e r . t o u c h ? [ " t o u c h s t a r t " , " m o u s e d o w n " ] : [ " m o u s e d o w n " ] , E N D : { m o u s e d o w n : " m o u s e u p " , t o u c h s t a r t : " t o u c h e n d " , p o i n t e r d o w n : " t o u c h e n d " , M S P o i n t e r D o w n : " t o u c h e n d " } , M O V E : { m o u s e d o w n : " m o u s e m o v e " , t o u c h s t a r t : " t o u c h m o v e " , p o i n t e r d o w n : " t o u c h m o v e " , M S P o i n t e r D o w n : " t o u c h m o v e " } } , i n i t i a l i z e : f u n c t i o n ( a , b ) { t h i s . _ e l e m e n t = a , t h i s . _ d r a g S t a r t T a r g e t = b | | a } , e n a b l e : f u n c t i o n ( ) { i f ( t h i s . _ e n a b l e d ) r e t u r n ; f o r ( v a r   a = f . D r a g g a b l e . S T A R T . l e n g t h - 1 ; a > = 0 ; a - - ) f . D o m E v e n t . o n ( t h i s . _ d r a g S t a r t T a r g e t , f . D r a g g a b l e . S T A R T [ a ] , t h i s . _ o n D o w n , t h i s ) ; t h i s . _ e n a b l e d = ! 0 } , d i s a b l e : f u n c t i o n ( ) { i f ( ! t h i s . _ e n a b l e d ) r e t u r n ; f o r ( v a r   a = f . D r a g g a b l e . S T A R T . l e n g t h - 1 ; a > = 0 ; a - - ) f . D o m E v e n t . o f f ( t h i s . _ d r a g S t a r t T a r g e t , f . D r a g g a b l e . S T A R T [ a ] , t h i s . _ o n D o w n , t h i s ) ; t h i s . _ e n a b l e d = ! 1 ; t h i s . _ m o v e d = ! 1 } , _ o n D o w n : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; t h i s . _ m o v e d = ! 1 ; i f ( a . s h i f t K e y | | a . w h i c h ! = = 1 & & a . b u t t o n ! = = 1 & & ! a . t o u c h e s ) r e t u r n ; f . D o m E v e n t . s t o p P r o p a g a t i o n ( a ) ; i f ( f . D r a g g a b l e . _ d i s a b l e d ) r e t u r n ; f . D o m U t i l . d i s a b l e I m a g e D r a g ( ) ; f . D o m U t i l . d i s a b l e T e x t S e l e c t i o n ( ) ; i f ( t h i s . _ m o v i n g ) r e t u r n ; v a r   c = a . t o u c h e s ? a . t o u c h e s [ 0 ] : a ; t h i s . _ s t a r t P o i n t = n e w   f . P o i n t ( c . c l i e n t X , c . c l i e n t Y ) ; t h i s . _ s t a r t P o s = t h i s . _ n e w P o s = f . D o m U t i l . g e t P o s i t i o n ( t h i s . _ e l e m e n t ) ; f . D o m E v e n t . o n ( b , f . D r a g g a b l e . M O V E [ a . t y p e ] , t h i s . _ o n M o v e , t h i s ) . o n ( b , f . D r a g g a b l e . E N D [ a . t y p e ] , t h i s . _ o n U p , t h i s ) } , _ o n M o v e : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; i f ( a . t o u c h e s & & a . t o u c h e s . l e n g t h > 1 ) { t h i s . _ m o v e d = ! 0 ; r e t u r n } v a r   c = a . t o u c h e s & & a . t o u c h e s . l e n g t h = = = 1 ? a . t o u c h e s [ 0 ] : a ; c = n e w   f . P o i n t ( c . c l i e n t X , c . c l i e n t Y ) ; c = c . s u b t r a c t ( t h i s . _ s t a r t P o i n t ) ; i f ( ! c . x & & ! c . y ) r e t u r n ; f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) ; t h i s . _ m o v e d | | ( t h i s . f i r e ( " d r a g s t a r t " ) , t h i s . _ m o v e d = ! 0 , t h i s . _ s t a r t P o s = f . D o m U t i l . g e t P o s i t i o n ( t h i s . _ e l e m e n t ) . s u b t r a c t ( c ) , f . D o m U t i l . a d d C l a s s ( b . b o d y , " l e a f l e t - d r a g g i n g " ) , f . D o m U t i l . a d d C l a s s ( a . t a r g e t | | a . s r c E l e m e n t , " l e a f l e t - d r a g - t a r g e t " ) ) ; t h i s . _ n e w P o s = t h i s . _ s t a r t P o s . a d d ( c ) ; t h i s . _ m o v i n g = ! 0 ; f . U t i l . c a n c e l A n i m F r a m e ( t h i s . _ a n i m R e q u e s t ) ; t h i s . _ a n i m R e q u e s t = f . U t i l . r e q u e s t A n i m F r a m e ( t h i s . _ u p d a t e P o s i t i o n , t h i s , ! 0 , t h i s . _ d r a g S t a r t T a r g e t ) } , _ u p d a t e P o s i t i o n : f u n c t i o n ( ) { t h i s . f i r e ( " p r e d r a g " ) , f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ e l e m e n t , t h i s . _ n e w P o s ) , t h i s . f i r e ( " d r a g " ) } , _ o n U p : f u n c t i o n ( a ) { f . D o m U t i l . r e m o v e C l a s s ( b . b o d y , " l e a f l e t - d r a g g i n g " ) ; f . D o m U t i l . r e m o v e C l a s s ( a . t a r g e t | | a . s r c E l e m e n t , " l e a f l e t - d r a g - t a r g e t " ) ; f o r ( v a r   c   i n   f . D r a g g a b l e . M O V E ) f . D o m E v e n t . o f f ( b , f . D r a g g a b l e . M O V E [ c ] , t h i s . _ o n M o v e ) . o f f ( b , f . D r a g g a b l e . E N D [ c ] , t h i s . _ o n U p ) ; f . D o m U t i l . e n a b l e I m a g e D r a g ( ) ; f . D o m U t i l . e n a b l e T e x t S e l e c t i o n ( ) ; t h i s . _ m o v e d & & t h i s . _ m o v i n g & & ( f . U t i l . c a n c e l A n i m F r a m e ( t h i s . _ a n i m R e q u e s t ) , t h i s . f i r e ( " d r a g e n d " , { d i s t a n c e : t h i s . _ n e w P o s . d i s t a n c e T o ( t h i s . _ s t a r t P o s ) } ) ) ; t h i s . _ m o v i n g = ! 1 } } ) ; f . H a n d l e r = f . C l a s s . e x t e n d ( { i n i t i a l i z e : f u n c t i o n ( a ) { t h i s . _ m a p = a } , e n a b l e : f u n c t i o n ( ) { i f ( t h i s . _ e n a b l e d ) r e t u r n ; t h i s . _ e n a b l e d = ! 0 ; t h i s . a d d H o o k s ( ) } , d i s a b l e : f u n c t i o n ( ) { i f ( ! t h i s . _ e n a b l e d ) r e t u r n ; t h i s . _ e n a b l e d = ! 1 ; t h i s . r e m o v e H o o k s ( ) } , e n a b l e d : f u n c t i o n ( ) { r e t u r n ! ! t h i s . _ e n a b l e d } } ) ; f . M a p . m e r g e O p t i o n s ( { d r a g g i n g : ! 0 , i n e r t i a : ! f . B r o w s e r . a n d r o i d 2 3 , i n e r t i a D e c e l e r a t i o n : 3 4 0 0 , i n e r t i a M a x S p e e d : I n f i n i t y , i n e r t i a T h r e s h o l d : f . B r o w s e r . t o u c h ? 3 2 : 1 8 , e a s e L i n e a r i t y : . 2 5 , w o r l d C o p y J u m p : ! 1 } ) ; f . M a p . D r a g = f . H a n d l e r . e x t e n d ( { a d d H o o k s : f u n c t i o n ( ) { i f ( ! t h i s . _ d r a g g a b l e ) { v a r   a = t h i s . _ m a p ; t h i s . _ d r a g g a b l e = n e w   f . D r a g g a b l e ( a . _ m a p P a n e , a . _ c o n t a i n e r ) ; t h i s . _ d r a g g a b l e . o n ( { d r a g s t a r t : t h i s . _ o n D r a g S t a r t , d r a g : t h i s . _ o n D r a g , d r a g e n d : t h i s . _ o n D r a g E n d } , t h i s ) ; a . o p t i o n s . w o r l d C o p y J u m p & & ( t h i s . _ d r a g g a b l e . o n ( " p r e d r a g " , t h i s . _ o n P r e D r a g , t h i s ) , a . o n ( " v i e w r e s e t " , t h i s . _ o n V i e w R e s e t , t h i s ) , a . w h e n R e a d y ( t h i s . _ o n V i e w R e s e t , t h i s ) ) } t h i s . _ d r a g g a b l e . e n a b l e ( ) } , r e m o v e H o o k s : f u n c t i o n ( ) { t h i s . _ d r a g g a b l e . d i s a b l e ( ) } , m o v e d : f u n c t i o n ( ) { r e t u r n   t h i s . _ d r a g g a b l e & & t h i s . _ d r a g g a b l e . _ m o v e d } , _ o n D r a g S t a r t : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p ; a . _ p a n A n i m & & a . _ p a n A n i m . s t o p ( ) ; a . f i r e ( " m o v e s t a r t " ) . f i r e ( " d r a g s t a r t " ) ; a . o p t i o n s . i n e r t i a & & ( t h i s . _ p o s i t i o n s = [ ] , t h i s . _ t i m e s = [ ] ) } , _ o n D r a g : f u n c t i o n ( ) { i f ( t h i s . _ m a p . o p t i o n s . i n e r t i a ) { v a r   a = t h i s . _ l a s t T i m e = + n e w   D a t e ( ) , b = t h i s . _ l a s t P o s = t h i s . _ d r a g g a b l e . _ n e w P o s ; t h i s . _ p o s i t i o n s . p u s h ( b ) ; t h i s . _ t i m e s . p u s h ( a ) ; a - t h i s . _ t i m e s [ 0 ] > 2 0 0 & & ( t h i s . _ p o s i t i o n s . s h i f t ( ) , t h i s . _ t i m e s . s h i f t ( ) ) } t h i s . _ m a p . f i r e ( " m o v e " ) . f i r e ( " d r a g " ) } , _ o n V i e w R e s e t : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p . g e t S i z e ( ) . _ d i v i d e B y ( 2 ) , b = t h i s . _ m a p . l a t L n g T o L a y e r P o i n t ( [ 0 , 0 ] ) ; t h i s . _ i n i t i a l W o r l d O f f s e t = b . s u b t r a c t ( a ) . x ; t h i s . _ w o r l d W i d t h = t h i s . _ m a p . p r o j e c t ( [ 0 , 1 8 0 ] ) . x } , _ o n P r e D r a g : f u n c t i o n ( ) { v a r   a = t h i s . _ w o r l d W i d t h , b = M a t h . r o u n d ( a / 2 ) , c = t h i s . _ i n i t i a l W o r l d O f f s e t , d = t h i s . _ d r a g g a b l e . _ n e w P o s . x , e = ( d - b + c ) % a + b - c ; d = ( d + b + c ) % a - b - c ; a = M a t h . a b s ( e + c ) < M a t h . a b s ( d + c ) ? e : d ; t h i s . _ d r a g g a b l e . _ n e w P o s . x = a } , _ o n D r a g E n d : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   b = t h i s . _ m a p , c = b . o p t i o n s , d = + n e w   D a t e ( ) - t h i s . _ l a s t T i m e , e = ! c . i n e r t i a | | d > c . i n e r t i a T h r e s h o l d | | ! t h i s . _ p o s i t i o n s [ 0 ] ; b . f i r e ( " d r a g e n d " , a ) ; i f ( e ) b . f i r e ( " m o v e e n d " ) ; e l s e { a = t h i s . _ l a s t P o s . s u b t r a c t ( t h i s . _ p o s i t i o n s [ 0 ] ) ; e = ( t h i s . _ l a s t T i m e + d - t h i s . _ t i m e s [ 0 ] ) / 1 e 3 ; v a r   g = c . e a s e L i n e a r i t y ; d = a . m u l t i p l y B y ( g / e ) ; a = d . d i s t a n c e T o ( [ 0 , 0 ] ) ; e = M a t h . m i n ( c . i n e r t i a M a x S p e e d , a ) ; d = d . m u l t i p l y B y ( e / a ) ; v a r   h = e / ( c . i n e r t i a D e c e l e r a t i o n * g ) , i = d . m u l t i p l y B y ( - h / 2 ) . r o u n d ( ) ; ! i . x | | ! i . y ? b . f i r e ( " m o v e e n d " ) : ( i = b . _ l i m i t O f f s e t ( i , b . o p t i o n s . m a x B o u n d s ) , f . U t i l . r e q u e s t A n i m F r a m e ( f u n c t i o n ( ) { b . p a n B y ( i , { d u r a t i o n : h , e a s e L i n e a r i t y : g , n o M o v e S t a r t : ! 0 } ) } ) ) } } } ) ; f . M a p . a d d I n i t H o o k ( " a d d H a n d l e r " , " d r a g g i n g " , f . M a p . D r a g ) ; f . M a p . m e r g e O p t i o n s ( { d o u b l e C l i c k Z o o m : ! 0 } ) ; f . M a p . D o u b l e C l i c k Z o o m = f . H a n d l e r . e x t e n d ( { a d d H o o k s : f u n c t i o n ( ) { t h i s . _ m a p . o n ( " d b l c l i c k " , t h i s . _ o n D o u b l e C l i c k , t h i s ) } , r e m o v e H o o k s : f u n c t i o n ( ) { t h i s . _ m a p . o f f ( " d b l c l i c k " , t h i s . _ o n D o u b l e C l i c k , t h i s ) } , _ o n D o u b l e C l i c k : f u n c t i o n ( a ) { v a r   b = t h i s . _ m a p , c = b . g e t Z o o m ( ) + ( a . o r i g i n a l E v e n t . s h i f t K e y ? - 1 : 1 ) ; b . o p t i o n s . d o u b l e C l i c k Z o o m = = = " c e n t e r " ? b . s e t Z o o m ( c ) : b . s e t Z o o m A r o u n d ( a . c o n t a i n e r P o i n t , c ) } } ) ; f . M a p . a d d I n i t H o o k ( " a d d H a n d l e r " , " d o u b l e C l i c k Z o o m " , f . M a p . D o u b l e C l i c k Z o o m ) ; f . M a p . m e r g e O p t i o n s ( { s c r o l l W h e e l Z o o m : ! 0 } ) ; f . M a p . S c r o l l W h e e l Z o o m = f . H a n d l e r . e x t e n d ( { a d d H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o n ( t h i s . _ m a p . _ c o n t a i n e r , " m o u s e w h e e l " , t h i s . _ o n W h e e l S c r o l l , t h i s ) , f . D o m E v e n t . o n ( t h i s . _ m a p . _ c o n t a i n e r , " M o z M o u s e P i x e l S c r o l l " , f . D o m E v e n t . p r e v e n t D e f a u l t ) , t h i s . _ d e l t a = 0 } , r e m o v e H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o f f ( t h i s . _ m a p . _ c o n t a i n e r , " m o u s e w h e e l " , t h i s . _ o n W h e e l S c r o l l ) , f . D o m E v e n t . o f f ( t h i s . _ m a p . _ c o n t a i n e r , " M o z M o u s e P i x e l S c r o l l " , f . D o m E v e n t . p r e v e n t D e f a u l t ) } , _ o n W h e e l S c r o l l : f u n c t i o n ( a ) { v a r   b = f . D o m E v e n t . g e t W h e e l D e l t a ( a ) ; t h i s . _ d e l t a + = b ; t h i s . _ l a s t M o u s e P o s = t h i s . _ m a p . m o u s e E v e n t T o C o n t a i n e r P o i n t ( a ) ; t h i s . _ s t a r t T i m e | | ( t h i s . _ s t a r t T i m e = + n e w   D a t e ( ) ) ; b = M a t h . m a x ( 4 0 - ( + n e w   D a t e ( ) - t h i s . _ s t a r t T i m e ) , 0 ) ; c l e a r T i m e o u t ( t h i s . _ t i m e r ) ; t h i s . _ t i m e r = s e t T i m e o u t ( f . b i n d ( t h i s . _ p e r f o r m Z o o m , t h i s ) , b ) ; f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) ; f . D o m E v e n t . s t o p P r o p a g a t i o n ( a ) } , _ p e r f o r m Z o o m : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p , b = t h i s . _ d e l t a , c = a . g e t Z o o m ( ) ; b = b > 0 ? M a t h . c e i l ( b ) : M a t h . f l o o r ( b ) ; b = M a t h . m a x ( M a t h . m i n ( b , 4 ) , - 4 ) ; b = a . _ l i m i t Z o o m ( c + b ) - c ; t h i s . _ d e l t a = 0 ; t h i s . _ s t a r t T i m e = n u l l ; i f ( ! b ) r e t u r n ; a . o p t i o n s . s c r o l l W h e e l Z o o m = = = " c e n t e r " ? a . s e t Z o o m ( c + b ) : a . s e t Z o o m A r o u n d ( t h i s . _ l a s t M o u s e P o s , c + b ) } } ) ; f . M a p . a d d I n i t H o o k ( " a d d H a n d l e r " , " s c r o l l W h e e l Z o o m " , f . M a p . S c r o l l W h e e l Z o o m ) ; f . e x t e n d ( f . D o m E v e n t , { _ t o u c h s t a r t : f . B r o w s e r . m s P o i n t e r ? " M S P o i n t e r D o w n " : f . B r o w s e r . p o i n t e r ? " p o i n t e r d o w n " : " t o u c h s t a r t " , _ t o u c h e n d : f . B r o w s e r . m s P o i n t e r ? " M S P o i n t e r U p " : f . B r o w s e r . p o i n t e r ? " p o i n t e r u p " : " t o u c h e n d " , a d d D o u b l e T a p L i s t e n e r : f u n c t i o n ( a , c , d ) { _ _ p & & _ _ p ( ) ; v a r   e , g = ! 1 , h = 2 5 0 , i , j = " _ l e a f l e t _ " , k = t h i s . _ t o u c h s t a r t , l = t h i s . _ t o u c h e n d , m = [ ] ; f u n c t i o n   n ( a ) { v a r   b ; f . B r o w s e r . p o i n t e r ? ( m . p u s h ( a . p o i n t e r I d ) , b = m . l e n g t h ) : b = a . t o u c h e s . l e n g t h ; i f ( b > 1 ) r e t u r n ; b = D a t e . n o w ( ) ; v a r   c = b - ( e | | b ) ; i = a . t o u c h e s ? a . t o u c h e s [ 0 ] : a ; g = c > 0 & & c < = h ; e = b } f u n c t i o n   o ( a ) { _ _ p & & _ _ p ( ) ; i f ( f . B r o w s e r . p o i n t e r ) { a = m . i n d e x O f ( a . p o i n t e r I d ) ; i f ( a = = = - 1 ) r e t u r n ; m . s p l i c e ( a , 1 ) } i f ( g ) { i f ( f . B r o w s e r . p o i n t e r ) { a = { } ; v a r   b ; f o r ( v a r   d   i n   i ) b = i [ d ] , t y p e o f   b = = = " f u n c t i o n " ? a [ d ] = b . b i n d ( i ) : a [ d ] = b ; i = a } i . t y p e = " d b l c l i c k " ; c ( i ) ; e = n u l l } } a [ j + k + d ] = n ; a [ j + l + d ] = o ; j = f . B r o w s e r . p o i n t e r ? b . d o c u m e n t E l e m e n t : a ; a . a d d E v e n t L i s t e n e r ( k , n , ! 1 ) ; j . a d d E v e n t L i s t e n e r ( l , o , ! 1 ) ; f . B r o w s e r . p o i n t e r & & j . a d d E v e n t L i s t e n e r ( f . D o m E v e n t . P O I N T E R _ C A N C E L , o , ! 1 ) ; r e t u r n   t h i s } , r e m o v e D o u b l e T a p L i s t e n e r : f u n c t i o n ( a , c ) { v a r   d = " _ l e a f l e t _ " ; a . r e m o v e E v e n t L i s t e n e r ( t h i s . _ t o u c h s t a r t , a [ d + t h i s . _ t o u c h s t a r t + c ] , ! 1 ) ; ( f . B r o w s e r . p o i n t e r ? b . d o c u m e n t E l e m e n t : a ) . r e m o v e E v e n t L i s t e n e r ( t h i s . _ t o u c h e n d , a [ d + t h i s . _ t o u c h e n d + c ] , ! 1 ) ; f . B r o w s e r . p o i n t e r & & b . d o c u m e n t E l e m e n t . r e m o v e E v e n t L i s t e n e r ( f . D o m E v e n t . P O I N T E R _ C A N C E L , a [ d + t h i s . _ t o u c h e n d + c ] , ! 1 ) ; r e t u r n   t h i s } } ) ; f . e x t e n d ( f . D o m E v e n t , { P O I N T E R _ D O W N : f . B r o w s e r . m s P o i n t e r ? " M S P o i n t e r D o w n " : " p o i n t e r d o w n " , P O I N T E R _ M O V E : f . B r o w s e r . m s P o i n t e r ? " M S P o i n t e r M o v e " : " p o i n t e r m o v e " , P O I N T E R _ U P : f . B r o w s e r . m s P o i n t e r ? " M S P o i n t e r U p " : " p o i n t e r u p " , P O I N T E R _ C A N C E L : f . B r o w s e r . m s P o i n t e r ? " M S P o i n t e r C a n c e l " : " p o i n t e r c a n c e l " , _ p o i n t e r s : [ ] , _ p o i n t e r D o c u m e n t L i s t e n e r : ! 1 , a d d P o i n t e r L i s t e n e r : f u n c t i o n ( a , b , c , d ) { s w i t c h ( b ) { c a s e " t o u c h s t a r t " : r e t u r n   t h i s . a d d P o i n t e r L i s t e n e r S t a r t ( a , b , c , d ) ; c a s e " t o u c h e n d " : r e t u r n   t h i s . a d d P o i n t e r L i s t e n e r E n d ( a , b , c , d ) ; c a s e " t o u c h m o v e " : r e t u r n   t h i s . a d d P o i n t e r L i s t e n e r M o v e ( a , b , c , d ) ; d e f a u l t : t h r o w " U n k n o w n   t o u c h   e v e n t   t y p e " } } , a d d P o i n t e r L i s t e n e r S t a r t : f u n c t i o n ( a , c , d , e ) { _ _ p & & _ _ p ( ) ; c = " _ l e a f l e t _ " ; v a r   g = t h i s . _ p o i n t e r s , h = f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) ; v a r   b = ! 1 ; f o r ( v a r   c = 0 ; c < g . l e n g t h ; c + + ) i f ( g [ c ] . p o i n t e r I d = = = a . p o i n t e r I d ) { b = ! 0 ; b r e a k } b | | g . p u s h ( a ) ; a . t o u c h e s = g . s l i c e ( ) ; a . c h a n g e d T o u c h e s = [ a ] ; d ( a ) } ; a [ c + " t o u c h s t a r t " + e ] = h ; a . a d d E v e n t L i s t e n e r ( t h i s . P O I N T E R _ D O W N , h , ! 1 ) ; i f ( ! t h i s . _ p o i n t e r D o c u m e n t L i s t e n e r ) { c = f u n c t i o n ( a ) { f o r ( v a r   b = 0 ; b < g . l e n g t h ; b + + ) i f ( g [ b ] . p o i n t e r I d = = = a . p o i n t e r I d ) { g . s p l i c e ( b , 1 ) ; b r e a k } } ; b . d o c u m e n t E l e m e n t . a d d E v e n t L i s t e n e r ( t h i s . P O I N T E R _ U P , c , ! 1 ) ; b . d o c u m e n t E l e m e n t . a d d E v e n t L i s t e n e r ( t h i s . P O I N T E R _ C A N C E L , c , ! 1 ) ; t h i s . _ p o i n t e r D o c u m e n t L i s t e n e r = ! 0 } r e t u r n   t h i s } , a d d P o i n t e r L i s t e n e r M o v e : f u n c t i o n ( a , b , c , d ) { _ _ p & & _ _ p ( ) ; v a r   e = " _ l e a f l e t _ " , f = t h i s . _ p o i n t e r s ; f u n c t i o n   b ( a ) { _ _ p & & _ _ p ( ) ; i f ( ( a . p o i n t e r T y p e = = = a . M S P O I N T E R _ T Y P E _ M O U S E | | a . p o i n t e r T y p e = = = " m o u s e " ) & & a . b u t t o n s = = = 0 ) r e t u r n ; f o r ( v a r   b = 0 ; b < f . l e n g t h ; b + + ) i f ( f [ b ] . p o i n t e r I d = = = a . p o i n t e r I d ) { f [ b ] = a ; b r e a k } a . t o u c h e s = f . s l i c e ( ) ; a . c h a n g e d T o u c h e s = [ a ] ; c ( a ) } a [ e + " t o u c h m o v e " + d ] = b ; a . a d d E v e n t L i s t e n e r ( t h i s . P O I N T E R _ M O V E , b , ! 1 ) ; r e t u r n   t h i s } , a d d P o i n t e r L i s t e n e r E n d : f u n c t i o n ( a , b , c , d ) { _ _ p & & _ _ p ( ) ; b = " _ l e a f l e t _ " ; v a r   e = t h i s . _ p o i n t e r s , f = f u n c t i o n ( a ) { f o r ( v a r   b = 0 ; b < e . l e n g t h ; b + + ) i f ( e [ b ] . p o i n t e r I d = = = a . p o i n t e r I d ) { e . s p l i c e ( b , 1 ) ; b r e a k } a . t o u c h e s = e . s l i c e ( ) ; a . c h a n g e d T o u c h e s = [ a ] ; c ( a ) } ; a [ b + " t o u c h e n d " + d ] = f ; a . a d d E v e n t L i s t e n e r ( t h i s . P O I N T E R _ U P , f , ! 1 ) ; a . a d d E v e n t L i s t e n e r ( t h i s . P O I N T E R _ C A N C E L , f , ! 1 ) ; r e t u r n   t h i s } , r e m o v e P o i n t e r L i s t e n e r : f u n c t i o n ( a , b , c ) { _ _ p & & _ _ p ( ) ; v a r   d = " _ l e a f l e t _ " ; d = a [ d + b + c ] ; s w i t c h ( b ) { c a s e " t o u c h s t a r t " : a . r e m o v e E v e n t L i s t e n e r ( t h i s . P O I N T E R _ D O W N , d , ! 1 ) ; b r e a k ; c a s e " t o u c h m o v e " : a . r e m o v e E v e n t L i s t e n e r ( t h i s . P O I N T E R _ M O V E , d , ! 1 ) ; b r e a k ; c a s e " t o u c h e n d " : a . r e m o v e E v e n t L i s t e n e r ( t h i s . P O I N T E R _ U P , d , ! 1 ) ; a . r e m o v e E v e n t L i s t e n e r ( t h i s . P O I N T E R _ C A N C E L , d , ! 1 ) ; b r e a k } r e t u r n   t h i s } } ) ; f . M a p . m e r g e O p t i o n s ( { t o u c h Z o o m : f . B r o w s e r . t o u c h & & ! f . B r o w s e r . a n d r o i d 2 3 , b o u n c e A t Z o o m L i m i t s : ! 0 } ) ; f . M a p . T o u c h Z o o m = f . H a n d l e r . e x t e n d ( { a d d H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o n ( t h i s . _ m a p . _ c o n t a i n e r , " t o u c h s t a r t " , t h i s . _ o n T o u c h S t a r t , t h i s ) } , r e m o v e H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o f f ( t h i s . _ m a p . _ c o n t a i n e r , " t o u c h s t a r t " , t h i s . _ o n T o u c h S t a r t , t h i s ) } , _ o n T o u c h S t a r t : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   c = t h i s . _ m a p ; i f ( ! a . t o u c h e s | | a . t o u c h e s . l e n g t h ! = = 2 | | c . _ a n i m a t i n g Z o o m | | t h i s . _ z o o m i n g ) r e t u r n ; v a r   d = c . m o u s e E v e n t T o L a y e r P o i n t ( a . t o u c h e s [ 0 ] ) , e = c . m o u s e E v e n t T o L a y e r P o i n t ( a . t o u c h e s [ 1 ] ) , g = c . _ g e t C e n t e r L a y e r P o i n t ( ) ; t h i s . _ s t a r t C e n t e r = d . a d d ( e ) . _ d i v i d e B y ( 2 ) ; t h i s . _ s t a r t D i s t = d . d i s t a n c e T o ( e ) ; t h i s . _ m o v e d = ! 1 ; t h i s . _ z o o m i n g = ! 0 ; t h i s . _ c e n t e r O f f s e t = g . s u b t r a c t ( t h i s . _ s t a r t C e n t e r ) ; c . _ p a n A n i m & & c . _ p a n A n i m . s t o p ( ) ; f . D o m E v e n t . o n ( b , " t o u c h m o v e " , t h i s . _ o n T o u c h M o v e , t h i s ) . o n ( b , " t o u c h e n d " , t h i s . _ o n T o u c h E n d , t h i s ) ; f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) } , _ o n T o u c h M o v e : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   b = t h i s . _ m a p ; i f ( ! a . t o u c h e s | | a . t o u c h e s . l e n g t h ! = = 2 | | ! t h i s . _ z o o m i n g ) r e t u r n ; v a r   c = b . m o u s e E v e n t T o L a y e r P o i n t ( a . t o u c h e s [ 0 ] ) , d = b . m o u s e E v e n t T o L a y e r P o i n t ( a . t o u c h e s [ 1 ] ) ; t h i s . _ s c a l e = c . d i s t a n c e T o ( d ) / t h i s . _ s t a r t D i s t ; t h i s . _ d e l t a = c . _ a d d ( d ) . _ d i v i d e B y ( 2 ) . _ s u b t r a c t ( t h i s . _ s t a r t C e n t e r ) ; i f ( t h i s . _ s c a l e = = = 1 ) r e t u r n ; i f ( ! b . o p t i o n s . b o u n c e A t Z o o m L i m i t s & & ( b . g e t Z o o m ( ) = = = b . g e t M i n Z o o m ( ) & & t h i s . _ s c a l e < 1 | | b . g e t Z o o m ( ) = = = b . g e t M a x Z o o m ( ) & & t h i s . _ s c a l e > 1 ) ) r e t u r n ; t h i s . _ m o v e d | | ( f . D o m U t i l . a d d C l a s s ( b . _ m a p P a n e , " l e a f l e t - t o u c h i n g " ) , b . f i r e ( " m o v e s t a r t " ) . f i r e ( " z o o m s t a r t " ) , t h i s . _ m o v e d = ! 0 ) ; f . U t i l . c a n c e l A n i m F r a m e ( t h i s . _ a n i m R e q u e s t ) ; t h i s . _ a n i m R e q u e s t = f . U t i l . r e q u e s t A n i m F r a m e ( t h i s . _ u p d a t e O n M o v e , t h i s , ! 0 , t h i s . _ m a p . _ c o n t a i n e r ) ; f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) } , _ u p d a t e O n M o v e : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p , b = t h i s . _ g e t S c a l e O r i g i n ( ) ; b = a . l a y e r P o i n t T o L a t L n g ( b ) ; v a r   c = a . g e t S c a l e Z o o m ( t h i s . _ s c a l e ) ; a . _ a n i m a t e Z o o m ( b , c , t h i s . _ s t a r t C e n t e r , t h i s . _ s c a l e , t h i s . _ d e l t a ) } , _ o n T o u c h E n d : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; i f ( ! t h i s . _ m o v e d | | ! t h i s . _ z o o m i n g ) { t h i s . _ z o o m i n g = ! 1 ; r e t u r n } v a r   a = t h i s . _ m a p ; t h i s . _ z o o m i n g = ! 1 ; f . D o m U t i l . r e m o v e C l a s s ( a . _ m a p P a n e , " l e a f l e t - t o u c h i n g " ) ; f . U t i l . c a n c e l A n i m F r a m e ( t h i s . _ a n i m R e q u e s t ) ; f . D o m E v e n t . o f f ( b , " t o u c h m o v e " , t h i s . _ o n T o u c h M o v e ) . o f f ( b , " t o u c h e n d " , t h i s . _ o n T o u c h E n d ) ; v a r   c = t h i s . _ g e t S c a l e O r i g i n ( ) , d = a . l a y e r P o i n t T o L a t L n g ( c ) , e = a . g e t Z o o m ( ) , g = a . g e t S c a l e Z o o m ( t h i s . _ s c a l e ) - e ; g = g > 0 ? M a t h . c e i l ( g ) : M a t h . f l o o r ( g ) ; e = a . _ l i m i t Z o o m ( e + g ) ; g = a . g e t Z o o m S c a l e ( e ) / t h i s . _ s c a l e ; a . _ a n i m a t e Z o o m ( d , e , c , g ) } , _ g e t S c a l e O r i g i n : f u n c t i o n ( ) { v a r   a = t h i s . _ c e n t e r O f f s e t . s u b t r a c t ( t h i s . _ d e l t a ) . d i v i d e B y ( t h i s . _ s c a l e ) ; r e t u r n   t h i s . _ s t a r t C e n t e r . a d d ( a ) } } ) ; f . M a p . a d d I n i t H o o k ( " a d d H a n d l e r " , " t o u c h Z o o m " , f . M a p . T o u c h Z o o m ) ; f . M a p . m e r g e O p t i o n s ( { t a p : ! 0 , t a p T o l e r a n c e : 1 5 } ) ; f . M a p . T a p = f . H a n d l e r . e x t e n d ( { a d d H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o n ( t h i s . _ m a p . _ c o n t a i n e r , " t o u c h s t a r t " , t h i s . _ o n D o w n , t h i s ) } , r e m o v e H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o f f ( t h i s . _ m a p . _ c o n t a i n e r , " t o u c h s t a r t " , t h i s . _ o n D o w n , t h i s ) } , _ o n D o w n : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; i f ( ! a . t o u c h e s ) r e t u r n ; f . D o m E v e n t . p r e v e n t D e f a u l t ( a ) ; t h i s . _ f i r e C l i c k = ! 0 ; i f ( a . t o u c h e s . l e n g t h > 1 ) { t h i s . _ f i r e C l i c k = ! 1 ; c l e a r T i m e o u t ( t h i s . _ h o l d T i m e o u t ) ; r e t u r n } v a r   c = a . t o u c h e s [ 0 ] ; a = c . t a r g e t ; t h i s . _ s t a r t P o s = t h i s . _ n e w P o s = n e w   f . P o i n t ( c . c l i e n t X , c . c l i e n t Y ) ; a . t a g N a m e & & a . t a g N a m e . t o L o w e r C a s e ( ) = = = " a " & & f . D o m U t i l . a d d C l a s s ( a , " l e a f l e t - a c t i v e " ) ; t h i s . _ h o l d T i m e o u t = s e t T i m e o u t ( f . b i n d ( f u n c t i o n ( ) { t h i s . _ i s T a p V a l i d ( ) & & ( t h i s . _ f i r e C l i c k = ! 1 , t h i s . _ o n U p ( ) , t h i s . _ s i m u l a t e E v e n t ( " c o n t e x t m e n u " , c ) ) } , t h i s ) , 1 e 3 ) ; f . D o m E v e n t . o n ( b , " t o u c h m o v e " , t h i s . _ o n M o v e , t h i s ) . o n ( b , " t o u c h e n d " , t h i s . _ o n U p , t h i s ) } , _ o n U p : f u n c t i o n ( a ) { c l e a r T i m e o u t ( t h i s . _ h o l d T i m e o u t ) ; f . D o m E v e n t . o f f ( b , " t o u c h m o v e " , t h i s . _ o n M o v e , t h i s ) . o f f ( b , " t o u c h e n d " , t h i s . _ o n U p , t h i s ) ; i f ( t h i s . _ f i r e C l i c k & & a & & a . c h a n g e d T o u c h e s ) { a = a . c h a n g e d T o u c h e s [ 0 ] ; v a r   c = a . t a r g e t ; c & & c . t a g N a m e & & c . t a g N a m e . t o L o w e r C a s e ( ) = = = " a " & & f . D o m U t i l . r e m o v e C l a s s ( c , " l e a f l e t - a c t i v e " ) ; t h i s . _ i s T a p V a l i d ( ) & & t h i s . _ s i m u l a t e E v e n t ( " c l i c k " , a ) } } , _ i s T a p V a l i d : f u n c t i o n ( ) { r e t u r n   t h i s . _ n e w P o s . d i s t a n c e T o ( t h i s . _ s t a r t P o s ) < = t h i s . _ m a p . o p t i o n s . t a p T o l e r a n c e } , _ o n M o v e : f u n c t i o n ( a ) { a = a . t o u c h e s [ 0 ] ; t h i s . _ n e w P o s = n e w   f . P o i n t ( a . c l i e n t X , a . c l i e n t Y ) } , _ s i m u l a t e E v e n t : f u n c t i o n ( c , d ) { v a r   e = b . c r e a t e E v e n t ( " M o u s e E v e n t s " ) ; e . _ s i m u l a t e d = ! 0 ; d . t a r g e t . _ s i m u l a t e d C l i c k = ! 0 ; e . i n i t M o u s e E v e n t ( c , ! 0 , ! 0 , a , 1 , d . s c r e e n X , d . s c r e e n Y , d . c l i e n t X , d . c l i e n t Y , ! 1 , ! 1 , ! 1 , ! 1 , 0 , n u l l ) ; d . t a r g e t . d i s p a t c h E v e n t ( e ) } } ) ; f . B r o w s e r . t o u c h & & ! f . B r o w s e r . p o i n t e r & & f . M a p . a d d I n i t H o o k ( " a d d H a n d l e r " , " t a p " , f . M a p . T a p ) ; f . M a p . m e r g e O p t i o n s ( { b o x Z o o m : ! 0 } ) ; f . M a p . B o x Z o o m = f . H a n d l e r . e x t e n d ( { i n i t i a l i z e : f u n c t i o n ( a ) { t h i s . _ m a p = a , t h i s . _ c o n t a i n e r = a . _ c o n t a i n e r , t h i s . _ p a n e = a . _ p a n e s . o v e r l a y P a n e , t h i s . _ m o v e d = ! 1 } , a d d H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o n ( t h i s . _ c o n t a i n e r , " m o u s e d o w n " , t h i s . _ o n M o u s e D o w n , t h i s ) } , r e m o v e H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o f f ( t h i s . _ c o n t a i n e r , " m o u s e d o w n " , t h i s . _ o n M o u s e D o w n ) , t h i s . _ m o v e d = ! 1 } , m o v e d : f u n c t i o n ( ) { r e t u r n   t h i s . _ m o v e d } , _ o n M o u s e D o w n : f u n c t i o n ( a ) { t h i s . _ m o v e d = ! 1 ; i f ( ! a . s h i f t K e y | | a . w h i c h ! = = 1 & & a . b u t t o n ! = = 1 ) r e t u r n ! 1 ; f . D o m U t i l . d i s a b l e T e x t S e l e c t i o n ( ) ; f . D o m U t i l . d i s a b l e I m a g e D r a g ( ) ; t h i s . _ s t a r t L a y e r P o i n t = t h i s . _ m a p . m o u s e E v e n t T o L a y e r P o i n t ( a ) ; f . D o m E v e n t . o n ( b , " m o u s e m o v e " , t h i s . _ o n M o u s e M o v e , t h i s ) . o n ( b , " m o u s e u p " , t h i s . _ o n M o u s e U p , t h i s ) . o n ( b , " k e y d o w n " , t h i s . _ o n K e y D o w n , t h i s ) } , _ o n M o u s e M o v e : f u n c t i o n ( a ) { t h i s . _ m o v e d | | ( t h i s . _ b o x = f . D o m U t i l . c r e a t e ( " d i v " , " l e a f l e t - z o o m - b o x " , t h i s . _ p a n e ) , f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ b o x , t h i s . _ s t a r t L a y e r P o i n t ) , t h i s . _ c o n t a i n e r . s t y l e . c u r s o r = " c r o s s h a i r " , t h i s . _ m a p . f i r e ( " b o x z o o m s t a r t " ) ) ; v a r   b = t h i s . _ s t a r t L a y e r P o i n t , c = t h i s . _ b o x ; a = t h i s . _ m a p . m o u s e E v e n t T o L a y e r P o i n t ( a ) ; v a r   d = a . s u b t r a c t ( b ) ; a = n e w   f . P o i n t ( M a t h . m i n ( a . x , b . x ) , M a t h . m i n ( a . y , b . y ) ) ; f . D o m U t i l . s e t P o s i t i o n ( c , a ) ; t h i s . _ m o v e d = ! 0 ; c . s t y l e . w i d t h = M a t h . m a x ( 0 , M a t h . a b s ( d . x ) - 4 ) + " p x " ; c . s t y l e . h e i g h t = M a t h . m a x ( 0 , M a t h . a b s ( d . y ) - 4 ) + " p x " } , _ f i n i s h : f u n c t i o n ( ) { t h i s . _ m o v e d & & ( t h i s . _ p a n e . r e m o v e C h i l d ( t h i s . _ b o x ) , t h i s . _ c o n t a i n e r . s t y l e . c u r s o r = " " ) , f . D o m U t i l . e n a b l e T e x t S e l e c t i o n ( ) , f . D o m U t i l . e n a b l e I m a g e D r a g ( ) , f . D o m E v e n t . o f f ( b , " m o u s e m o v e " , t h i s . _ o n M o u s e M o v e ) . o f f ( b , " m o u s e u p " , t h i s . _ o n M o u s e U p ) . o f f ( b , " k e y d o w n " , t h i s . _ o n K e y D o w n ) } , _ o n M o u s e U p : f u n c t i o n ( a ) { t h i s . _ f i n i s h ( ) ; v a r   b = t h i s . _ m a p ; a = b . m o u s e E v e n t T o L a y e r P o i n t ( a ) ; i f ( t h i s . _ s t a r t L a y e r P o i n t . e q u a l s ( a ) ) r e t u r n ; a = n e w   f . L a t L n g B o u n d s ( b . l a y e r P o i n t T o L a t L n g ( t h i s . _ s t a r t L a y e r P o i n t ) , b . l a y e r P o i n t T o L a t L n g ( a ) ) ; b . f i t B o u n d s ( a ) ; b . f i r e ( " b o x z o o m e n d " , { b o x Z o o m B o u n d s : a } ) } , _ o n K e y D o w n : f u n c t i o n ( a ) { a . k e y C o d e = = = 2 7 & & t h i s . _ f i n i s h ( ) } } ) ; f . M a p . a d d I n i t H o o k ( " a d d H a n d l e r " , " b o x Z o o m " , f . M a p . B o x Z o o m ) ; f . M a p . m e r g e O p t i o n s ( { k e y b o a r d : ! 0 , k e y b o a r d P a n O f f s e t : 8 0 , k e y b o a r d Z o o m O f f s e t : 1 } ) ; f . M a p . K e y b o a r d = f . H a n d l e r . e x t e n d ( { k e y C o d e s : { l e f t : [ 3 7 ] , r i g h t : [ 3 9 ] , d o w n : [ 4 0 ] , u p : [ 3 8 ] , z o o m I n : [ 1 8 7 , 1 0 7 , 6 1 , 1 7 1 ] , z o o m O u t : [ 1 8 9 , 1 0 9 , 1 7 3 ] } , i n i t i a l i z e : f u n c t i o n ( a ) { t h i s . _ m a p = a , t h i s . _ s e t P a n O f f s e t ( a . o p t i o n s . k e y b o a r d P a n O f f s e t ) , t h i s . _ s e t Z o o m O f f s e t ( a . o p t i o n s . k e y b o a r d Z o o m O f f s e t ) } , a d d H o o k s : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p . _ c o n t a i n e r ; a . t a b I n d e x = = = - 1 & & ( a . t a b I n d e x = " 0 " ) ; f . D o m E v e n t . o n ( a , " f o c u s " , t h i s . _ o n F o c u s , t h i s ) . o n ( a , " b l u r " , t h i s . _ o n B l u r , t h i s ) . o n ( a , " m o u s e d o w n " , t h i s . _ o n M o u s e D o w n , t h i s ) ; t h i s . _ m a p . o n ( " f o c u s " , t h i s . _ a d d H o o k s , t h i s ) . o n ( " b l u r " , t h i s . _ r e m o v e H o o k s , t h i s ) } , r e m o v e H o o k s : f u n c t i o n ( ) { t h i s . _ r e m o v e H o o k s ( ) ; v a r   a = t h i s . _ m a p . _ c o n t a i n e r ; f . D o m E v e n t . o f f ( a , " f o c u s " , t h i s . _ o n F o c u s , t h i s ) . o f f ( a , " b l u r " , t h i s . _ o n B l u r , t h i s ) . o f f ( a , " m o u s e d o w n " , t h i s . _ o n M o u s e D o w n , t h i s ) ; t h i s . _ m a p . o f f ( " f o c u s " , t h i s . _ a d d H o o k s , t h i s ) . o f f ( " b l u r " , t h i s . _ r e m o v e H o o k s , t h i s ) } , _ o n M o u s e D o w n : f u n c t i o n ( ) { i f ( t h i s . _ f o c u s e d ) r e t u r n ; v a r   c = b . b o d y , d = b . d o c u m e n t E l e m e n t , e = c . s c r o l l T o p | | d . s c r o l l T o p ; c = c . s c r o l l L e f t | | d . s c r o l l L e f t ; t h i s . _ m a p . _ c o n t a i n e r . f o c u s ( ) ; a . s c r o l l T o ( c , e ) } , _ o n F o c u s : f u n c t i o n ( ) { t h i s . _ f o c u s e d = ! 0 , t h i s . _ m a p . f i r e ( " f o c u s " ) } , _ o n B l u r : f u n c t i o n ( ) { t h i s . _ f o c u s e d = ! 1 , t h i s . _ m a p . f i r e ( " b l u r " ) } , _ s e t P a n O f f s e t : f u n c t i o n ( a ) { v a r   b = t h i s . _ p a n K e y s = { } , c = t h i s . k e y C o d e s , d , e ; f o r ( d = 0 , e = c . l e f t . l e n g t h ; d < e ; d + + ) b [ c . l e f t [ d ] ] = [ - 1 * a , 0 ] ; f o r ( d = 0 , e = c . r i g h t . l e n g t h ; d < e ; d + + ) b [ c . r i g h t [ d ] ] = [ a , 0 ] ; f o r ( d = 0 , e = c . d o w n . l e n g t h ; d < e ; d + + ) b [ c . d o w n [ d ] ] = [ 0 , a ] ; f o r ( d = 0 , e = c . u p . l e n g t h ; d < e ; d + + ) b [ c . u p [ d ] ] = [ 0 , - 1 * a ] } , _ s e t Z o o m O f f s e t : f u n c t i o n ( a ) { v a r   b = t h i s . _ z o o m K e y s = { } , c = t h i s . k e y C o d e s , d , e ; f o r ( d = 0 , e = c . z o o m I n . l e n g t h ; d < e ; d + + ) b [ c . z o o m I n [ d ] ] = a ; f o r ( d = 0 , e = c . z o o m O u t . l e n g t h ; d < e ; d + + ) b [ c . z o o m O u t [ d ] ] = - a } , _ a d d H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o n ( b , " k e y d o w n " , t h i s . _ o n K e y D o w n , t h i s ) } , _ r e m o v e H o o k s : f u n c t i o n ( ) { f . D o m E v e n t . o f f ( b , " k e y d o w n " , t h i s . _ o n K e y D o w n , t h i s ) } , _ o n K e y D o w n : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   b = a . k e y C o d e , c = t h i s . _ m a p ; i f ( b   i n   t h i s . _ p a n K e y s ) { i f ( c . _ p a n A n i m & & c . _ p a n A n i m . _ i n P r o g r e s s ) r e t u r n ; c . p a n B y ( t h i s . _ p a n K e y s [ b ] ) ; c . o p t i o n s . m a x B o u n d s & & c . p a n I n s i d e B o u n d s ( c . o p t i o n s . m a x B o u n d s ) } e l s e   i f ( b   i n   t h i s . _ z o o m K e y s ) c . s e t Z o o m ( c . g e t Z o o m ( ) + t h i s . _ z o o m K e y s [ b ] ) ; e l s e   r e t u r n ; f . D o m E v e n t . s t o p ( a ) } } ) ; f . M a p . a d d I n i t H o o k ( " a d d H a n d l e r " , " k e y b o a r d " , f . M a p . K e y b o a r d ) ; f . H a n d l e r . M a r k e r D r a g = f . H a n d l e r . e x t e n d ( { i n i t i a l i z e : f u n c t i o n ( a ) { t h i s . _ m a r k e r = a } , a d d H o o k s : f u n c t i o n ( ) { v a r   a = t h i s . _ m a r k e r . _ i c o n ; t h i s . _ d r a g g a b l e | | ( t h i s . _ d r a g g a b l e = n e w   f . D r a g g a b l e ( a , a ) ) ; t h i s . _ d r a g g a b l e . o n ( " d r a g s t a r t " , t h i s . _ o n D r a g S t a r t , t h i s ) . o n ( " d r a g " , t h i s . _ o n D r a g , t h i s ) . o n ( " d r a g e n d " , t h i s . _ o n D r a g E n d , t h i s ) ; t h i s . _ d r a g g a b l e . e n a b l e ( ) ; f . D o m U t i l . a d d C l a s s ( t h i s . _ m a r k e r . _ i c o n , " l e a f l e t - m a r k e r - d r a g g a b l e " ) } , r e m o v e H o o k s : f u n c t i o n ( ) { t h i s . _ d r a g g a b l e . o f f ( " d r a g s t a r t " , t h i s . _ o n D r a g S t a r t , t h i s ) . o f f ( " d r a g " , t h i s . _ o n D r a g , t h i s ) . o f f ( " d r a g e n d " , t h i s . _ o n D r a g E n d , t h i s ) , t h i s . _ d r a g g a b l e . d i s a b l e ( ) , f . D o m U t i l . r e m o v e C l a s s ( t h i s . _ m a r k e r . _ i c o n , " l e a f l e t - m a r k e r - d r a g g a b l e " ) } , m o v e d : f u n c t i o n ( ) { r e t u r n   t h i s . _ d r a g g a b l e & & t h i s . _ d r a g g a b l e . _ m o v e d } , _ o n D r a g S t a r t : f u n c t i o n ( ) { t h i s . _ m a r k e r . c l o s e P o p u p ( ) . f i r e ( " m o v e s t a r t " ) . f i r e ( " d r a g s t a r t " ) } , _ o n D r a g : f u n c t i o n ( ) { v a r   a = t h i s . _ m a r k e r , b = a . _ s h a d o w , c = f . D o m U t i l . g e t P o s i t i o n ( a . _ i c o n ) , d = a . _ m a p . l a y e r P o i n t T o L a t L n g ( c ) ; b & & f . D o m U t i l . s e t P o s i t i o n ( b , c ) ; a . _ l a t l n g = d ; a . f i r e ( " m o v e " , { l a t l n g : d } ) . f i r e ( " d r a g " ) } , _ o n D r a g E n d : f u n c t i o n ( a ) { t h i s . _ m a r k e r . f i r e ( " m o v e e n d " ) . f i r e ( " d r a g e n d " , a ) } } ) ; f . C o n t r o l = f . C l a s s . e x t e n d ( { o p t i o n s : { p o s i t i o n : " t o p r i g h t " } , i n i t i a l i z e : f u n c t i o n ( a ) { f . s e t O p t i o n s ( t h i s , a ) } , g e t P o s i t i o n : f u n c t i o n ( ) { r e t u r n   t h i s . o p t i o n s . p o s i t i o n } , s e t P o s i t i o n : f u n c t i o n ( a ) { v a r   b = t h i s . _ m a p ; b & & b . r e m o v e C o n t r o l ( t h i s ) ; t h i s . o p t i o n s . p o s i t i o n = a ; b & & b . a d d C o n t r o l ( t h i s ) ; r e t u r n   t h i s } , g e t C o n t a i n e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ c o n t a i n e r } , a d d T o : f u n c t i o n ( a ) { t h i s . _ m a p = a ; v a r   b = t h i s . _ c o n t a i n e r = t h i s . o n A d d ( a ) , c = t h i s . g e t P o s i t i o n ( ) ; a = a . _ c o n t r o l C o r n e r s [ c ] ; f . D o m U t i l . a d d C l a s s ( b , " l e a f l e t - c o n t r o l " ) ; c . i n d e x O f ( " b o t t o m " ) ! = = - 1 ? a . i n s e r t B e f o r e ( b , a . f i r s t C h i l d ) : a . a p p e n d C h i l d ( b ) ; r e t u r n   t h i s } , r e m o v e F r o m : f u n c t i o n ( a ) { v a r   b = t h i s . g e t P o s i t i o n ( ) ; b = a . _ c o n t r o l C o r n e r s [ b ] ; b . r e m o v e C h i l d ( t h i s . _ c o n t a i n e r ) ; t h i s . _ m a p = n u l l ; t h i s . o n R e m o v e & & t h i s . o n R e m o v e ( a ) ; r e t u r n   t h i s } , _ r e f o c u s O n M a p : f u n c t i o n ( ) { t h i s . _ m a p & & t h i s . _ m a p . g e t C o n t a i n e r ( ) . f o c u s ( ) } } ) ; f . c o n t r o l = f u n c t i o n ( a ) { r e t u r n   n e w   f . C o n t r o l ( a ) } ; f . M a p . i n c l u d e ( { a d d C o n t r o l : f u n c t i o n ( a ) { a . a d d T o ( t h i s ) ; r e t u r n   t h i s } , r e m o v e C o n t r o l : f u n c t i o n ( a ) { a . r e m o v e F r o m ( t h i s ) ; r e t u r n   t h i s } , _ i n i t C o n t r o l P o s : f u n c t i o n ( ) { v a r   a = t h i s . _ c o n t r o l C o r n e r s = { } , b = " l e a f l e t - " , c = t h i s . _ c o n t r o l C o n t a i n e r = f . D o m U t i l . c r e a t e ( " d i v " , b + " c o n t r o l - c o n t a i n e r " , t h i s . _ c o n t a i n e r ) ; f u n c t i o n   d ( d , e ) { v a r   g = b + d + "   " + b + e ; a [ d + e ] = f . D o m U t i l . c r e a t e ( " d i v " , g , c ) } d ( " t o p " , " l e f t " ) ; d ( " t o p " , " r i g h t " ) ; d ( " b o t t o m " , " l e f t " ) ; d ( " b o t t o m " , " r i g h t " ) } , _ c l e a r C o n t r o l P o s : f u n c t i o n ( ) { t h i s . _ c o n t a i n e r . r e m o v e C h i l d ( t h i s . _ c o n t r o l C o n t a i n e r ) } } ) ; f . C o n t r o l . Z o o m = f . C o n t r o l . e x t e n d ( { o p t i o n s : { p o s i t i o n : " t o p l e f t " , z o o m I n T e x t : " + " , z o o m I n T i t l e : " Z o o m   i n " , z o o m O u t T e x t : " - " , z o o m O u t T i t l e : " Z o o m   o u t " , r e c e n t e r T e x t : " \ u 2 3 8 8 " , r e c e n t e r T i t l e : " R e - c e n t e r " } , o n A d d : f u n c t i o n ( a ) { v a r   b = " l e a f l e t - c o n t r o l - z o o m " , c = f . D o m U t i l . c r e a t e ( " d i v " , b + "   l e a f l e t - b a r " ) ; t h i s . _ m a p = a ; t h i s . _ z o o m I n B u t t o n = t h i s . _ c r e a t e B u t t o n ( t h i s . o p t i o n s . z o o m I n T e x t , t h i s . o p t i o n s . z o o m I n T i t l e , b + " - i n " , c , t h i s . _ z o o m I n , t h i s ) ; t h i s . _ z o o m O u t B u t t o n = t h i s . _ c r e a t e B u t t o n ( t h i s . o p t i o n s . z o o m O u t T e x t , t h i s . o p t i o n s . z o o m O u t T i t l e , b + " - o u t " , c , t h i s . _ z o o m O u t , t h i s ) ; a . o p t i o n s . s h o w R e c e n t e r C o n t r o l & & ( t h i s . _ i n i t B o u n d s = a . g e t B o u n d s ( ) , t h i s . _ r e c e n t e r B u t t o n = t h i s . _ c r e a t e B u t t o n ( t h i s . o p t i o n s . r e c e n t e r T e x t , t h i s . o p t i o n s . r e c e n t e r T i t l e , b + " - r e c e n t e r " , c , t h i s . _ r e c e n t e r , t h i s ) ) ; t h i s . _ u p d a t e D i s a b l e d ( ) ; a . o n ( " z o o m e n d   z o o m l e v e l s c h a n g e " , t h i s . _ u p d a t e D i s a b l e d , t h i s ) ; r e t u r n   c } , o n R e m o v e : f u n c t i o n ( a ) { a . o f f ( " z o o m e n d   z o o m l e v e l s c h a n g e " , t h i s . _ u p d a t e D i s a b l e d , t h i s ) } , _ z o o m I n : f u n c t i o n ( a ) { t h i s . _ m a p . z o o m I n ( a . s h i f t K e y ? 3 : 1 ) } , _ z o o m O u t : f u n c t i o n ( a ) { t h i s . _ m a p . z o o m O u t ( a . s h i f t K e y ? 3 : 1 ) } , _ r e c e n t e r : f u n c t i o n ( a ) { t h i s . _ m a p . f i t B o u n d s ( t h i s . _ i n i t B o u n d s ) } , _ c r e a t e B u t t o n : f u n c t i o n ( a , b , c , d , e , g ) { c = f . D o m U t i l . c r e a t e ( " a " , c , d ) ; c . i n n e r H T M L = a ; c . h r e f = " # " ; c . t i t l e = b ; d = f . D o m E v e n t . s t o p P r o p a g a t i o n ; f . D o m E v e n t . o n ( c , " c l i c k " , d ) . o n ( c , " m o u s e d o w n " , d ) . o n ( c , " d b l c l i c k " , d ) . o n ( c , " c l i c k " , f . D o m E v e n t . p r e v e n t D e f a u l t ) . o n ( c , " c l i c k " , e , g ) . o n ( c , " c l i c k " , t h i s . _ r e f o c u s O n M a p , g ) ; r e t u r n   c } , _ u p d a t e D i s a b l e d : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p , b = " l e a f l e t - d i s a b l e d " ; f . D o m U t i l . r e m o v e C l a s s ( t h i s . _ z o o m I n B u t t o n , b ) ; f . D o m U t i l . r e m o v e C l a s s ( t h i s . _ z o o m O u t B u t t o n , b ) ; t h i s . _ r e c e n t e r B u t t o n & & f . D o m U t i l . r e m o v e C l a s s ( t h i s . _ r e c e n t e r B u t t o n , b ) ; a . _ z o o m = = = a . g e t M i n Z o o m ( ) & & f . D o m U t i l . a d d C l a s s ( t h i s . _ z o o m O u t B u t t o n , b ) ; a . _ z o o m = = = a . g e t M a x Z o o m ( ) & & f . D o m U t i l . a d d C l a s s ( t h i s . _ z o o m I n B u t t o n , b ) } } ) ; f . M a p . m e r g e O p t i o n s ( { z o o m C o n t r o l : ! 0 } ) ; f . M a p . a d d I n i t H o o k ( f u n c t i o n ( ) { t h i s . o p t i o n s . z o o m C o n t r o l & & ( t h i s . z o o m C o n t r o l = n e w   f . C o n t r o l . Z o o m ( ) , t h i s . a d d C o n t r o l ( t h i s . z o o m C o n t r o l ) ) } ) ; f . c o n t r o l . z o o m = f u n c t i o n ( a ) { r e t u r n   n e w   f . C o n t r o l . Z o o m ( a ) } ; f . C o n t r o l . A t t r i b u t i o n = f . C o n t r o l . e x t e n d ( { o p t i o n s : { p o s i t i o n : " b o t t o m r i g h t " , p r e f i x : ' < a   h r e f = " h t t p : / / l e a f l e t j s . c o m "   t i t l e = " A   J S   l i b r a r y   f o r   i n t e r a c t i v e   m a p s " > L e a f l e t < / a > ' } , i n i t i a l i z e : f u n c t i o n ( a ) { f . s e t O p t i o n s ( t h i s , a ) , t h i s . _ a t t r i b u t i o n s = { } } , o n A d d : f u n c t i o n ( a ) { t h i s . _ c o n t a i n e r = f . D o m U t i l . c r e a t e ( " d i v " , " l e a f l e t - c o n t r o l - a t t r i b u t i o n " ) ; f . D o m E v e n t . d i s a b l e C l i c k P r o p a g a t i o n ( t h i s . _ c o n t a i n e r ) ; f o r ( v a r   b   i n   a . _ l a y e r s ) a . _ l a y e r s [ b ] . g e t A t t r i b u t i o n & & t h i s . a d d A t t r i b u t i o n ( a . _ l a y e r s [ b ] . g e t A t t r i b u t i o n ( ) ) ; a . o n ( " l a y e r a d d " , t h i s . _ o n L a y e r A d d , t h i s ) . o n ( " l a y e r r e m o v e " , t h i s . _ o n L a y e r R e m o v e , t h i s ) ; t h i s . _ u p d a t e ( ) ; r e t u r n   t h i s . _ c o n t a i n e r } , o n R e m o v e : f u n c t i o n ( a ) { a . o f f ( " l a y e r a d d " , t h i s . _ o n L a y e r A d d ) . o f f ( " l a y e r r e m o v e " , t h i s . _ o n L a y e r R e m o v e ) } , s e t P r e f i x : f u n c t i o n ( a ) { t h i s . o p t i o n s . p r e f i x = a ; t h i s . _ u p d a t e ( ) ; r e t u r n   t h i s } , a d d A t t r i b u t i o n : f u n c t i o n ( a ) { i f ( ! a ) r e t u r n ; t h i s . _ a t t r i b u t i o n s [ a ] | | ( t h i s . _ a t t r i b u t i o n s [ a ] = 0 ) ; t h i s . _ a t t r i b u t i o n s [ a ] + + ; t h i s . _ u p d a t e ( ) ; r e t u r n   t h i s } , r e m o v e A t t r i b u t i o n : f u n c t i o n ( a ) { i f ( ! a ) r e t u r n ; t h i s . _ a t t r i b u t i o n s [ a ] & & ( t h i s . _ a t t r i b u t i o n s [ a ] - - , t h i s . _ u p d a t e ( ) ) ; r e t u r n   t h i s } , _ u p d a t e : f u n c t i o n ( ) { i f ( ! t h i s . _ m a p ) r e t u r n ; v a r   a = [ ] ; f o r ( v a r   b   i n   t h i s . _ a t t r i b u t i o n s ) t h i s . _ a t t r i b u t i o n s [ b ] & & a . p u s h ( b ) ; v a r   c = [ ] ; t h i s . o p t i o n s . p r e f i x & & c . p u s h ( t h i s . o p t i o n s . p r e f i x ) ; a . l e n g t h & & c . p u s h ( a . j o i n ( " ,   " ) ) ; t h i s . _ c o n t a i n e r . i n n e r H T M L = c . j o i n ( "   |   " ) } , _ o n L a y e r A d d : f u n c t i o n ( a ) { a . l a y e r . g e t A t t r i b u t i o n & & t h i s . a d d A t t r i b u t i o n ( a . l a y e r . g e t A t t r i b u t i o n ( ) ) } , _ o n L a y e r R e m o v e : f u n c t i o n ( a ) { a . l a y e r . g e t A t t r i b u t i o n & & t h i s . r e m o v e A t t r i b u t i o n ( a . l a y e r . g e t A t t r i b u t i o n ( ) ) } } ) ; f . M a p . m e r g e O p t i o n s ( { a t t r i b u t i o n C o n t r o l : ! 0 } ) ; f . M a p . a d d I n i t H o o k ( f u n c t i o n ( ) { t h i s . o p t i o n s . a t t r i b u t i o n C o n t r o l & & ( t h i s . a t t r i b u t i o n C o n t r o l = n e w   f . C o n t r o l . A t t r i b u t i o n ( ) . a d d T o ( t h i s ) ) } ) ; f . c o n t r o l . a t t r i b u t i o n = f u n c t i o n ( a ) { r e t u r n   n e w   f . C o n t r o l . A t t r i b u t i o n ( a ) } ; f . C o n t r o l . S c a l e = f . C o n t r o l . e x t e n d ( { o p t i o n s : { p o s i t i o n : " b o t t o m l e f t " , m a x W i d t h : 1 0 0 , m e t r i c : ! 0 , i m p e r i a l : ! 0 , u p d a t e W h e n I d l e : ! 1 } , o n A d d : f u n c t i o n ( a ) { t h i s . _ m a p = a ; v a r   b = " l e a f l e t - c o n t r o l - s c a l e " , c = t h i s . o p t i o n s . s h i f t R i g h t ? b + "   l e a f l e t - c o n t r o l - s c a l e - s h i f t R i g h t " : b ; c = f . D o m U t i l . c r e a t e ( " d i v " , c ) ; v a r   d = t h i s . o p t i o n s ; t h i s . _ a d d S c a l e s ( d , b , c ) ; a . o n ( d . u p d a t e W h e n I d l e ? " m o v e e n d " : " m o v e " , t h i s . _ u p d a t e , t h i s ) ; a . w h e n R e a d y ( t h i s . _ u p d a t e , t h i s ) ; r e t u r n   c } , o n R e m o v e : f u n c t i o n ( a ) { a . o f f ( t h i s . o p t i o n s . u p d a t e W h e n I d l e ? " m o v e e n d " : " m o v e " , t h i s . _ u p d a t e , t h i s ) } , _ a d d S c a l e s : f u n c t i o n ( a , b , c ) { a . m e t r i c & & ( t h i s . _ m S c a l e = f . D o m U t i l . c r e a t e ( " d i v " , b + " - l i n e " , c ) ) , a . i m p e r i a l & & ( t h i s . _ i S c a l e = f . D o m U t i l . c r e a t e ( " d i v " , b + " - l i n e " , c ) ) } , _ u p d a t e : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p . g e t B o u n d s ( ) , b = a . g e t C e n t e r ( ) . l a t ; b = 6 3 7 8 1 3 7 * M a t h . P I * M a t h . c o s ( b * M a t h . P I / 1 8 0 ) ; b = b * ( a . g e t N o r t h E a s t ( ) . l n g - a . g e t S o u t h W e s t ( ) . l n g ) / 1 8 0 ; a = t h i s . _ m a p . g e t S i z e ( ) ; v a r   c = t h i s . o p t i o n s , d = 0 ; a . x > 0 & & ( d = b * ( c . m a x W i d t h / a . x ) ) ; t h i s . _ u p d a t e S c a l e s ( c , d ) } , _ u p d a t e S c a l e s : f u n c t i o n ( a , b ) { a . m e t r i c & & b & & t h i s . _ u p d a t e M e t r i c ( b ) , a . i m p e r i a l & & b & & t h i s . _ u p d a t e I m p e r i a l ( b ) } , _ u p d a t e M e t r i c : f u n c t i o n ( a ) { v a r   b = t h i s . _ g e t R o u n d N u m ( a ) ; t h i s . _ m S c a l e . s t y l e . w i d t h = t h i s . _ g e t S c a l e W i d t h ( b / a ) + " p x " ; t h i s . _ m S c a l e . i n n e r H T M L = b < 1 e 3 ? b + "   m " : b / 1 e 3 + "   k m " } , _ u p d a t e I m p e r i a l : f u n c t i o n ( a ) { a = a * 3 . 2 8 0 8 3 9 9 ; v a r   b = t h i s . _ i S c a l e , c , d ; a > 5 2 8 0 ? ( c = a / 5 2 8 0 , d = t h i s . _ g e t R o u n d N u m ( c ) , b . s t y l e . w i d t h = t h i s . _ g e t S c a l e W i d t h ( d / c ) + " p x " , b . i n n e r H T M L = d + "   m i " ) : ( c = t h i s . _ g e t R o u n d N u m ( a ) , b . s t y l e . w i d t h = t h i s . _ g e t S c a l e W i d t h ( c / a ) + " p x " , b . i n n e r H T M L = c + "   f t " ) } , _ g e t S c a l e W i d t h : f u n c t i o n ( a ) { r e t u r n   M a t h . r o u n d ( t h i s . o p t i o n s . m a x W i d t h * a ) - 1 0 } , _ g e t R o u n d N u m : f u n c t i o n ( a ) { v a r   b = M a t h . p o w ( 1 0 , ( M a t h . f l o o r ( a ) + " " ) . l e n g t h - 1 ) ; a = a / b ; a = a > = 1 0 ? 1 0 : a > = 5 ? 5 : a > = 3 ? 3 : a > = 2 ? 2 : 1 ; r e t u r n   b * a } } ) ; f . c o n t r o l . s c a l e = f u n c t i o n ( a ) { r e t u r n   n e w   f . C o n t r o l . S c a l e ( a ) } ; f . C o n t r o l . L a y e r s = f . C o n t r o l . e x t e n d ( { o p t i o n s : { c o l l a p s e d : ! 0 , p o s i t i o n : " t o p r i g h t " , a u t o Z I n d e x : ! 0 } , i n i t i a l i z e : f u n c t i o n ( a , b , c ) { f . s e t O p t i o n s ( t h i s , c ) ; t h i s . _ l a y e r s = { } ; t h i s . _ l a s t Z I n d e x = 0 ; t h i s . _ h a n d l i n g C l i c k = ! 1 ; f o r ( v a r   d   i n   a ) t h i s . _ a d d L a y e r ( a [ d ] , d ) ; f o r ( d   i n   b ) t h i s . _ a d d L a y e r ( b [ d ] , d , ! 0 ) } , o n A d d : f u n c t i o n ( a ) { t h i s . _ i n i t L a y o u t ( ) ; t h i s . _ u p d a t e ( ) ; a . o n ( " l a y e r a d d " , t h i s . _ o n L a y e r C h a n g e , t h i s ) . o n ( " l a y e r r e m o v e " , t h i s . _ o n L a y e r C h a n g e , t h i s ) ; r e t u r n   t h i s . _ c o n t a i n e r } , o n R e m o v e : f u n c t i o n ( a ) { a . o f f ( " l a y e r a d d " , t h i s . _ o n L a y e r C h a n g e ) . o f f ( " l a y e r r e m o v e " , t h i s . _ o n L a y e r C h a n g e ) } , a d d B a s e L a y e r : f u n c t i o n ( a , b ) { t h i s . _ a d d L a y e r ( a , b ) ; t h i s . _ u p d a t e ( ) ; r e t u r n   t h i s } , a d d O v e r l a y : f u n c t i o n ( a , b ) { t h i s . _ a d d L a y e r ( a , b , ! 0 ) ; t h i s . _ u p d a t e ( ) ; r e t u r n   t h i s } , r e m o v e L a y e r : f u n c t i o n ( a ) { a = f . s t a m p ( a ) ; d e l e t e   t h i s . _ l a y e r s [ a ] ; t h i s . _ u p d a t e ( ) ; r e t u r n   t h i s } , _ i n i t L a y o u t : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   a = " l e a f l e t - c o n t r o l - l a y e r s " , b = t h i s . _ c o n t a i n e r = f . D o m U t i l . c r e a t e ( " d i v " , a ) ; b . s e t A t t r i b u t e ( " a r i a - h a s p o p u p " , ! 0 ) ; ! f . B r o w s e r . t o u c h ? f . D o m E v e n t . d i s a b l e C l i c k P r o p a g a t i o n ( b ) . d i s a b l e S c r o l l P r o p a g a t i o n ( b ) : f . D o m E v e n t . o n ( b , " c l i c k " , f . D o m E v e n t . s t o p P r o p a g a t i o n ) ; v a r   c = t h i s . _ f o r m = f . D o m U t i l . c r e a t e ( " f o r m " , a + " - l i s t " ) ; i f ( t h i s . o p t i o n s . c o l l a p s e d ) { f . B r o w s e r . a n d r o i d | | f . D o m E v e n t . o n ( b , " m o u s e o v e r " , t h i s . _ e x p a n d , t h i s ) . o n ( b , " m o u s e o u t " , t h i s . _ c o l l a p s e , t h i s ) ; v a r   d = t h i s . _ l a y e r s L i n k = f . D o m U t i l . c r e a t e ( " a " , a + " - t o g g l e " , b ) ; d . h r e f = " # " ; d . t i t l e = " L a y e r s " ; f . B r o w s e r . t o u c h ? f . D o m E v e n t . o n ( d , " c l i c k " , f . D o m E v e n t . s t o p ) . o n ( d , " c l i c k " , t h i s . _ e x p a n d , t h i s ) : f . D o m E v e n t . o n ( d , " f o c u s " , t h i s . _ e x p a n d , t h i s ) ; f . D o m E v e n t . o n ( c , " c l i c k " , f u n c t i o n ( ) { s e t T i m e o u t ( f . b i n d ( t h i s . _ o n I n p u t C l i c k , t h i s ) , 0 ) } , t h i s ) ; t h i s . _ m a p . o n ( " c l i c k " , t h i s . _ c o l l a p s e , t h i s ) } e l s e   t h i s . _ e x p a n d ( ) ; t h i s . _ b a s e L a y e r s L i s t = f . D o m U t i l . c r e a t e ( " d i v " , a + " - b a s e " , c ) ; t h i s . _ s e p a r a t o r = f . D o m U t i l . c r e a t e ( " d i v " , a + " - s e p a r a t o r " , c ) ; t h i s . _ o v e r l a y s L i s t = f . D o m U t i l . c r e a t e ( " d i v " , a + " - o v e r l a y s " , c ) ; b . a p p e n d C h i l d ( c ) } , _ a d d L a y e r : f u n c t i o n ( a , b , c ) { v a r   d = f . s t a m p ( a ) ; t h i s . _ l a y e r s [ d ] = { l a y e r : a , n a m e : b , o v e r l a y : c } ; t h i s . o p t i o n s . a u t o Z I n d e x & & a . s e t Z I n d e x & & ( t h i s . _ l a s t Z I n d e x + + , a . s e t Z I n d e x ( t h i s . _ l a s t Z I n d e x ) ) } , _ u p d a t e : f u n c t i o n ( ) { i f ( ! t h i s . _ c o n t a i n e r ) r e t u r n ; t h i s . _ b a s e L a y e r s L i s t . i n n e r H T M L = " " ; t h i s . _ o v e r l a y s L i s t . i n n e r H T M L = " " ; v a r   a = ! 1 , b = ! 1 , c , d ; f o r ( c   i n   t h i s . _ l a y e r s ) d = t h i s . _ l a y e r s [ c ] , t h i s . _ a d d I t e m ( d ) , b = b | | d . o v e r l a y , a = a | | ! d . o v e r l a y ; t h i s . _ s e p a r a t o r . s t y l e . d i s p l a y = b & & a ? " " : " n o n e " } , _ o n L a y e r C h a n g e : f u n c t i o n ( a ) { v a r   b = t h i s . _ l a y e r s [ f . s t a m p ( a . l a y e r ) ] ; i f ( ! b ) r e t u r n ; t h i s . _ h a n d l i n g C l i c k | | t h i s . _ u p d a t e ( ) ; a = b . o v e r l a y ? a . t y p e = = = " l a y e r a d d " ? " o v e r l a y a d d " : " o v e r l a y r e m o v e " : a . t y p e = = = " l a y e r a d d " ? " b a s e l a y e r c h a n g e " : n u l l ; a & & t h i s . _ m a p . f i r e ( a , b ) } , _ c r e a t e R a d i o E l e m e n t : f u n c t i o n ( a , c ) { a = ' < i n p u t   t y p e = " r a d i o "   c l a s s = " l e a f l e t - c o n t r o l - l a y e r s - s e l e c t o r "   n a m e = " ' + a + ' " ' ; c & & ( a + = '   c h e c k e d = " c h e c k e d " ' ) ; a + = " / > " ; c = b . c r e a t e E l e m e n t ( " d i v " ) ; c . i n n e r H T M L = a ; r e t u r n   c . f i r s t C h i l d } , _ a d d I t e m : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   c = b . c r e a t e E l e m e n t ( " l a b e l " ) , d , e = t h i s . _ m a p . h a s L a y e r ( a . l a y e r ) ; a . o v e r l a y ? ( d = b . c r e a t e E l e m e n t ( " i n p u t " ) , d . t y p e = " c h e c k b o x " , d . c l a s s N a m e = " l e a f l e t - c o n t r o l - l a y e r s - s e l e c t o r " , d . d e f a u l t C h e c k e d = e ) : d = t h i s . _ c r e a t e R a d i o E l e m e n t ( " l e a f l e t - b a s e - l a y e r s " , e ) ; d . l a y e r I d = f . s t a m p ( a . l a y e r ) ; f . D o m E v e n t . o n ( d , " c l i c k " , t h i s . _ o n I n p u t C l i c k , t h i s ) ; e = b . c r e a t e E l e m e n t ( " s p a n " ) ; e . i n n e r H T M L = "   " + a . n a m e ; c . a p p e n d C h i l d ( d ) ; c . a p p e n d C h i l d ( e ) ; d = a . o v e r l a y ? t h i s . _ o v e r l a y s L i s t : t h i s . _ b a s e L a y e r s L i s t ; d . a p p e n d C h i l d ( c ) ; r e t u r n   c } , _ o n I n p u t C l i c k : f u n c t i o n ( ) { v a r   a , b , c , d = t h i s . _ f o r m . g e t E l e m e n t s B y T a g N a m e ( " i n p u t " ) , e = d . l e n g t h ; t h i s . _ h a n d l i n g C l i c k = ! 0 ; f o r ( a = 0 ; a < e ; a + + ) b = d [ a ] , c = t h i s . _ l a y e r s [ b . l a y e r I d ] , b . c h e c k e d & & ! t h i s . _ m a p . h a s L a y e r ( c . l a y e r ) ? t h i s . _ m a p . a d d L a y e r ( c . l a y e r ) : ! b . c h e c k e d & & t h i s . _ m a p . h a s L a y e r ( c . l a y e r ) & & t h i s . _ m a p . r e m o v e L a y e r ( c . l a y e r ) ; t h i s . _ h a n d l i n g C l i c k = ! 1 ; t h i s . _ r e f o c u s O n M a p ( ) } , _ e x p a n d : f u n c t i o n ( ) { f . D o m U t i l . a d d C l a s s ( t h i s . _ c o n t a i n e r , " l e a f l e t - c o n t r o l - l a y e r s - e x p a n d e d " ) } , _ c o l l a p s e : f u n c t i o n ( ) { t h i s . _ c o n t a i n e r . c l a s s N a m e = t h i s . _ c o n t a i n e r . c l a s s N a m e . r e p l a c e ( "   l e a f l e t - c o n t r o l - l a y e r s - e x p a n d e d " , " " ) } } ) ; f . c o n t r o l . l a y e r s = f u n c t i o n ( a , b , c ) { r e t u r n   n e w   f . C o n t r o l . L a y e r s ( a , b , c ) } ; f . P o s A n i m a t i o n = f . C l a s s . e x t e n d ( { i n c l u d e s : f . M i x i n . E v e n t s , r u n : f u n c t i o n ( a , b , c , d ) { t h i s . s t o p ( ) , t h i s . _ e l = a , t h i s . _ i n P r o g r e s s = ! 0 , t h i s . _ n e w P o s = b , t h i s . f i r e ( " s t a r t " ) , a . s t y l e [ f . D o m U t i l . T R A N S I T I O N ] = " a l l   " + ( c | | . 2 5 ) + " s   c u b i c - b e z i e r ( 0 , 0 , " + ( d | | . 5 ) + " , 1 ) " , f . D o m E v e n t . o n ( a , f . D o m U t i l . T R A N S I T I O N _ E N D , t h i s . _ o n T r a n s i t i o n E n d , t h i s ) , f . D o m U t i l . s e t P o s i t i o n ( a , b ) , f . U t i l . f a l s e F n ( a . o f f s e t W i d t h ) , t h i s . _ s t e p T i m e r = s e t I n t e r v a l ( f . b i n d ( t h i s . _ o n S t e p , t h i s ) , 5 0 ) } , s t o p : f u n c t i o n ( ) { i f ( ! t h i s . _ i n P r o g r e s s ) r e t u r n ; f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ e l , t h i s . _ g e t P o s ( ) ) ; t h i s . _ o n T r a n s i t i o n E n d ( ) ; f . U t i l . f a l s e F n ( t h i s . _ e l . o f f s e t W i d t h ) } , _ o n S t e p : f u n c t i o n ( ) { v a r   a = t h i s . _ g e t P o s ( ) ; i f ( ! a ) { t h i s . _ o n T r a n s i t i o n E n d ( ) ; r e t u r n } t h i s . _ e l . _ l e a f l e t _ p o s = a ; t h i s . f i r e ( " s t e p " ) } , _ t r a n s f o r m R e : / ( [ - + ] ? ( ? : \ d * \ . ) ? \ d + ) \ D * ,   ( [ - + ] ? ( ? : \ d * \ . ) ? \ d + ) \ D * \ ) / , _ g e t P o s : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   b , c , d = t h i s . _ e l ; d = a . g e t C o m p u t e d S t y l e ( d ) ; i f ( f . B r o w s e r . a n y 3 d ) { c = d [ f . D o m U t i l . T R A N S F O R M ] . m a t c h ( t h i s . _ t r a n s f o r m R e ) ; i f ( ! c ) r e t u r n ; b = p a r s e F l o a t ( c [ 1 ] ) ; c = p a r s e F l o a t ( c [ 2 ] ) } e l s e   b = p a r s e F l o a t ( d . l e f t ) , c = p a r s e F l o a t ( d . t o p ) ; r e t u r n   n e w   f . P o i n t ( b , c , ! 0 ) } , _ o n T r a n s i t i o n E n d : f u n c t i o n ( ) { f . D o m E v e n t . o f f ( t h i s . _ e l , f . D o m U t i l . T R A N S I T I O N _ E N D , t h i s . _ o n T r a n s i t i o n E n d , t h i s ) ; i f ( ! t h i s . _ i n P r o g r e s s ) r e t u r n ; t h i s . _ i n P r o g r e s s = ! 1 ; t h i s . _ e l . s t y l e [ f . D o m U t i l . T R A N S I T I O N ] = " " ; t h i s . _ e l . _ l e a f l e t _ p o s = t h i s . _ n e w P o s ; c l e a r I n t e r v a l ( t h i s . _ s t e p T i m e r ) ; t h i s . f i r e ( " s t e p " ) . f i r e ( " e n d " ) } } ) ; f . M a p . i n c l u d e ( { s e t V i e w : f u n c t i o n ( a , b , c ) { _ _ p & & _ _ p ( ) ; b = b = = = v o i d   0 ? t h i s . _ z o o m : t h i s . _ l i m i t Z o o m ( b ) ; a = t h i s . _ l i m i t C e n t e r ( f . l a t L n g ( a ) , b , t h i s . o p t i o n s . m a x B o u n d s ) ; c = c | | { } ; t h i s . _ p a n A n i m & & t h i s . _ p a n A n i m . s t o p ( ) ; i f ( t h i s . _ l o a d e d & & ! c . r e s e t & & c ! = = ! 0 ) { c . a n i m a t e ! = = v o i d   0 & & ( c . z o o m = f . e x t e n d ( { a n i m a t e : c . a n i m a t e } , c . z o o m ) , c . p a n = f . e x t e n d ( { a n i m a t e : c . a n i m a t e } , c . p a n ) ) ; c = t h i s . _ z o o m ! = = b ? t h i s . _ t r y A n i m a t e d Z o o m & & t h i s . _ t r y A n i m a t e d Z o o m ( a , b , c . z o o m ) : t h i s . _ t r y A n i m a t e d P a n ( a , c . p a n ) ; i f ( c ) { c l e a r T i m e o u t ( t h i s . _ s i z e T i m e r ) ; r e t u r n   t h i s } } t h i s . _ r e s e t V i e w ( a , b ) ; r e t u r n   t h i s } , p a n B y : f u n c t i o n ( a , b ) { _ _ p & & _ _ p ( ) ; a = f . p o i n t ( a ) . r o u n d ( ) ; b = b | | { } ; i f ( ! a . x & & ! a . y ) r e t u r n   t h i s ; t h i s . _ p a n A n i m | | ( t h i s . _ p a n A n i m = n e w   f . P o s A n i m a t i o n ( ) , t h i s . _ p a n A n i m . o n ( { s t e p : t h i s . _ o n P a n T r a n s i t i o n S t e p , e n d : t h i s . _ o n P a n T r a n s i t i o n E n d } , t h i s ) ) ; b . n o M o v e S t a r t | | t h i s . f i r e ( " m o v e s t a r t " ) ; i f ( b . a n i m a t e ! = = ! 1 ) { f . D o m U t i l . a d d C l a s s ( t h i s . _ m a p P a n e , " l e a f l e t - p a n - a n i m " ) ; v a r   c = t h i s . _ g e t M a p P a n e P o s ( ) . s u b t r a c t ( a ) ; t h i s . _ p a n A n i m . r u n ( t h i s . _ m a p P a n e , c , b . d u r a t i o n | | . 2 5 , b . e a s e L i n e a r i t y ) } e l s e   t h i s . _ r a w P a n B y ( a ) , t h i s . f i r e ( " m o v e " ) . f i r e ( " m o v e e n d " ) ; r e t u r n   t h i s } , _ o n P a n T r a n s i t i o n S t e p : f u n c t i o n ( ) { t h i s . f i r e ( " m o v e " ) } , _ o n P a n T r a n s i t i o n E n d : f u n c t i o n ( ) { f . D o m U t i l . r e m o v e C l a s s ( t h i s . _ m a p P a n e , " l e a f l e t - p a n - a n i m " ) , t h i s . f i r e ( " m o v e e n d " ) } , _ t r y A n i m a t e d P a n : f u n c t i o n ( a , b ) { a = t h i s . _ g e t C e n t e r O f f s e t ( a ) . _ f l o o r ( ) ; i f ( ( b & & b . a n i m a t e ) ! = = ! 0 & & ! t h i s . g e t S i z e ( ) . c o n t a i n s ( a ) ) r e t u r n ! 1 ; t h i s . p a n B y ( a , b ) ; r e t u r n ! 0 } } ) ; f . P o s A n i m a t i o n = f . D o m U t i l . T R A N S I T I O N ? f . P o s A n i m a t i o n : f . P o s A n i m a t i o n . e x t e n d ( { r u n : f u n c t i o n ( a , b , c , d ) { t h i s . s t o p ( ) , t h i s . _ e l = a , t h i s . _ i n P r o g r e s s = ! 0 , t h i s . _ d u r a t i o n = c | | . 2 5 , t h i s . _ e a s e O u t P o w e r = 1 / M a t h . m a x ( d | | . 5 , . 2 ) , t h i s . _ s t a r t P o s = f . D o m U t i l . g e t P o s i t i o n ( a ) , t h i s . _ o f f s e t = b . s u b t r a c t ( t h i s . _ s t a r t P o s ) , t h i s . _ s t a r t T i m e = + n e w   D a t e ( ) , t h i s . f i r e ( " s t a r t " ) , t h i s . _ a n i m a t e ( ) } , s t o p : f u n c t i o n ( ) { i f ( ! t h i s . _ i n P r o g r e s s ) r e t u r n ; t h i s . _ s t e p ( ) ; t h i s . _ c o m p l e t e ( ) } , _ a n i m a t e : f u n c t i o n ( ) { t h i s . _ a n i m I d = f . U t i l . r e q u e s t A n i m F r a m e ( t h i s . _ a n i m a t e , t h i s ) , t h i s . _ s t e p ( ) } , _ s t e p : f u n c t i o n ( ) { v a r   a = + n e w   D a t e ( ) - t h i s . _ s t a r t T i m e , b = t h i s . _ d u r a t i o n * 1 e 3 ; a < b ? t h i s . _ r u n F r a m e ( t h i s . _ e a s e O u t ( a / b ) ) : ( t h i s . _ r u n F r a m e ( 1 ) , t h i s . _ c o m p l e t e ( ) ) } , _ r u n F r a m e : f u n c t i o n ( a ) { a = t h i s . _ s t a r t P o s . a d d ( t h i s . _ o f f s e t . m u l t i p l y B y ( a ) ) ; f . D o m U t i l . s e t P o s i t i o n ( t h i s . _ e l , a ) ; t h i s . f i r e ( " s t e p " ) } , _ c o m p l e t e : f u n c t i o n ( ) { f . U t i l . c a n c e l A n i m F r a m e ( t h i s . _ a n i m I d ) , t h i s . _ i n P r o g r e s s = ! 1 , t h i s . f i r e ( " e n d " ) } , _ e a s e O u t : f u n c t i o n ( a ) { r e t u r n   1 - M a t h . p o w ( 1 - a , t h i s . _ e a s e O u t P o w e r ) } } ) ; f . M a p . m e r g e O p t i o n s ( { z o o m A n i m a t i o n : ! 0 , z o o m A n i m a t i o n T h r e s h o l d : 4 } ) ; f . D o m U t i l . T R A N S I T I O N & & f . M a p . a d d I n i t H o o k ( f u n c t i o n ( ) { t h i s . _ z o o m A n i m a t e d = t h i s . o p t i o n s . z o o m A n i m a t i o n & & f . D o m U t i l . T R A N S I T I O N & & f . B r o w s e r . a n y 3 d & & ! f . B r o w s e r . a n d r o i d 2 3 & & ! f . B r o w s e r . m o b i l e O p e r a , t h i s . _ z o o m A n i m a t e d & & f . D o m E v e n t . o n ( t h i s . _ m a p P a n e , f . D o m U t i l . T R A N S I T I O N _ E N D , t h i s . _ c a t c h T r a n s i t i o n E n d , t h i s ) } ) ; f . M a p . i n c l u d e ( f . D o m U t i l . T R A N S I T I O N ? { _ c a t c h T r a n s i t i o n E n d : f u n c t i o n ( a ) { t h i s . _ a n i m a t i n g Z o o m & & a . p r o p e r t y N a m e . i n d e x O f ( " t r a n s f o r m " ) > = 0 & & t h i s . _ o n Z o o m T r a n s i t i o n E n d ( ) } , _ n o t h i n g T o A n i m a t e : f u n c t i o n ( ) { r e t u r n ! t h i s . _ c o n t a i n e r . g e t E l e m e n t s B y C l a s s N a m e ( " l e a f l e t - z o o m - a n i m a t e d " ) . l e n g t h } , _ t r y A n i m a t e d Z o o m : f u n c t i o n ( a , b , c ) { _ _ p & & _ _ p ( ) ; i f ( t h i s . _ a n i m a t i n g Z o o m ) r e t u r n ! 0 ; c = c | | { } ; i f ( ! t h i s . _ z o o m A n i m a t e d | | c . a n i m a t e = = = ! 1 | | t h i s . _ n o t h i n g T o A n i m a t e ( ) | | M a t h . a b s ( b - t h i s . _ z o o m ) > t h i s . o p t i o n s . z o o m A n i m a t i o n T h r e s h o l d ) r e t u r n ! 1 ; v a r   d = t h i s . g e t Z o o m S c a l e ( b ) , e = t h i s . _ g e t C e n t e r O f f s e t ( a ) . _ d i v i d e B y ( 1 - 1 / d ) , f = t h i s . _ g e t C e n t e r L a y e r P o i n t ( ) . _ a d d ( e ) ; i f ( c . a n i m a t e ! = = ! 0 & & ! t h i s . g e t S i z e ( ) . c o n t a i n s ( e ) ) r e t u r n ! 1 ; t h i s . f i r e ( " m o v e s t a r t " ) . f i r e ( " z o o m s t a r t " ) ; t h i s . _ a n i m a t e Z o o m ( a , b , f , d , n u l l , ! 0 ) ; r e t u r n ! 0 } , _ a n i m a t e Z o o m : f u n c t i o n ( a , b , c , d , e , g ) { t h i s . _ a n i m a t i n g Z o o m = ! 0 , f . D o m U t i l . a d d C l a s s ( t h i s . _ m a p P a n e , " l e a f l e t - z o o m - a n i m " ) , t h i s . _ a n i m a t e T o C e n t e r = a , t h i s . _ a n i m a t e T o Z o o m = b , f . D r a g g a b l e & & ( f . D r a g g a b l e . _ d i s a b l e d = ! 0 ) , t h i s . f i r e ( " z o o m a n i m " , { c e n t e r : a , z o o m : b , o r i g i n : c , s c a l e : d , d e l t a : e , b a c k w a r d s : g } ) } , _ o n Z o o m T r a n s i t i o n E n d : f u n c t i o n ( ) { t h i s . _ a n i m a t i n g Z o o m = ! 1 , f . D o m U t i l . r e m o v e C l a s s ( t h i s . _ m a p P a n e , " l e a f l e t - z o o m - a n i m " ) , t h i s . _ r e s e t V i e w ( t h i s . _ a n i m a t e T o C e n t e r , t h i s . _ a n i m a t e T o Z o o m , ! 0 , ! 0 ) , f . D r a g g a b l e & & ( f . D r a g g a b l e . _ d i s a b l e d = ! 1 ) } } : { } ) ; f . T i l e L a y e r . i n c l u d e ( { _ a n i m a t e Z o o m : f u n c t i o n ( a ) { t h i s . _ a n i m a t i n g | | ( t h i s . _ a n i m a t i n g = ! 0 , t h i s . _ p r e p a r e B g B u f f e r ( ) ) ; v a r   b = t h i s . _ b g B u f f e r , c = f . D o m U t i l . T R A N S F O R M , d = a . d e l t a ? f . D o m U t i l . g e t T r a n s l a t e S t r i n g ( a . d e l t a ) : b . s t y l e [ c ] , e = f . D o m U t i l . g e t S c a l e S t r i n g ( a . s c a l e , a . o r i g i n ) ; b . s t y l e [ c ] = a . b a c k w a r d s ? e + "   " + d : d + "   " + e } , _ e n d Z o o m A n i m : f u n c t i o n ( ) { v a r   a = t h i s . _ t i l e C o n t a i n e r , b = t h i s . _ b g B u f f e r ; a . s t y l e . v i s i b i l i t y = " " ; a . p a r e n t N o d e . a p p e n d C h i l d ( a ) ; f . U t i l . f a l s e F n ( b . o f f s e t W i d t h ) ; t h i s . _ a n i m a t i n g = ! 1 } , _ c l e a r B g B u f f e r : f u n c t i o n ( ) { v a r   a = t h i s . _ m a p ; a & & ! a . _ a n i m a t i n g Z o o m & & ! a . t o u c h Z o o m . _ z o o m i n g & & ( t h i s . _ b g B u f f e r . i n n e r H T M L = " " , t h i s . _ b g B u f f e r . s t y l e [ f . D o m U t i l . T R A N S F O R M ] = " " ) } , _ p r e p a r e B g B u f f e r : f u n c t i o n ( ) { _ _ p & & _ _ p ( ) ; v a r   a = t h i s . _ t i l e C o n t a i n e r , b = t h i s . _ b g B u f f e r , c = t h i s . _ g e t L o a d e d T i l e s P e r c e n t a g e ( b ) , d = t h i s . _ g e t L o a d e d T i l e s P e r c e n t a g e ( a ) ; i f ( b & & c > . 5 & & d < . 5 ) { a . s t y l e . v i s i b i l i t y = " h i d d e n " ; t h i s . _ s t o p L o a d i n g I m a g e s ( a ) ; r e t u r n } b . s t y l e . v i s i b i l i t y = " h i d d e n " ; b . s t y l e [ f . D o m U t i l . T R A N S F O R M ] = " " ; t h i s . _ t i l e C o n t a i n e r = b ; b = t h i s . _ b g B u f f e r = a ; t h i s . _ s t o p L o a d i n g I m a g e s ( b ) ; c l e a r T i m e o u t ( t h i s . _ c l e a r B g B u f f e r T i m e r ) } , _ g e t L o a d e d T i l e s P e r c e n t a g e : f u n c t i o n ( a ) { a = a . g e t E l e m e n t s B y T a g N a m e ( " i m g " ) ; v a r   b , c , d = 0 ; f o r ( b = 0 , c = a . l e n g t h ; b < c ; b + + ) a [ b ] . c o m p l e t e & & d + + ; r e t u r n   d / c } , _ s t o p L o a d i n g I m a g e s : f u n c t i o n ( a ) { a = A r r a y . p r o t o t y p e . s l i c e . c a l l ( a . g e t E l e m e n t s B y T a g N a m e ( " i m g " ) ) ; v a r   b , c , d ; f o r ( b = 0 , c = a . l e n g t h ; b < c ; b + + ) d = a [ b ] , d . c o m p l e t e | | ( d . o n l o a d = f . U t i l . f a l s e F n , d . o n e r r o r = f . U t i l . f a l s e F n , d . s r c = f . U t i l . e m p t y I m a g e U r l , d . p a r e n t N o d e . r e m o v e C h i l d ( d ) ) } } ) ; f . M a p . i n c l u d e ( { _ d e f a u l t L o c a t e O p t i o n s : { w a t c h : ! 1 , s e t V i e w : ! 1 , m a x Z o o m : I n f i n i t y , t i m e o u t : 1 e 4 , m a x i m u m A g e : 0 , e n a b l e H i g h A c c u r a c y : ! 1 } , l o c a t e : f u n c t i o n ( a ) { a = t h i s . _ l o c a t e O p t i o n s = f . e x t e n d ( t h i s . _ d e f a u l t L o c a t e O p t i o n s , a ) ; i f ( ! n a v i g a t o r . g e o l o c a t i o n ) { t h i s . _ h a n d l e G e o l o c a t i o n E r r o r ( { c o d e : 0 , m e s s a g e : " G e o l o c a t i o n   n o t   s u p p o r t e d . " } ) ; r e t u r n   t h i s } v a r   b = f . b i n d ( t h i s . _ h a n d l e G e o l o c a t i o n R e s p o n s e , t h i s ) , c = f . b i n d ( t h i s . _ h a n d l e G e o l o c a t i o n E r r o r , t h i s ) ; a . w a t c h ? t h i s . _ l o c a t i o n W a t c h I d = n a v i g a t o r . g e o l o c a t i o n . w a t c h P o s i t i o n ( b , c , a ) : n a v i g a t o r . g e o l o c a t i o n . g e t C u r r e n t P o s i t i o n ( b , c , a ) ; r e t u r n   t h i s } , s t o p L o c a t e : f u n c t i o n ( ) { n a v i g a t o r . g e o l o c a t i o n & & n a v i g a t o r . g e o l o c a t i o n . c l e a r W a t c h ( t h i s . _ l o c a t i o n W a t c h I d ) ; t h i s . _ l o c a t e O p t i o n s & & ( t h i s . _ l o c a t e O p t i o n s . s e t V i e w = ! 1 ) ; r e t u r n   t h i s } , _ h a n d l e G e o l o c a t i o n E r r o r : f u n c t i o n ( a ) { v a r   b = a . c o d e ; a = a . m e s s a g e | | ( b = = = 1 ? " p e r m i s s i o n   d e n i e d " : b = = = 2 ? " p o s i t i o n   u n a v a i l a b l e " : " t i m e o u t " ) ; t h i s . _ l o c a t e O p t i o n s . s e t V i e w & & ! t h i s . _ l o a d e d & & t h i s . f i t W o r l d ( ) ; t h i s . f i r e ( " l o c a t i o n e r r o r " , { c o d e : b , m e s s a g e : " G e o l o c a t i o n   e r r o r :   " + a + " . " } ) } , _ h a n d l e G e o l o c a t i o n R e s p o n s e : f u n c t i o n ( a ) { _ _ p & & _ _ p ( ) ; v a r   b = a . c o o r d s . l a t i t u d e , c = a . c o o r d s . l o n g i t u d e , d = n e w   f . L a t L n g ( b , c ) , e = 1 8 0 * a . c o o r d s . a c c u r a c y / 4 0 0 7 5 0 1 7 , g = e / M a t h . c o s ( f . L a t L n g . D E G _ T O _ R A D * b ) ; b = f . l a t L n g B o u n d s ( [ b - e , c - g ] , [ b + e , c + g ] ) ; e = t h i s . _ l o c a t e O p t i o n s ; i f ( e . s e t V i e w ) { c = M a t h . m i n ( t h i s . g e t B o u n d s Z o o m ( b ) , e . m a x Z o o m ) ; t h i s . s e t V i e w ( d , c ) } g = { l a t l n g : d , b o u n d s : b , t i m e s t a m p : a . t i m e s t a m p } ; f o r ( v a r   h   i n   a . c o o r d s ) t y p e o f   a . c o o r d s [ h ] = = = " n u m b e r " & & ( g [ h ] = a . c o o r d s [ h ] ) ; t h i s . f i r e ( " l o c a t i o n f o u n d " , g ) } } ) } ) ( w i n d o w , d o c u m e n t ) } ) , n u l l ) ;   <       https://static.xx.fbcdn.net/rsrc.php/v3/yE/r/zpjT6_86aLl.js     z     z                       5            
P     Q      =   Z       @ Q: 	   self   CavalryLogger   start_js   __d   leaflet!!            +H!!      !!   L1Ggk    !!       C  0                                           Z   r R   r                       E   Q        :  Q           Q(    __p   window   document!!      a   b   c   d   e   f       +H!!         C  8             '                 Q       |   _ t   _                       E   Q        :  Q   5      Q[       Q   =   6   Q  '=   HE   Q  5   =   H        6   <      '=   HE*   Q   5   E   Q         : Q      6	   Q      6   Q   [      ]      ]      :  ]      ]      ]      ]      ]   	   ]   
   ]      ]      ]      ]      5   D   Q   ]   =   ]   6
   Q     Q      5
   5   6   Q      5
   5   6   Q      5
   5   6   Q      5
   5   6   Q      6   Q   5      6   Q   5      6   Q   5      6   Q   5      6   Q=      Q   [   6    Q   5    [      ]"      ]#      ]$      ]%      ]&      ]'   6!   Q   5    5!      5    5!   5"   6(   Q   5    5!      5    5!   5$   6)   Q   5    5!      5    5!   5'   6*   Q   5    5!      5    5!   5&   6+   Q     Q      6,   Q   5,   [1       ].   !   ]/   "   ]0   #   ]1   $   ]2   %   ]3   &   ]4   '   ]5   (   ]6   )   ]7   *   ]8   +   ]9   ,   ]:   -   ];   .   ]<   /   ]=   0   ]>   6-   Q   2   6?   Q   3   6@   Q   5@   [<   4   ]   5   ]A   6   ]B   7   ]C   8   ]D   9   ]=   :   ]E   ;   ]F   6-   Q   =   6G   Q   >   6H   Q   5H   [B   ?   ]I   @   ]J   A   ]K   6-   Q   [S   C   ]M   D   ]N   E   ]O   F   ]P   G   ]Q   H   ]R   I   ]S   J   ]T   K   ]U   L   ]V   M   ]W   N   ]X   O   ]Y   P   ]Z   Q   ][   R   ]\   6L   Q   5L      5L   X   
fT   : 6]   Q   5L      5L   X   
fU   : 6^   Q   5L      5L   5^   =`   HD   Q   5L   5^   =a   H       5L   5^   =b      =c   6_   QV     Q   W   6d   Q      
   5d   [X   e   5f   X ]g   X e   5f   ]h   <    ]i    Q   5d   []   Y   ]<   Z   ]>   [   ];   \   ]j   6-   Q   ^   6k   Q   _   6l   Q   5l   [p   `   ]   a   ]m   b   ]A   c   ]n   d   ]o   e   ]p   f   ]q   g   ]r   h   ]s   i   ]t   j   ]u   k   ]=   l   ]E   m   ]v   n   ]<   o   ]F   6-   Q   q   6w   Q   [r   6x   Q   5x   [u   <   ]z   s   ]{   t   ]|   6y   Q   5x   [x   v   ]{   w   ]|   6}   Q   [~   y   ]   z   ]   {   ]{   |   ]   }   ]D   6~   Q   5~         
[      5~   [      5x   5}   ]      5H   A?>>,  R ]      ]   : 6   Q   5~         
[      5~   [   =   ]      5x   5y   ]      5H   A<   e   5f   <   <   e   5f   <   ,  R ]      ]{   : 6   Q   5~         
[      5~   5   [   =   ]   : 6   Q   5~         
[      5~   [   =   ]      5x   5}   ]      5H   A<   <   <   <	   ,  R ]   : 6   Q      5      
[      5    5!   ]   [      5~   5   ]      5L   5^   E   Q   5   5    ]   C]      5L   5^   E   Q   5   5   ]   ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]A      ]      ]      ]      ]      ]      ]D      ]      ]      ]      ]      ]      ]      ]{      ]|      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]   : 6   Q      6   Q   5x   [   <
   ]z   <   ]   Ra]      ]{      ]|   6   Q   5~         
[      5~   [   =   ]      5x   5   ]      :  ]   : 6   Q      5      
[     5    5!   ]   [   >]   ]   X ]   =   ]   =   ]   =   ]   >]   ?]      5   5   ]      5   5   ]   ]      ]      ]      ]      ]      ]      ]      ]      ]      ]W      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]     ]     ]     ]     ]     ]     ]     ]     ]	     ]
     ]     ]     ]     ]     ]    ]    ]  : 6   Q     6  Q   5      5      
[
  [  =  ]  =  ]  =  ]   =   ]  =   ]  =  ]  B]  ]    ]     ]     ]  	  ]  : 6  Q   5    6  Q   5      5      
[  [  B]!  ]     ]     ]     ]"    ]    ]    ]#    ]$  : 6   Q   5    6%  Q      5      
[%     5    5!   ]   [  ?]   ]     ]     ]     ]     ]     ]W     ]     ]     ]     ]      ]'  !  ](  "  ]   #  ])  $  ]   : 6&  Q   &  6*  Q      5      
[/  ['  =   ],  ]   (  ]   )  ]-  *  ].  +  ]/  ,  ]0  -  ]1  .  ]2  : 6+  Q   0  63  Q   5+     5+     
[3  [1  Z   `    )`   ]5  Z   `    )`   ]6  Z   ?`    `   ]7  Z   )`    )`   ]8  ]   2  ]2  : 64  Q   5+  54  4  :  69  Q      5      
[M     5    5!   ]   [5     5+  54  A,  R  ]3  =   ];  =   ]<  C]=  B]>  C]?  >]@  ?]   B]A  X ]B  ]   6  ]   7  ]   8  ]   9  ]   :  ]C  ;  ]D  <  ]E  =  ]F  >  ]G  ?  ]H  @  ]I  A  ]J  B  ]K  C  ]   D  ](  E  ]L  F  ]   G  ]M  H  ]   I  ]W   J  ]   K  ]N  L  ]O  : 6:  Q   N  6P  Q      5+     
[R  [O  Z   `    `   ]5  =R  ],  B]S  ]   P  ]-  Q  ].  : 6Q  Q   S  6T  Q   5      
[T  C]U   Q      5      
[i     5    5!   ]   [U  2]W  X,]X  C]Y  C]Z  Z   >`    `   ][  Z   `    `   ]\  B]]  =   ],  C]^  ]   V  ]   W  ]   X  ]   Y  ]_  Z  ]   [  ]C  \  ]D  ]  ]`  ^  ]a  _  ]G  `  ]b  a  ]c  b  ]   c  ]d  d  ]e  e  ]f  f  ]g  g  ]h  h  ]i  : 6V  Q   j  6j  Q   5      
[m  k  ]k  l  ]l   Q   5:     
[v  n  ]k  o  ]l  p  ]m  q  ]n  r  ]o  s  ]p  t  ]q  u  ]r   Q      5      
[  w  ]   x  ]   y  ]   z  ]   {  ]t  |  ]u  }  ]   ~  ]     ]     ]     ]v    ]w    ]     ]x  : 6s  Q     6y  Q      5s     
[     5    5!   ]   [  ={  ]|  ]}    ]     ]     ]n    ]p    ]k    ]l    ]~    ]     ]     ]     ]  : 6z  Q     6  Q      5      
[  Z      5    5!   `    ]   [    :  ]  ]}  [  C]  =  ]  @]  @]  @]  ]  <   ]   B]  @]  <   ]  C]=  ]     ]     ]     ]     ]     ]    ]~    ]   : 6  Q   5      
[    ]   Q   5  =  6  Q   5      5  E/   Q     
   5  5  =  : 5    6  Q      5     
[  [     5   5  ]  ]}    ]     ]     ]    ]    ]    ]    ]    ]    ]    ]     ]     ]   : 6  Q   5      
[    ]    ]    ]    ]   Q   5     
[    ]n    ]p    ]k    ]l    ]   Q   5      5   5   E   Q  :  6  Q      5   5  D   Q   5   5         5  o      5     
[  [  C]  <   ]  ]}    :  ]    ]    ]    ]    ]  : 6  Q   5      
   5   5  D   Q   5   5      [     [    ]   Q   5     :  6%  Q      5  5  E   Q   5   D   Q   5   5%         5        5     
[  [  C]  B]  ]}    ]     ]~    ]     ]    ]    ]    ]    ]    ]    ]    ]     ]    ]  : 6  Q   5      
   5  5  E   Q   5   D   Q   5   5%      [     [    ]    ]   Q   [    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]  6  Q      5     
[    ]   [  ?]  B]  ]     ]    ]    ]    ]    ]    ]    ]    ]     ]    ]     ]    ]    ]    ]  : 6  Q     6  Q   [  6  Q   5    6  Q      5     
[  [  C]  ]     ]     ]    ]    ]    ]     ]  : 6  Q     6  Q    Q      5     
[    ]     ]    ]  : 6  Q     6  Q      5     
[  	  ]   [
  C]  ]     ]D    ]    ]    ]     ]C    ]    ]    ]    ]    ]    ]  : 6  Q     6  Q      5     
[  [  
]  ]  ]     ]     ]    ]    ]D    ]    ]  : 6  Q      6  Q   5     
   5  5     ["  !  ]     [#   Q   5     
   5  5     [%  $  ]     [&   Q   5     
   5  5  $   [)  '  ]  (  ]     [*   Q   5     
   5  5     [,  +  ]     [-   Q      5z     
[3  .  ]   /  ]  0  ]  1  ]~  2  ]  : 6  Q      
   5  [;  4  ]  5  ]  6  ]  7  ]  8  ]  9  ]  :  ]   Q[=  <  ]  U Q   5:     
T  Q   5     
T  Q   5     
T  Q   5     
[?  >  ]   Q   5     
[A  @  ]   QB    Q   C  6  Q   [S  D  ]  E  ]  F  ]  G  ]  H  ]  I  ]  J  ]  K  ]  L  ]  [M  ]  N  ]  O  ]  P  ]  Q  ]  R  ]  6  Q   5     5  5  6(   Q   5     5  5  6)   Q      5      
[^     5    5!   ]   [V     5   5  $   Z   =  `    =  `      Z   =  `    ]  [T  =  ]  =  ]  =  ]  =  ]  ]  [U  =   ]  =  ]  =  ]  =  ]  ]  ]}  W  ]   X  ]  Y  ]  Z  ]  [  ]  \  ]f  ]  ]  : 6  Q      5      
[c  _  ]   `  ]  a  ]  b  ]	  : 6  Q   5      
[d  C]
     5   5    ]  XH]    ]     5   5         ]  <   ]  B]   Q   5      5     
[m  e  ]  f  ]  g  ]  h  ]  i  ]  j  ]  k  ]  l  ]  : 6  Q   5      
=   =
     5   5   Q   5      
[n  C]   Q   5      5     
[r  o  ]  p  ]  q  ]  : 6  Q   5      
=   =     5   5   Q   5      
[s  C]   Q   5      5     
[x  t  ]  u  ]  v  ]   w  ]!  : 6  Q   5      
=   =     5   5   Q      
   5  [{     5   5"     =  +      5   5#     =     =  ]$     5   5"     =%  +      5   5#     =&     =  ]'  y  ](  z  ])   Q      
   5  [     5   5"     =     =  ]*     5   5"     =+     =,  ]-     5   5"     =%     =&  ].     5   5"     =/     =0  ]1  Z    ]2  B]3  |  ]4  }  ]5  ~  ]6    ]7    ]8   Q   5      
[     5   5  E   Q   5   5    ]9  C]:   Q   5      5     
[    ]    ]    ]<    ]=    ]>    ]?    ]@  : 6;  Q   5      
=   =9     5   5;   Q   5      
[  C]A  ]B   Q   5      5     
[    ]    ]    ]    ]    ]D    ]    ]E  : 6C  Q   5   5  EK   Q   5   5#   E4   Q   5      
=   =A     5   5C  : Q   5      
[  C]F   Q   5      5     
[    ]     ]    ]    ]    ]H    ]    ]I    ]J    ]K  : 6G  Q   5      
=   =F     5   5G   Q   5      
[  C]?  P]L  ?]M   Q   5      5     
[  [  Z   %`    ]O  Z   '`    ]P  Z   (`    ]Q  Z   &`    ]R  Z   X `    k`   =`   X `   ]   Z   X `    m`   X `   ]   ]S    ]     ]    ]    ]H    ]T    ]U    ]V    ]W    ]X    ]Y    ]K  : 6N  Q   5      
=   =?     5   5N   Q   5     5     
[    ]     ]    ]    ]    ]    ]    ]  : 6Z  Q      5      
[  [  =\  ]]  ]     ]     ]\     ][     ]     ]     ]^    ]_  : 6[  Q     6`  Q   5      
[    ]a    ]b    ]c    ]d   Q   5[     5[     
[  [  =f  ]]  =g  ]h  =i  ]j  =k  ]l  =m  ]n  =o  ]p  =q  ]r  ]     ]     ]     ]s    ]t    ]u    ]v    ]w  : 6e  Q   5      
[  C]x   Q   5      
   Q   5`    6y  Q   5[     5[     
[  [  ={  ]]  =|  ]}  ]     ]     ]     ]     ]~    ]    ]    ]     ]    ]  : 6z  Q   5      
[  C]   Q   5      
   Q   5`    6   Q   5[     5[     
[  [  =  ]]  d]X  C]  C]  B]   ]     ]     ]     ]    ]     ]    ]    ]    ]    ]  : 6  Q   5`    6   Q   5[     5[     
[  [  C]  =\  ]]  C]  ]     ]     ]     ]     ]    ]    ]     ]     ]    ]     ]    ]    ]    ]    ]    ]  : 6  Q   5`    6  Q      5      
[     5    5!   ]     ]    ]    ]    ]     ]    ]  : 6  Q   5      
[    ]     ]     ]    ]    ]   Q      5L   5^         5  e      5     
[  	  ]  
  ]    ]    ]    ]    ]    ]  : 6  Q   5      
[  C]^  ]   Q   5L   5^   E    Q   5      
  : Q   5      
   5L   5^   B   [    ]    ]    ]    ](    ]     [   Q   5      
[     ](    ]    ]    ]    ]    ]   Q   5      
[&  [!  B]  B]     ]   X']  >]  B]  ]  "  ]  #  ]  $  ]  %  ]   QD
((
+    U    FD;N    `M # "8E   q 3> g 
26;. FK466@;77;9/S/S]Ck`  b  aDB7    2LL=bgB     X      Z[ /    v  0^c     S  i  v ^h )    00MM/0/0   i  @^   ~55ux7,:   "*3p  -1"}	$; q  ?@   E?s      <Y 1      &       A  fR(0WAfgaoZUtq^o_    WCj 1^D M^ z       c[EGJZt  ef      jy 1+ 2 N"!  	

&! T 0 B    ;0\N?R|        s     W    s}    p   f   &  B U7$

 )    ?'	
-  G  p A	\    0Qh}:;  i  + A	-:>  UG )	
 p 		
H  0  *mS  w   p  Bs  1b  \  F D1	
	   m/+	   02 P*r,B   %9 ' 2     p /  A C  Ej P  ( dn  WJ  <E0Y-Z9{ 5$	W  !gGaE7<:   9
	  	
	- 0  \  +6	v}FW    ` pl o   .      E_   %	  b+ r  #N(	
Xn   LS   4    N<   '{bS        2v>  i	  y,SL   @C  @   \   e5 		` ] 9   ! S4 n_AN 27n		E<    * +&<e` P5 	

mRh  O X=" P! M qo &m!R yQ \ @  Wuf' 8   2 3 ? F      ]I  i9Z}    %)	E      u 	$LQ/  'X   2A        6)(GK\ VH)(     t !H]U V ??9E    ZN 	\"^b "    f 	<-X\ H ^gR 0! pWe% R   # 8L!
	      ><   FJb :'' 8  AW  B 	-5|0    6 /2: +Z !	 qR68= ) %  9(	_C l`H  x  _ ,  G"	
 '\   g   J' W;#	    cKLX          ZZ E n  yB 
   3mU FJ K[  |` @ 
$zl           q 	    /     __p   L   version   0.7.2   object   exports   define   function   amd   noConflict	   Util   extend	   bind   stamp   invokeEach'   limitExecByInterval   falseFn   formatNum	   trim   splitWords   setOptions   getParamString   template   Array   isArrayu   data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=   emptyImageUrl   Class   include   mergeOptions   addInitHook   _leaflet_events   Mixin   Events!   addEventListener#   hasEventListeners'   removeEventListener-   clearAllEventListeners   fireEvent/   addOneTimeEventListener   on   off	   once	   fire   Point   prototype   clone   add	   _add   subtract   _subtract   divideBy   _divideBy   multiplyBy   _multiplyBy   round   _round   floor   _floor   distanceTo   equals   contains   toString   point   Bounds   getCenter   getBottomLeft   getTopRight   getSize   intersects   isValid   bounds   Transformation   transform   _transform   untransform   DomUtil   get   getStyle#   getViewportOffset   documentIsLtr   create   hasClass   addClass   removeClass   _setClass   _getClass   setOpacity   testProp%   getTranslateString   getScaleString   setPosition   getPosition   TRANSFORM   TRANSITION   TRANSITION_END!   webkitTransition   OTransition   End   transitionend   LatLng	   Math   PI   DEG_TO_RAD   RAD_TO_DEG   MAX_MARGIN	   wrap   latLng   LatLngBounds   pad   getSouthWest   getNorthEast   getNorthWest   getSouthEast   getWest   getSouth   getEast   getNorth   toBBoxString   latLngBounds   Projection#   SphericalMercator   MAX_LATITUDE   project   unproject   LonLat   CRS   latLngToPoint   pointToLatLng   scale   Simple   projection   transformation   EPSG3857   EPSG:3857	   code   EPSG900913   EPSG:900913   EPSG4326   EPSG:4326   Map   includes   crs   Browser   android23   fadeAnimation   trackResize   any3d'   markerZoomAnimation   options   initialize   setView   setZoom   zoomIn   zoomOut   setZoomAround   fitBounds   fitWorld   panTo   panBy   setMaxBounds   panInsideBounds   addLayer   removeLayer   hasLayer   eachLayer   invalidateSize   addHandler   remove   getZoom   getBounds   getMinZoom   getMaxZoom   getBoundsZoom   getPixelBounds   getPixelOrigin   getPanes   getContainer   getZoomScale   getScaleZoom%   layerPointToLatLng%   latLngToLayerPoint5   containerPointToLayerPoint5   layerPointToContainerPoint-   containerPointToLatLng-   latLngToContainerPoint5   mouseEventToContainerPoint-   mouseEventToLayerPoint%   mouseEventToLatLng   _initContainer   _initLayout   _initPanes   _createPane   _clearPanes   _addLayers   _resetView   _rawPanBy   _getZoomSpan#   _updateZoomLevels'   _panInsideMaxBounds   _checkIfLoaded   _initEvents   _onResize   _onMouseClick   _fireMouseEvent!   _onTileLayerLoad   _clearHandlers   whenReady   _layerAdd   _getMapPanePos   _moved!   _getTopLeftPoint'   _getNewTopLeftPoint-   _latLngToNewLayerPoint)   _getCenterLayerPoint!   _getCenterOffset   _limitCenter   _limitOffset!   _getBoundsOffset   _rebound   _limitZoom   map   Mercator   R_MINOR   R_MAJOR   EPSG3395   EPSG:3395   TileLayer   minZoom   maxZoom   tileSize   abc   subdomains      errorTileUrl   attribution   zoomOffset   opacity   mobile)   unloadInvisibleTiles   updateWhenIdle   onAdd   addTo   onRemove   bringToFront   bringToBack   getAttribution   setZIndex   setUrl   redraw   _updateZIndex   _setAutoZIndex   _updateOpacity   _reset   _getTileSize   _update-   _addTilesFromCenterOut'   _tileShouldBeLoaded#   _removeOtherTiles   _removeTile   _addTile   _getZoomForUrl   _getTilePos   getTileUrl   _getWrapTileNum!   _adjustTilePoint   _getSubdomain   _getTile   _resetTile   _createTile   _loadTile   _tileLoaded   _tileOnLoad   _tileOnError   tileLayer   WMS   service   GetMap   request   1.1.1   layers   styles   image/jpeg   format   transparent!   defaultWmsParams   setParams   wms   Canvas   async   _redrawTile   drawTile   tileDrawn   canvas   ImageOverlay   _initImage   _animateZoom   _onImageLoad   imageOverlay	   Icon   className   createIcon   createShadow   _createIcon   _setIconStyles   _createImg   _getIconUrl	   icon   Default   iconSize   iconAnchor   popupAnchor   shadowSize   imagePath   Marker   title   alt   clickable   draggable   keyboard   zIndexOffset   riseOnHover   riseOffset   getLatLng   setLatLng   setZIndexOffset   setIcon   update   _initIcon   _removeIcon   _removeShadow   _setPos!   _initInteraction   _onKeyPress   _bringToFront   _resetZIndex   marker   DivIcon!   leaflet-div-icon	   html   divIcon#   closePopupOnClick   Popup   minWidth   maxWidth   autoPan   closeButton   offset   autoPanPadding   keepInView   zoomAnimation   openOn   getContent   setContent   _getEvents   _close   _updateContent   _updateLayout   _updatePosition   _zoomAnimation   _adjustPan'   _onCloseButtonClick   popup   openPopup   closePopup   togglePopup   bindPopup   setPopupContent   unbindPopup   getPopup   _movePopup   LayerGroup   clearLayers   invoke   getLayer   getLayers   getLayerId   layerGroup   FeatureGroup   click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose   EVENTS   statics   setStyle   _propagateEvent   featureGroup	   Path   CLIP_PADDING   stroke   #0033ff   color   dashArray   lineCap   lineJoin   weight	   fill   fillColor   fillOpacity   projectLatlngs'   _updatePathViewport   SVG_NS5   http://www.w3.org/2000/svg   svg   createElementNS   createSVGRect   SVG   getPathString   _createElement   _initElements   _initPath   _initStyle   _updateStyle   _updatePath   _initPathRoot!   _animatePathZoom   _endPathZoom%   _updateSvgViewport   _openPopup   vml   VML   L_PREFER_CANVAS   CANVAS   _requestUpdate   _fireMapMoveEnd   _drawPath   _checkIfEmpty   _onClick   _onMouseMove+   _updateCanvasViewport   LineUtil   simplify-   pointToSegmentDistance+   closestPointOnSegment   _simplifyDP   _simplifyDPStep   _reducePoints   clipSegment)   _getEdgeIntersection   _getBitCode   _sqDist1   _sqClosestPointOnSegment   Polyline   smoothFactor   noClip   getLatLngs   setLatLngs   addLatLng   spliceLatLngs#   closestLayerPoint   _convertLatLngs   _getPathPartStr   _clipPoints   _simplifyPoints   polyline   PolyUtil   clipPolygon   Polygon   _initWithHoles   polygon   Rectangle   setBounds!   _boundsToLatLngs   rectangle   Circle   setRadius   getRadius   getPath   _getLatRadius   _getLngRadius   circle   CircleMarker   radius   circleMarker   _containsPoint   GeoJSON   addData   resetStyle   _setLayerStyle   geometryToLayer   coordsToLatLng   coordsToLatLngs   latLngToCoords   latLngsToCoords   getFeature   asFeature   toGeoJSON   geoJson   DomEvent   addListener   removeListener   stopPropagation1   disableScrollPropagation/   disableClickPropagation   preventDefault	   stop!   getMousePosition   getWheelDelta   _skipEvents   _fakeStop   _skipped   _checkMouse   _getEvent   _filterClick   Draggable   touch   touchstart   mousedown   START   mouseup   touchend   pointerdown   MSPointerDown   END   mousemove   touchmove	   MOVE   enable   disable   _onDown   _onMove   _onUp   Handler   enabled   dragging   inertia'   inertiaDeceleration   Infinity   inertiaMaxSpeed!   inertiaThreshold   easeLinearity   worldCopyJump	   Drag   addHooks   removeHooks   moved   _onDragStart   _onDrag   _onViewReset   _onPreDrag   _onDragEnd   doubleClickZoom   DoubleClickZoom   _onDoubleClick   scrollWheelZoom   ScrollWheelZoom   _onWheelScroll   _performZoom   msPointer   pointer   _touchstart   MSPointerUp   pointerup   _touchend)   addDoubleTapListener/   removeDoubleTapListener   POINTER_DOWN   MSPointerMove   pointermove   POINTER_MOVE   POINTER_UP   MSPointerCancel   pointercancel   POINTER_CANCEL   _pointers1   _pointerDocumentListener%   addPointerListener/   addPointerListenerStart-   addPointerListenerMove+   addPointerListenerEnd+   removePointerListener   touchZoom%   bounceAtZoomLimits   TouchZoom   _onTouchStart   _onTouchMove   _updateOnMove   _onTouchEnd   _getScaleOrigin   tap   tapTolerance   Tap   _isTapValid   _simulateEvent   boxZoom   BoxZoom   _onMouseDown   _finish   _onMouseUp   _onKeyDown#   keyboardPanOffset%   keyboardZoomOffset   Keyboard	   left   right	   down   up   keyCodes   _onFocus   _onBlur   _setPanOffset   _setZoomOffset   _addHooks   _removeHooks   MarkerDrag   Control   topright   position   removeFrom   _refocusOnMap   control   addControl   removeControl   _initControlPos!   _clearControlPos	   Zoom   topleft   +   zoomInText   Zoom in   zoomInTitle   -   zoomOutText   Zoom out   zoomOutTitle    #   recenterText   Re-center   recenterTitle   _zoomIn   _zoomOut   _recenter   _createButton   _updateDisabled   zoomControl	   zoom   Attribution   bottomright   <a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>   prefix   setPrefix   addAttribution#   removeAttribution   _onLayerAdd   _onLayerRemove%   attributionControl   Scale   bottomleft   metric   imperial   _addScales   _updateScales   _updateMetric   _updateImperial   _getScaleWidth   _getRoundNum   Layers   collapsed   autoZIndex   addBaseLayer   addOverlay   _addLayer   _onLayerChange'   _createRadioElement   _addItem   _onInputClick   _expand   _collapse   PosAnimation   run   _onStep   _transformRe   _getPos!   _onTransitionEnd)   _onPanTransitionStep'   _onPanTransitionEnd   _tryAnimatedPan   _animate   _step   _runFrame   _complete   _easeOut-   zoomAnimationThreshold'   _catchTransitionEnd#   _nothingToAnimate!   _tryAnimatedZoom)   _onZoomTransitionEnd   _endZoomAnim   _clearBgBuffer!   _prepareBgBuffer3   _getLoadedTilesPercentage%   _stopLoadingImages   watch   timeout   maximumAge%   enableHighAccuracy+   _defaultLocateOptions   locate   stopLocate/   _handleGeolocationError5   _handleGeolocationResponse!!&.>!!HECU@!!      ?!!      ?!!      !!      ?!!llf?!!      ?!!llf!!      ?!!9aEU@!!?XA!!      ?!!?!!{Gz?!!      ?!!      a   b   c   d   f   g       +H!!            !!           f.noConflictb  4  I  ,  I        
       5 !!          extendB g    _       '         5!!       	   bindB              !          a    b    c    B  f    ^       &  	       5 5!!          f.Util.stamp<b             X            a    b   B                     5 5!!          invokeEachB                     5!!       '   limitExecByIntervalB   <    <     b  0          a    b    c    d    e      fB    ;    ;       )          g    f   B    *    *              5 55!!          falseFnB  M  Y  E  Y              5!!          formatNumB l    d       ,         5!!       	   trimB            m         5 !!          splitWordsB                     5 !!          setOptionsB 2  l  *  l              5 !!          getParamStringB   %  |  %     D         5 !!          templateB 7    /                   b    B j    b       *         5 5!!          f.Util.isArray<b 
  J    J              5!!       !!   extend!!!!	   bind!!!!   stamp!!!!   invokeEach!!!!'   limitExecByInterval!!!!   falseFn!!!!   formatNum!!!!	   trim!!!!   splitWords!!!!   setOptions!!!!   getParamString!!!!   template!!!!   isArray!!!!   emptyImageUrl!!    !!        C          	   #                                    	    	                       W   Q      Q    E   Q        :  Q>   Q  5   D    QV   =   : D   Q      Q  5   D4   QV   =   : D    QV   =   : D   Q      Q  5      6   Q  5      6   Q cl^Ac2    __p+   requestAnimationFrame+   RequestAnimationFrame)   cancelAnimationFrame)   CancelAnimationFrame7   CancelRequestAnimationFrame	   Util!   requestAnimFrame   cancelAnimFrame!!      b   c   d   e   g        +H!!          b            x         5!!          d "  n    n              5!!          g<b 
	   	  	   	              5 !!       /   f.Util.requestAnimFrameb A	  	  9	  	     	         5!!       -   f.Util.cancelAnimFrameb 	  	  	  	     c	         5 ;5!!          f.Classb  )
  -
  !
  -
     	         5!!          f.Class.extendb E
  O  =
  O     
            d    g    B  b
  
  Z
  
     "
        5    B  
  
  
  
     
         5    B    E  |  E     D  
       5 5!!          f.Class.includeb h    `       (  
       5!!       )   f.Class.mergeOptionsb            e  
       5 !!       '   f.Class.addInitHookb                        a    b   B  =  V  5  V       
       5 5!!            !!       !   addEventListenerB   p    p       
       5 !!       #   hasEventListenersB            K  
       5!!       '   removeEventListenerB              "       5 !!       -   clearAllEventListenersB  4  R  ,  R       
       5 !!          fireEventB e    ]       %         5!!       /   addOneTimeEventListenerB              *          a    b    c    d   B  A    9         
       5 5!!       !!!   addEventListener!!!!#   hasEventListeners!!!!'   removeEventListener!!!!-   clearAllEventListeners!!!!   fireEvent!!!!/   addOneTimeEventListener!!    !!        C         4                            P                                      E   Q        :  Q=     qW   QV   E   Q  5    W  Q   5      
:  W  QV     
=   : ?"IW  QV     
=   : ?"IW  QV     
=	   : ?"IW  QV     
=
   : ?"IW  QV     
=   : ?"IW  QV     
=   : ?"IW  Q   '>(=   IW  Q  5   E>   Q  5   5   E(   Q  5   5   E   Q  5    W	  Q  5   E,   Q  5   5   E   Q  5   5   D   QV	     Q=     qE   Q  5   ?DM   Q=     qE;   Q     
=   : E    Q     
=   : 5   W
  Q  5      Q   E"   QV   E   Q=      5   qW  Q   E=   Q=     qE+   Q=     5   A,  R  qE   QV   W  Q   E   Q=      5   qW  Q   E   Q=      5   qW  Q  5     E9   QV  D!   QV  D   QV  D   QV  E   QV   W  Q  5!    E(   QV   E   Q   E   Q    :  W  Q  [   V   ]#   V  ]$   V  ]   V  E*   QV   E   Q  5%    E   QV    ]   V  ]
   V  ]&   V  ]   V  ]'   V  ](   V  ])   V  ]*   V  ]+   V  ],   V  E   QV  ]-   V  E   QV  ].   V  E   Q  5%   ]/   V  ]0   V	  ]1      ]2   V
  ]3   6"   Q `
"
KLB)0$   		

	

	
	    __p   ActiveXObject!   addEventListener   navigator   userAgent   toLowerCase   indexOf   webkit   chrome   phantom   android   search   android [23]   gecko   orientation   !   msPointerEnabled!   msMaxTouchPoints   PointerEvent   pointerEnabled   maxTouchPoints!   devicePixelRatio   matchMedia/   (min-resolution:144dpi)   matches   documentElement   transition   style   WebKitCSSMatrix   m11   MozPerspective   OTransition   L_DISABLE_3D   L_NO_TOUCH   Browser   ie   ielt9   opera   android23	   ie3d   webkit3d   gecko3d   opera3d   any3d   mobile   mobileWebkit   mobileWebkit3d   mobileOpera   touch   msPointer   pointer   retina!!      c   d   e   g   h   i   j   k   l   m   n   o   p   q   r   s   t   u        +H!!          i<b                      5 !!       !!   ie!!!!   ielt9!!!!   webkit!!!!   gecko!!!!   android!!!!   android23!!!!   chrome!!!!	   ie3d!!!!   webkit3d!!!!   gecko3d!!!!   opera3d!!!!   any3d!!!!   mobile!!!!   mobileWebkit!!!!   mobileWebkit3d!!!!   mobileOpera!!!!   touch!!!!   msPointer!!!!   pointer!!!!   retina!!    ;5 !!          f.Pointb   %    %       
       5!!          cloneB  G  l  ?  l       
       5!!          addB y    q       9  
       5!!       	   _addB            p  
       5 !!          subtractB              
       5 !!          _subtractB +  S  #  S       
       5!!          divideByB e    ]       %  
       5 !!          _divideByB            ]  
       5!!          multiplyByB              
       5 !!          _multiplyByB   5  	  5       
       5!!          roundB  D  d  <  d       
       5!!          _roundB  t    l       4  
       5 !!          floorB               
       5!!          _floorB    9    9       
       5 !!          distanceToB M    E         
       5 !!          equalsB            f  
       5 !!          containsB   D     D        
       5 !!          toStringB  V      N            
       5 !!       !!   clone!!!!   add!!!!	   _add!!!!   subtract!!!!   _subtract!!!!   divideBy!!!!   _divideBy!!!!   multiplyBy!!!!   _multiplyBy!!!!   round!!!!   _round!!!!   floor!!!!   _floor!!!!   distanceTo!!!!   equals!!!!   contains!!!!   toString!!    !!           f.pointb    B!     B!     u          5!!          f.Boundsb T!  !  L!  !     !  
       5 !!          extendB !  "  !  "     !  
       5 !!          getCenterB "  #  "  #     "  
       5!!          getBottomLeftB  ,#  Y#  $#  Y#     "  
       5!!          getTopRightB  n#  #  f#  #     .#  
       5!!          getSizeB  #  #  #  #     l#  
       5!!          containsB #  $  #  $     #  
       5 !!          intersectsB $  :%  $  :%     $  
       5 !!          isValidB  K%  k%  C%  k%     %  
       5!!       !!   extend!!!!   getCenter!!!!   getBottomLeft!!!!   getTopRight!!!!   getSize!!!!   contains!!!!   intersects!!!!   isValid!!    !!           f.boundsb ~%  %  v%  %     >%         5 !!       !   f.Transformationb %  &  %  &     %  
       5 !!          transformB 3&  ]&  +&  ]&     %  
       5!!          _transformB q&  &  i&  &     1&  
       5 !!          untransformB &  %'  &  %'     &  
       5!!       !!   transform!!!!   _transform!!!!   untransform!!    !!          getB >'  s'  6'  s'     &         5!!          getStyleB '  :(  }'  :(     E'         5!!       #   getViewportOffsetB U(  @+  M(  @+     (  (       5!!          documentIsLtrB  W+  +  O+  +     +         5!!          createB ,  J,  +  J,     +         5 !!          hasClassB \,  ,  T,  ,     ,         5 !!          addClassB -  -  ,  -     ,         5 !!          removeClassB -  t.  -  t.     -         5!!          _setClassB .  .  .  .     G.         5!!          _getClassB .  )/  .  )/     .         5!!          setOpacityB =/  X0  5/  X0     .  (       5 !!          testPropB j0  0  b0  0     *0         5 !!       %   getTranslateStringB 1  n1  0  n1     0         5 !!          getScaleStringB 1  1  ~1  1     F1         5 !!          setPositionB 1  2  1  2     1         5!!          getPositionB 2  2  2  2     e2         5!!       !!   get!!!!   getStyle!!!!#   getViewportOffset!!!!   documentIsLtr!!!!   create!!!!   hasClass!!!!   addClass!!!!   removeClass!!!!   _setClass!!!!   _getClass!!!!   setOpacity!!!!   testProp!!!!%   getTranslateString!!!!   getScaleString!!!!   setPosition!!!!   getPosition!!    !!      !!   transform!!   WebkitTransform!!   OTransform!!   MozTransform!!   msTransform   !!      !!!   webkitTransition!!   transition!!   OTransition!!   MozTransition!!   msTransition   !!         C          	   I       
                           H4  J7  @4  J7                        E   Q        :  Q=     q>        
  5   [       ]      ]    QX     5      
f   :    Q     
  5   [      ]      ]    Q     
  5   [	      ]      ]    Q 4Z  ch  T      __p   onselectstart   extend   DomUtil)   disableTextSelection'   enableTextSelection   testProp!   disableImageDrag   enableImageDrag!!      c         +H!!       )   disableTextSelectionB  4  4  4  4     ^4         5 !!       '   enableTextSelectionB  4  45  4  45     4         5!!       !!)   disableTextSelection!!!!'   enableTextSelection!!    !!      !!   userSelect!!!   WebkitUserSelect!!   OUserSelect!!   MozUserSelect!!   msUserSelect   !!        )   disableTextSelectionB  5   6  5   6     5         5!!       '   enableTextSelectionB  =6  6  56  6     5  
       5!!       !!)   disableTextSelection!!!!'   enableTextSelection!!    !!        !   disableImageDragB  6  6  6  6     y6         5 !!          enableImageDragB  7  G7  7  G7     6         5!!       !!!   disableImageDrag!!!!   enableImageDrag!!    ;5 !!          f.LatLngb _7  8  W7  8     7  
       5 !!       !!   DEG_TO_RAD!!!!   RAD_TO_DEG!!!!   MAX_MARGIN!!    !!          equalsB 8  9  8  9     H8  
       5 !!          toStringB 9  n9  9  n9     8  
       5 !!          distanceToB 9  n:  z9  n:     B9  
       5 !!       	   wrapB |:  :  t:  :     <:  
       5 !!       !!   equals!!!!   toString!!!!   distanceTo!!!!	   wrap!!    !!          f.latLngb :  B<  :  B<     :         5 !!          f.LatLngBoundsb Z<  <  R<  <     <  
       5 !!          extendB <  >  <  >     <  
       5 !!          padB >  ?  >  ?     >  
       5!!          getCenterB  ?  4@  ?  4@     ?  
       5!!          getSouthWestB  J@  d@  B@  d@     
@  
       5 !!          getNorthEastB  z@  @  r@  @     :@  
       5 !!          getNorthWestB  @  @  @  @     j@  
       5 !!          getSouthEastB  @  .A  @  .A     @  
       5 !!          getWestB  ?A  ]A  7A  ]A     @  
       5!!          getSouthB  oA  A  gA  A     /A  
       5 !!          getEastB  A  A  A  A     ^A  
       5!!          getNorthB  A  A  A  A     A  
       5 !!          containsB A  C  A  C     A  
       5 !!          intersectsB C  C  C  C     B  
       5 !!          toBBoxStringB  C  3D  C  3D     C  
       5 !!          equalsB CD  D  ;D  D     D  
       5 !!          isValidB  D  E  D  E     D  
       5!!       !!   extend!!!!   pad!!!!   getCenter!!!!   getSouthWest!!!!   getNorthEast!!!!   getNorthWest!!!!   getSouthEast!!!!   getWest!!!!   getSouth!!!!   getEast!!!!   getNorth!!!!   contains!!!!   intersects!!!!   toBBoxString!!!!   equals!!!!   isValid!!    !!           f.latLngBoundsb E  bE  E  bE     D         5 !!            !!          projectB E  ]F  E  ]F     ~E  
       5!!          unprojectB pF  F  hF  F     0F         5!!       !!   MAX_LATITUDE!!!!   project!!!!   unproject!!    !!          projectB G  %G  F  %G     F         5!!          unprojectB 8G  YG  0G  YG     F         5!!       !!   project!!!!   unproject!!    !!          latLngToPointB xG  G  pG  G     8G  
       5!!          pointToLatLngB G  NH  G  NH     G  
       5!!          projectB _H  H  WH  H     H  
       5!!          scaleB H  H  H  H     TH         5!!          getSizeB H  H  H  H     H  
       5!!       !!   latLngToPoint!!!!   pointToLatLng!!!!   project!!!!   scale!!!!   getSize!!    !!            !!           scaleB gI  I  _I  I     'I         5!!       !!   projection!!!!   transformation!!!!   scale!!    !!            !!           projectB 2J  xJ  *J  xJ     I  
       5!!       !!	   code!!!!   projection!!!!   transformation!!!!   project!!    !!            !!       !!	   code!!    !!            !!       !!	   code!!!!   projection!!!!   transformation!!    !!       !!   crs!!!!   fadeAnimation!!!!   trackResize!!!!'   markerZoomAnimation!!    !!           initializeB )L  M  !L  M     K  
       5 !!          setViewB M  N  M  N     yM  
       5!!          setZoomB *N  N  "N  N     M         5 !!          zoomInB N  N  N  N     mN  
       5 !!          zoomOutB N  O  N  O     N  
       5!!          setZoomAroundB 3O  P  +O  P     N  
       5!!          fitBoundsB *P  Q  "P  Q     O  
       5!!          fitWorldB Q  R  Q  R     Q  
       5 !!          panToB R  FR  R  FR     Q  
       5!!          panByB UR  R  MR  R     R  
       5!!          setMaxBoundsB R  S  R  S     R  
       5 !!          panInsideBoundsB S  "T  S  "T     yS  
       5!!          addLayerB 4T  U  ,T  U     S  
       5 !!          removeLayerB U  jW  U  jW     U  
       5!!          hasLayerB |W  W  tW  W     <W  
       5 !!          eachLayerB W  W  W  W     yW  
       5!!          invalidateSizeB X  0Z  X  0Z     W  
       5 !!          addHandlerB DZ  Z  <Z  Z     Z  
       5 !!          removeB  Z  [  Z  [     Z  "       5!!          getCenterB  [  O\  [  O\     [  
       5!!          getZoomB  `\  u\  X\  u\      \  
       5!!          getBoundsB  \  ]  \  ]     H\  
       5!!          getMinZoomB   ]  ]  ]  ]     \  
       5 !!          getMaxZoomB  ]  ^  ]  ^     d]  
       5 !!          getBoundsZoomB 2^  \_  *^  \_     ]  
       5!!          getSizeB  m_  `  e_  `     -_  
       5!!          getPixelBoundsB  ,`  z`  $`  z`     _  
       5 !!          getPixelOriginB  `  `  `  `     R`  
       5 !!          getPanesB  `  `  `  `     `  
       5 !!          getContainerB  
a  $a  a  $a     `  
       5 !!          getZoomScaleB :a  {a  2a  {a     `  
       5 !!          getScaleZoomB a  a  a  a     Qa  
       5 !!          projectB a  "b  a  "b     a  
       5!!          unprojectB 5b  b  -b  b     a  
       5!!       %   layerPointToLatLngB b  b  b  b     eb  
       5 !!       %   latLngToLayerPointB c  Yc  b  Yc     b  
       5 !!       5   containerPointToLayerPointB }c  c  uc  c     =c  
       5 !!       5   layerPointToContainerPointB c  d  c  d     c  
       5 !!       -   containerPointToLatLngB (d  |d   d  |d     c  
       5 !!       -   latLngToContainerPointB d  d  d  d     \d  
       5 !!       5   mouseEventToContainerPointB e  Ke  	e  Ke     d  
       5 !!       -   mouseEventToLayerPointB ke  e  ce  e     +e  
       5 !!       %   mouseEventToLatLngB e  f  e  f     e  
       5 !!          _initContainerB 1f  f  )f  f     e  
       5 !!          _initLayoutB  f  h  f  h     f  
       5!!          _initPanesB  h  (k  h  (k     jh  
       5 !!          _createPaneB =k  k  5k  k     j  
       5!!          _clearPanesB  k  k  k  k     Tk  
       5!!          _addLayersB k  ,l  k  ,l     k  
       5 !!          _resetViewB @l  ]n  8l  ]n      l  
       5 !!          _rawPanByB pn  n  hn  n     0n  
       5!!          _getZoomSpanB  n  n  n  n     n  
       5 !!       #   _updateZoomLevelsB  o  p  o  p     n         5 !!       '   _panInsideMaxBoundsB  p  p  p  p     p  
       5!!          _checkIfLoadedB  q  Qq  q  Qq     p  
       5 !!          _initEventsB fq  r  ^q  r     &q  
       5!!          _onResizeB  r  s  r  s     r  
         B  As  ns  9s  ns     s  
       5 5!!          _onMouseClickB s  \t  s  \t     _s  
       5!!          _fireMouseEventB ut  u  mt  u     5t  
       5!!       !   _onTileLayerLoadB  v  yv  v  yv     u  
       5 !!          _clearHandlersB  v  v  v  v     Qv  
       5 !!          whenReadyB v  7w  v  7w     v  
       5!!          _layerAddB Jw  |w  Bw  |w     
w  
       5!!          _getMapPanePosB  w  w  w  w     Tw  
       5 !!          _movedB  w  x  w  x     w  
       5 !!       !   _getTopLeftPointB  'x  gx  x  gx     w  
       5 !!       '   _getNewTopLeftPointB x  x  |x  x     Dx  
       5!!       -   _latLngToNewLayerPointB x  dy  x  dy     x  
       5 !!       )   _getCenterLayerPointB  y  y  zy  y     By  
       5 !!       !   _getCenterOffsetB y  /z  y  /z     y  
       5 !!          _limitCenterB Ez  z  =z  z     z  
       5 !!          _limitOffsetB {  {  {  {     z  
       5 !!       !   _getBoundsOffsetB {  k|  {  k|     m{  
       5 !!          _reboundB }|  |  u|  |     =|         5 !!          _limitZoomB |  :}  |  :}     |  
       5 !!    M   !!   includes!!!!   options!!!!   initialize!!!!   setView!!!!   setZoom!!!!   zoomIn!!!!   zoomOut!!!!   setZoomAround!!!!   fitBounds!!!!   fitWorld!!!!   panTo!!!!   panBy!!!!   setMaxBounds!!!!   panInsideBounds!!!!   addLayer!!!!   removeLayer!!!!   hasLayer!!!!   eachLayer!!!!   invalidateSize!!!!   addHandler!!!!   remove!!!!   getCenter!!!!   getZoom!!!!   getBounds!!!!   getMinZoom!!!!   getMaxZoom!!!!   getBoundsZoom!!!!   getSize!!!!   getPixelBounds!!!!   getPixelOrigin!!!!   getPanes!!!!   getContainer!!!!   getZoomScale!!!!   getScaleZoom!!!!   project!!!!   unproject!!!!%   layerPointToLatLng!!!!%   latLngToLayerPoint!!!!5   containerPointToLayerPoint!!!!5   layerPointToContainerPoint!!!!-   containerPointToLatLng!!!!-   latLngToContainerPoint!!!!5   mouseEventToContainerPoint!!!!-   mouseEventToLayerPoint!!!!%   mouseEventToLatLng!!!!   _initContainer!!!!   _initLayout!!!!   _initPanes!!!!   _createPane!!!!   _clearPanes!!!!   _addLayers!!!!   _resetView!!!!   _rawPanBy!!!!   _getZoomSpan!!!!#   _updateZoomLevels!!!!'   _panInsideMaxBounds!!!!   _checkIfLoaded!!!!   _initEvents!!!!   _onResize!!!!   _onMouseClick!!!!   _fireMouseEvent!!!!!   _onTileLayerLoad!!!!   _clearHandlers!!!!   whenReady!!!!   _layerAdd!!!!   _getMapPanePos!!!!   _moved!!!!!   _getTopLeftPoint!!!!'   _getNewTopLeftPoint!!!!-   _latLngToNewLayerPoint!!!!)   _getCenterLayerPoint!!!!!   _getCenterOffset!!!!   _limitCenter!!!!   _limitOffset!!!!!   _getBoundsOffset!!!!   _rebound!!!!   _limitZoom!!    !!           f.mapb K}  g}  C}  g}     }         5!!          projectB }  ~  }  ~     }  
       5!!          unprojectB   B     B     ~  
       5!!       !!   MAX_LATITUDE!!!!   R_MINOR!!!!   R_MAJOR!!!!   project!!!!   unproject!!    !!            !!       ?   f.CRS.EPSG3395<.transformation<b             o         5!!       !!	   code!!!!   projection!!!!   transformation!!    !!    
   !!   minZoom!!!!   maxZoom!!!!   tileSize!!!!   subdomains!!!!   errorTileUrl!!!!   attribution!!!!   zoomOffset!!!!   opacity!!!!)   unloadInvisibleTiles!!!!   updateWhenIdle!!    !!          initializeB   X    X       
       5 !!          onAddB g    _       '  
       5!!          addToB              
       5!!          onRemoveB    P    P       
       5 !!          bringToFrontB  f    ^       &  
       5 !!          bringToBackB               
       5!!          getAttributionB             c  
       5 !!          getContainerB               
       5 !!          setOpacityB 
  R    R       
       5 !!          setZIndexB e    ]       %  
       5!!          setUrlB            p  
       5 !!          redrawB    1    1       
       5 !!          _updateZIndexB  H    @         
       5!!          _setAutoZIndexB              
       5 !!          _updateOpacityB    n    n       
       5 !!          _initContainerB    6  ~  6     F         5 !!          _resetB F  L  >  L       
       5 !!          _getTileSizeB  b    Z       "  
       5 !!          _updateB  (              
       5!!       -   _addTilesFromCenterOutB   H    H     j            d    B v    n       6         5 5!!       '   _tileShouldBeLoadedB e    ]       %         5!!       #   _removeOtherTilesB              
       5!!          _removeTileB            |  
       5!!          _addTileB              
       5 !!          _getZoomForUrlB    z    z       
       5 !!          _getTilePosB            O  
       5!!          getTileUrlB   j    j       
       5 !!          _getWrapTileNumB      {       C  
       5!!       !   _adjustTilePointB              
       5 !!          _getSubdomainB   '    '       
       5!!          _getTileB  9    1                5!!          _resetTileB                      5 !!          _createTileB    F    F       
       5!!          _loadTileB Y    Q         
       5!!          _tileLoadedB    )    )       
       5!!          _tileOnLoadB  >    6         
       5!!          _tileOnErrorB    v    v       
       5 !!    '   !!   includes!!!!   options!!!!   initialize!!!!   onAdd!!!!   addTo!!!!   onRemove!!!!   bringToFront!!!!   bringToBack!!!!   getAttribution!!!!   getContainer!!!!   setOpacity!!!!   setZIndex!!!!   setUrl!!!!   redraw!!!!   _updateZIndex!!!!   _setAutoZIndex!!!!   _updateOpacity!!!!   _initContainer!!!!   _reset!!!!   _getTileSize!!!!   _update!!!!-   _addTilesFromCenterOut!!!!'   _tileShouldBeLoaded!!!!#   _removeOtherTiles!!!!   _removeTile!!!!   _addTile!!!!   _getZoomForUrl!!!!   _getTilePos!!!!   getTileUrl!!!!   _getWrapTileNum!!!!!   _adjustTilePoint!!!!   _getSubdomain!!!!   _getTile!!!!   _resetTile!!!!   _createTile!!!!   _loadTile!!!!   _tileLoaded!!!!   _tileOnLoad!!!!   _tileOnError!!    !!           f.tileLayerb            M         5!!       !!   service!!!!   request!!!!   version!!!!   layers!!!!   styles!!!!   format!!!!   transparent!!    !!          initializeB `  u  X  u        
       5 !!          onAddB   X  |  X     D  
       5!!          getTileUrlB l    d       ,  
       5 !!          setParamsB   <    <       
       5!!       !!!   defaultWmsParams!!!!   initialize!!!!   onAdd!!!!   getTileUrl!!!!   setParams!!    !!          f.tileLayer.wmsb W  }  O  }              5!!       !!   async!!    !!           initializeB              
       5 !!          redrawB    p    p       
       5 !!          _redrawTileB     }       E  
       5!!          _createTileB    \    \       
       5!!          _loadTileB o    g       /  
       5!!          drawTileB                      5 !!          tileDrawnB              
       5!!       !!   options!!!!   initialize!!!!   redraw!!!!   _redrawTile!!!!   _createTile!!!!   _loadTile!!!!   drawTile!!!!   tileDrawn!!    !!        %   f.tileLayer.canvasb 0  U  (  U              5 !!       !!   opacity!!    !!           initializeB            t  
       5 !!          onAddB              
       5!!          onRemoveB              
       5 !!          addToB            h  
       5!!          setOpacityB              
       5 !!          bringToFrontB  0    (         
       5 !!          bringToBackB             W  
       5!!          setUrlB   9    9       
       5 !!          getAttributionB  Q  t  I  t       
       5 !!          _initImageB             H  
       5 !!          _animateZoomB "  u    u       
       5 !!          _resetB    i  }  i     E  
       5 !!          _onImageLoadB      w       ?  
       5 !!          _updateOpacityB             l  
       5 !!       !!   includes!!!!   options!!!!   initialize!!!!   onAdd!!!!   onRemove!!!!   addTo!!!!   setOpacity!!!!   bringToFront!!!!   bringToBack!!!!   setUrl!!!!   getAttribution!!!!   _initImage!!!!   _animateZoom!!!!   _reset!!!!   _onImageLoad!!!!   _updateOpacity!!    !!          f.imageOverlayb    )    )              5 !!       !!   className!!    !!           initializeB k    c       +  
       5 !!          createIconB            X  
       5 !!          createShadowB              
       5 !!          _createIconB   
  	  
              5 !!          _setIconStylesB "  _    _       
       5 !!          _createImgB s    k       3         5 !!          _getIconUrlB   &    &     {  
       5!!       !!   options!!!!   initialize!!!!   createIcon!!!!   createShadow!!!!   _createIcon!!!!   _setIconStyles!!!!   _createImg!!!!   _getIconUrl!!    !!           f.iconb 8  Q  0  Q              5 !!       !!   iconSize!!!!   iconAnchor!!!!   popupAnchor!!!!   shadowSize!!    !!           _getIconUrlB              
       5!!       !!   options!!!!   _getIconUrl!!    !!       3   f.Icon.Default.imagePath<b                      5!!    
   !!	   icon!!!!   title!!!!   alt!!!!   clickable!!!!   draggable!!!!   keyboard!!!!   zIndexOffset!!!!   opacity!!!!   riseOnHover!!!!   riseOffset!!    !!          initializeB              
       5 !!          onAddB              
       5!!          addToB              
       5!!          onRemoveB 
             
       5 !!          getLatLngB               
       5!!          setLatLngB   V    V       
       5!!          setZIndexOffsetB o    g       /  
       5!!          setIconB   3    3     z  
       5!!          updateB  C    ;                5!!          _initIconB             }  
       5!!          _removeIconB               
       5!!          _removeShadowB             l  
       5!!          _setPosB              
       5!!          _updateZIndexB              
       5!!          _animateZoomB 	  f    f       
       5 !!       !   _initInteractionB    B  x  B     @  
       5 !!          _onMouseClickB Y  s  Q  s       
       5!!          _onKeyPressB            H  
       5!!          _fireMouseEventB              
       5!!          setOpacityB   +    +       
       5 !!          _updateOpacityB  C    ;         
       5 !!          _bringToFrontB               
       5!!          _resetZIndexB    7    7       
       5 !!       !!   includes!!!!   options!!!!   initialize!!!!   onAdd!!!!   addTo!!!!   onRemove!!!!   getLatLng!!!!   setLatLng!!!!   setZIndexOffset!!!!   setIcon!!!!   update!!!!   _initIcon!!!!   _removeIcon!!!!   _removeShadow!!!!   _setPos!!!!   _updateZIndex!!!!   _animateZoom!!!!!   _initInteraction!!!!   _onMouseClick!!!!   _onKeyPress!!!!   _fireMouseEvent!!!!   setOpacity!!!!   _updateOpacity!!!!   _bringToFront!!!!   _resetZIndex!!    !!          f.markerb K  j  C  j              5 !!       !!   iconSize!!!!   className!!!!	   html!!    !!           createIconB              
       5 !!          createShadowB                      5 !!       !!   options!!!!   createIcon!!!!   createShadow!!    !!           f.divIconb                     5!!       !!#   closePopupOnClick!!    !!    	   !!   minWidth!!!!   maxWidth!!!!   autoPan!!!!   closeButton!!!!   offset!!!!   autoPanPadding!!!!   keepInView!!!!   className!!!!   zoomAnimation!!    !!           initializeB 
             
       5 !!          onAddB   	    	     N  
       5!!          addToB   9    9       
       5!!          openOnB I  k  A  k     	  
       5 !!          onRemoveB }    u       =  
       5 !!          getLatLngB               
       5!!          setLatLngB   W    W       
       5!!          getContentB  k    c       +  
       5 !!          setContentB            W  
       5 !!          updateB               
       5 !!          _getEventsB             c  
       5 !!          _closeB               
       5 !!          _initLayoutB               
       5!!          _updateContentB  ,  F  $  F              5!!          _updateLayoutB  ]    U         
       5!!          _updatePositionB               
       5!!          _zoomAnimationB            j  
       5 !!          _adjustPanB  ,    $         
       5 !!       '   _onCloseButtonClickB            e  
       5!!       !!   includes!!!!   options!!!!   initialize!!!!   onAdd!!!!   addTo!!!!   openOn!!!!   onRemove!!!!   getLatLng!!!!   setLatLng!!!!   getContent!!!!   setContent!!!!   update!!!!   _getEvents!!!!   _close!!!!   _initLayout!!!!   _updateContent!!!!   _updateLayout!!!!   _updatePosition!!!!   _zoomAnimation!!!!   _adjustPan!!!!'   _onCloseButtonClick!!    !!           f.popupb                     5!!          openPopupB                     5 !!          closePopupB   <    <       
       5 !!       !!   openPopup!!!!   closePopup!!    !!           openPopupB  c    [       #  
       5!!          closePopupB    8    8       
       5 !!          togglePopupB  M    E         
       5!!          bindPopupB   m    m     u  
       5!!          setPopupContentB     ~       F  
       5!!          unbindPopupB               
       5!!          getPopupB             [  
       5 !!          _movePopupB              
       5 !!       !!   openPopup!!!!   closePopup!!!!   togglePopup!!!!   bindPopup!!!!   setPopupContent!!!!   unbindPopup!!!!   getPopup!!!!   _movePopup!!    !!           initializeB   l    l       
       5 !!          addLayerB ~    v       >  
       5 !!          removeLayerB              
       5!!          hasLayerB            T  
       5 !!          clearLayersB    #    #       
       5!!          invokeB 3    +                5 !!          onAddB              
       5!!          onRemoveB   4    4       
       5 !!          addToB C  d  ;  d       
       5!!          eachLayerB w    o       7  
       5!!          getLayerB              
       5 !!          getLayersB    D    D       
       5!!          setZIndexB W  }  O  }       
       5!!          getLayerIdB            Q         5 !!       !!   initialize!!!!   addLayer!!!!   removeLayer!!!!   hasLayer!!!!   clearLayers!!!!   invoke!!!!   onAdd!!!!   onRemove!!!!   addTo!!!!   eachLayer!!!!   getLayer!!!!   getLayers!!!!   setZIndex!!!!   getLayerId!!    !!           f.layerGroupb                     5 !!       !!   EVENTS!!    !!          addLayerB            L  
       5 !!          removeLayerB            m  
       5!!          bindPopupB                
       5!!          unbindPopupB  5  g  -  g       
       5!!          openPopupB z    r       :         5 !!          closePopupB               
       5 !!          setStyleB   D    D       
       5 !!          bringToFrontB  Z    R         
       5 !!          bringToBackB             U  
       5!!          getBoundsB    M    M                 a   B   B    B              5 5!!          _propagateEventB f    ^       &  
       5!!       !!   includes!!!!   statics!!!!   addLayer!!!!   removeLayer!!!!   bindPopup!!!!   unbindPopup!!!!   openPopup!!!!   closePopup!!!!   setStyle!!!!   bringToFront!!!!   bringToBack!!!!   getBounds!!!!   _propagateEvent!!    !!          f.featureGroupb                     5 !!       ;   f.Path<.statics.CLIP_PADDING<b  4    ,                5!!       !!   CLIP_PADDING!!    !!       !!   stroke!!!!   color!!!!   dashArray!!!!   lineCap!!!!   lineJoin!!!!   weight!!!!   opacity!!!!	   fill!!!!   fillColor!!!!   fillOpacity!!!!   clickable!!    !!           initializeB T  m  L  m       
       5 !!          onAddB |    t       <  
       5!!          addToB            V  
       5!!          onRemoveB              
       5 !!          projectLatlngsB             ~         5 !!          setStyleB              
       5 !!          redrawB  .  s  &  s       
       5 !!    
   !!   includes!!!!   statics!!!!   options!!!!   initialize!!!!   onAdd!!!!   addTo!!!!   onRemove!!!!   projectLatlngs!!!!   setStyle!!!!   redraw!!    !!       '   _updatePathViewportB    x    x     a  
       5!!       !!'   _updatePathViewport!!    !!       !!   SVG!!    !!          bringToFrontB  G    ?         
       5 !!          bringToBackB    $    $     |  
       5!!          getPathStringB  ;  ?  3  ?              5!!          _createElementB W    O                5 !!          _initElementsB             \  
       5!!          _initPathB               
       5!!          _initStyleB               
       5 !!          _updateStyleB               
       5 !!          _updatePathB    .    .       
       5!!          _initEventsB  C    ;                5 !!          _onMouseClickB   
    
     u  
       5!!          _fireMouseEventB #  s    s       
       5!!       !!   statics!!!!   bringToFront!!!!   bringToBack!!!!   getPathString!!!!   _createElement!!!!   _initElements!!!!   _initPath!!!!   _initStyle!!!!   _updateStyle!!!!   _updatePath!!!!   _initEvents!!!!   _onMouseClick!!!!   _fireMouseEvent!!    !!           _initPathRootB    C    C     [  
       5!!       !   _animatePathZoomB ]  @ U  @      
       5 !!          _endPathZoomB  V n N n     
       5 !!       %   _updateSvgViewportB         J 
       5 !!       !!   _initPathRoot!!!!!   _animatePathZoom!!!!   _endPathZoom!!!!%   _updateSvgViewport!!    !!           bindPopupB 8 > 0 >     
       5!!          unbindPopupB  S  K      
       5!!          openPopupB  q  q     
       5!!          closePopupB    }     E 
       5 !!          _openPopupB         
       5 !!       !!   bindPopup!!!!   unbindPopup!!!!   openPopup!!!!   closePopup!!!!   _openPopup!!    !!           f.Browser.vml<b  8  0              5!!       !!   VML!!!!   CLIP_PADDING!!    !!        /   f.Path<._createElement<b  ] X U X                B        l        5    B  V  V            5 5!!          _initPathB  m 	 e 	    - 
       5!!          _initStyleB  	 	 	 	    	 
       5 !!          _updateStyleB  	  	     	 
       5 !!          _updatePathB         w 
       5!!       !!   statics!!!!   _createElement!!!!   _initPath!!!!   _initStyle!!!!   _updateStyle!!!!   _updatePath!!    !!            !!           _initPathRootB  c = [ =    # 
       5!!       !!   _initPathRoot!!    !!        #   f.Browser.canvas<b  Y  Q             5!!       !!   CANVAS!!!!   SVG!!    !!           redrawB   `  `     
       5 !!          setStyleB r  j     2 
       5 !!          onRemoveB         
       5 !!          _requestUpdateB   ^  ^     
       5 !!          _fireMapMoveEndB  w  o     7 
       5!!          _initElementsB          
       5!!          _updateStyleB          
       5 !!          _drawPathB         v        5 !!          _checkIfEmptyB         } 
       5!!          _updatePathB          
       5!!          _initEventsB   T  T     
       5!!          _onClickB f  ^     & 
       5 !!          _onMouseMoveB        x 
       5 !!       !!   statics!!!!   redraw!!!!   setStyle!!!!   onRemove!!!!   _requestUpdate!!!!   _fireMapMoveEnd!!!!   _initElements!!!!   _updateStyle!!!!   _drawPath!!!!   _checkIfEmpty!!!!   _updatePath!!!!   _initEvents!!!!   _onClick!!!!   _onMouseMove!!    !!            !!           _initPathRootB  %        
       5!!       +   _updateCanvasViewportB          
       5!!       !!   _initPathRoot!!!!+   _updateCanvasViewport!!    !!          simplifyB  x  x     
       5 !!       -   pointToSegmentDistanceB        X 
       5 !!       +   closestPointOnSegmentB  -  -     
       5!!          _simplifyDPB B  :      
       5!!          _simplifyDPStepB         
       5!!          _reducePointsB  l  l     
       5!!          clipSegmentB  ~ y ~    A 
       5!!       )   _getEdgeIntersectionB        \        5 !!          _getBitCodeB  &   &             5!!          _sqDistB 7  d  /  d             5!!       1   _sqClosestPointOnSegmentB   8! ~  8!    F         5 !!       !!   simplify!!!!-   pointToSegmentDistance!!!!+   closestPointOnSegment!!!!   _simplifyDP!!!!   _simplifyDPStep!!!!   _reducePoints!!!!   clipSegment!!!!)   _getEdgeIntersection!!!!   _getBitCode!!!!   _sqDist!!!!1   _sqClosestPointOnSegment!!    !!           initializeB g! ! _! !    '! 
       5 !!       !!   smoothFactor!!!!   noClip!!    !!          projectLatlngsB  ! " ! "    ! 
       5 !!          getPathStringB  " " " "    [" 
       5!!          getLatLngsB  # )# 	# )#    " 
       5 !!          setLatLngsB =# |# 5# |#    " 
       5 !!          addLatLngB # # # #    O# 
       5!!          spliceLatLngsB  # O$ # O$    #        5!!       #   closestLayerPointB j$ % b$ %    *$        5!!          getBoundsB  % % % %    b% 
       5!!          _convertLatLngsB % u& % u&    %        5 !!          _initEventsB  & & & &    J& 
       5!!          _getPathPartStrB & B' & B'    &        5!!          _clipPointsB  W' ( O' (    '        5!!          _simplifyPointsB  ( () ( ()    w( 
       5!!          _updatePathB  =) ) 5) )    ( 
       5!!       !!   initialize!!!!   options!!!!   projectLatlngs!!!!   getPathString!!!!   getLatLngs!!!!   setLatLngs!!!!   addLatLng!!!!   spliceLatLngs!!!!#   closestLayerPoint!!!!   getBounds!!!!   _convertLatLngs!!!!   _initEvents!!!!   _getPathPartStr!!!!   _clipPoints!!!!   _simplifyPoints!!!!   _updatePath!!    !!          f.polylineb ) ) ) )    })        5 !!            !!       -   f.PolyUtil.clipPolygonb * + * +    )        5!!       !!	   fill!!    !!          initializeB + 3, + 3,    + 
       5 !!          _initWithHolesB K, - C, -    ,        5!!          projectLatlngsB  - . - .    h-        5!!          setLatLngsB . }/ . }/    .        5!!          _clipPointsB  / 0 / 0    R/        5 !!          _getPathPartStrB 0 0 0 0    f0 
       5!!       !!   options!!!!   initialize!!!!   _initWithHoles!!!!   projectLatlngs!!!!   setLatLngs!!!!   _clipPoints!!!!   _getPathPartStr!!    !!           f.polygonb 1 41 1 41    0        5!!        C             !                                  >1 3 61 3                      W   Q    E   Q        :  Q   V      5   : 6   Q   V      5   : 6   Q      6   Q      6   Q1 ?<    __p   MultiPolyline   Polyline   MultiPolygon   Polygon   multiPolyline   multiPolygon!!      a         +H!!           a V1 2 L1 2    1           a   B 1 1 1 1    V1 
       5    B 1 2 1 2    1 "          b    c    d    B 2 B2 	2 B2    1 
       5 5   B  2 2 2 2    ^2           a    B 2 2 2 2    2        5 55!!          f.multiPolylineb <3 b3 43 b3    2        5!!          f.multiPolygonb z3 3 r3 3    :3        5 ;5!!          initializeB 3  4 3  4    3 
       5 !!          setBoundsB 34 a4 +4 a4    3 
       5!!       !   _boundsToLatLngsB {4 4 s4 4    ;4        5 !!       !!   initialize!!!!   setBounds!!!!!   _boundsToLatLngs!!    !!           f.rectangleb 4 5 4 5    4        5!!          initializeB D5 5 <5 5    5 
       5 !!       !!	   fill!!    !!          setLatLngB 5 5 5 5    5 
       5!!          setRadiusB 6 16  6 16    5 
       5!!          projectLatlngsB  I6 6 A6 6    	6 
       5 !!          getBoundsB  7 7 7 7    6 
       5!!          getLatLngB  7 7 7 7    l7 
       5!!          getPathStringB  7 8 7 8    7        5 !!          getRadiusB  8 8 8 8    8 
       5!!          getPathB  9  9 9  9    8 
       5!!          _getLatRadiusB  79 \9 /9 \9    8 
       5!!          _getLngRadiusB  s9 9 k9 9    39 
       5!!          _checkIfEmptyB  9 o: 9 o:    9 
       5!!       !!   initialize!!!!   options!!!!   setLatLng!!!!   setRadius!!!!   projectLatlngs!!!!   getBounds!!!!   getLatLng!!!!   getPathString!!!!   getRadius!!!!   getPath!!!!   _getLatRadius!!!!   _getLngRadius!!!!   _checkIfEmpty!!    !!           f.circleb : : {: :    C:        5 !!       !!   radius!!!!   weight!!    !!          initializeB : P; : P;    : 
       5 !!          projectLatlngsB  h; ; `; ;    (; 
       5 !!          _updateStyleB  ; 
< ; 
<    x; 
       5 !!          setLatLngB < < < <    ; 
       5!!          setRadiusB < < < <    e< 
       5!!          getRadiusB  < = < =    < 
       5!!       !!   options!!!!   initialize!!!!   projectLatlngs!!!!   _updateStyle!!!!   setLatLng!!!!   setRadius!!!!   getRadius!!    !!          f.circleMarkerb %= J= = J=    <        5 !!          _containsPointB = > |= >    D=        5 !!       !!   _containsPoint!!    !!            !!          _containsPointB > ? > ?    >        5!!       !!   _containsPoint!!    !!            !!          _drawPathB  @ x@ @ x@    ? 
       5!!          _containsPointB @ @ @ @    P@ 
       5 !!       !!   _drawPath!!!!   _containsPoint!!    !!            !!           _updateStyleB  <A hA 4A hA    @ 
       5 !!       !!   _updateStyle!!    !!            !!          initializeB A A A A    bA 
       5 !!          addDataB A C A C    A        5 !!          resetStyleB C  D C  D    {C 
       5 !!          setStyleB 2D qD *D qD    C           a    B MD jD ED jD    D 
       5 5!!          _setLayerStyleB D D D D    ID        5 !!       !!   initialize!!!!   addData!!!!   resetStyle!!!!   setStyle!!!!   _setLayerStyle!!    !!           geometryToLayerB  E H D H    D        5 !!          coordsToLatLngB H H H H    pH        5 !!          coordsToLatLngsB H zI H zI    H 
       5!!          latLngToCoordsB I I I I    RI        5 !!          latLngsToCoordsB I FJ I FJ    I        5!!          getFeatureB ZJ J RJ J    J        5 !!          asFeatureB J 	K J 	K    J        5!!       !!   geometryToLayer!!!!   coordsToLatLng!!!!   coordsToLatLngs!!!!   latLngToCoords!!!!   latLngsToCoords!!!!   getFeature!!!!   asFeature!!    !!          toGeoJSONB  !K K K K    J 
       5!!       !!   toGeoJSON!!    !!           toGeoJSONB  K hL K hL    K 
       5!!       !!   toGeoJSON!!    !!           toGeoJSONB  L M L M    PL 
       5!!       !!   toGeoJSON!!    !!         C             9                                  M kP M kP                          Q    E   Q        :  Q  5      
[      =   : ]    Q  5      
[      =   : ]    Q  5      
[      ]    QMh  
:
6     __p   MultiPolyline   include   MultiLineString   toGeoJSON   MultiPolygon   LayerGroup!!      a         +H!!           a M ^N M ^N    }M           a   B  M ]N M ]N    M           b    B M "N M "N    M        5 55!!       !!   toGeoJSON!!    !!       !!   toGeoJSON!!    !!          toGeoJSONB  N hP N hP    N "          b    c    d   B O O O O    dO        5 5!!       !!   toGeoJSON!!    ;5 !!          f.geoJsonb P P yP P    AP        5!!          addListenerB P S P S    P *          a    c    d    i   B Q NQ Q NQ    P        5    B R S R S    R        5    B NS vS FS vS    S        5 5!!          removeListenerB T 2V S 2V    S 
       5 !!          stopPropagationB KV V CV V    V 
       5!!       1   disableScrollPropagationB V JW V JW    V        5 !!       /   disableClickPropagationB kW .X cW .X    +W        5!!          preventDefaultB FX X >X X    X 
       5 !!       	   stopB X X X X    YX        5 !!       !   getMousePositionB X Y X Y    X        5 !!          getWheelDeltaB Y Y Y Y    gY        5!!            !!          _fakeStopB Z AZ Z AZ    Y        5!!          _skippedB SZ Z KZ Z    Z 
       5 !!          _checkMouseB Z [ Z [    pZ         5 !!          _getEventB  +[ [ #[ [    Z        5!!          _filterClickB [ \ [ \    [        5!!       !!   addListener!!!!   removeListener!!!!   stopPropagation!!!!1   disableScrollPropagation!!!!/   disableClickPropagation!!!!   preventDefault!!!!	   stop!!!!!   getMousePosition!!!!   getWheelDelta!!!!   _skipEvents!!!!   _fakeStop!!!!   _skipped!!!!   _checkMouse!!!!   _getEvent!!!!   _filterClick!!    !!       !!   mousedown!!!!   touchstart!!!!   pointerdown!!!!   MSPointerDown!!    !!       !!   mousedown!!!!   touchstart!!!!   pointerdown!!!!   MSPointerDown!!    !!       !!   START!!!!   END!!!!	   MOVE!!    !!          initializeB Z^ ^ R^ ^    ^ 
       5 !!          enableB  ^ A_ ^ A_    [^ 
       5 !!          disableB  R_ 	` J_ 	`    _ 
       5!!          _onDownB ` b ` b    _ 
       5!!          _onMoveB b d b d    a        5 !!          _updatePositionB  d e d e    |d 
       5!!          _onUpB 'e f e f    d 
       5!!    	   !!   includes!!!!   statics!!!!   initialize!!!!   enable!!!!   disable!!!!   _onDown!!!!   _onMove!!!!   _updatePosition!!!!   _onUp!!    !!          initializeB !g 1g g 1g    f 
       5 !!          enableB  Ag }g 9g }g    g 
       5 !!          disableB  g g g g    Ng 
       5!!          enabledB  g g g g    g 
       5!!       !!   initialize!!!!   enable!!!!   disable!!!!   enabled!!    !!       !!   dragging!!!!   inertia!!!!'   inertiaDeceleration!!!!   inertiaMaxSpeed!!!!!   inertiaThreshold!!!!   easeLinearity!!!!   worldCopyJump!!    !!           addHooksB  h Zj h Zj    h        5!!          removeHooksB  oj j gj j    /j 
       5!!          movedB  j j j j    [j 
       5!!          _onDragStartB  j qk j qk    j 
       5 !!          _onDragB  k l zk l    Bk        5 !!          _onViewResetB  l =m l =m    Vl 
       5 !!          _onPreDragB  Qm n Im n    m 
       5 !!          _onDragEndB &n p n p    m 2          b    g    h    i   B  Dp ~p <p ~p    p        5 5!!       !!   addHooks!!!!   removeHooks!!!!   moved!!!!   _onDragStart!!!!   _onDrag!!!!   _onViewReset!!!!   _onPreDrag!!!!   _onDragEnd!!    !!       !!   doubleClickZoom!!    !!          addHooksB  q Rq q Rq    p 
       5 !!          removeHooksB  gq q _q q    'q 
       5!!          _onDoubleClickB q Mr q Mr    uq 
       5 !!       !!   addHooks!!!!   removeHooks!!!!   _onDoubleClick!!    !!       !!   scrollWheelZoom!!    !!          addHooksB  r s r s    r 
       5 !!          removeHooksB  s \t s \t    ~s 
       5!!          _onWheelScrollB tt u lt u    4t 
       5 !!          _performZoomB  u v u v    u 
       5 !!       !!   addHooks!!!!   removeHooks!!!!   _onWheelScroll!!!!   _performZoom!!    !!        )   addDoubleTapListenerB $x z x z    w :          c    e    g    h    i    m       n x 0y x 0y    Kx        5      o :y #z 0y #z    x         5 5!!       /   removeDoubleTapListenerB 
{ C| { C|    z 
       5!!       !!   _touchstart!!!!   _touchend!!!!)   addDoubleTapListener!!!!/   removeDoubleTapListener!!    !!        %   addPointerListenerB } ~ } ~    [}        5!!       /   addPointerListenerStartB ~  ~     m~ "          d    g    B ~  ~     ~        5   B  j  j            55!!       -   addPointerListenerMoveB .  &                c    f       b p Q f Q    0        5 5!!       +   addPointerListenerEndB        |           c    e   B                55!!       +   removePointerListenerB  V  V            5 !!       !!   POINTER_DOWN!!!!   POINTER_MOVE!!!!   POINTER_UP!!!!   POINTER_CANCEL!!!!   _pointers!!!!1   _pointerDocumentListener!!!!%   addPointerListener!!!!/   addPointerListenerStart!!!!-   addPointerListenerMove!!!!+   addPointerListenerEnd!!!!+   removePointerListener!!    !!       !!   touchZoom!!!!%   bounceAtZoomLimits!!    !!           addHooksB   4  4     
       5 !!          removeHooksB  I  A     	 
       5!!          _onTouchStartB        m 
       5!!          _onTouchMoveB         
       5 !!          _updateOnMoveB   ]  ]    w 
       5!!          _onTouchEndB  r ^ j ^    2        5 !!          _getScaleOriginB  w  o     7 
       5!!       !!   addHooks!!!!   removeHooks!!!!   _onTouchStart!!!!   _onTouchMove!!!!   _updateOnMove!!!!   _onTouchEnd!!!!   _getScaleOrigin!!    !!       !!   tap!!!!   tapTolerance!!    !!          addHooksB  x  p     8 
       5 !!          removeHooksB          
       5!!          _onDownB + b # b               c    B         h 
       5 5!!          _onUpB q  i     1        5 !!          _isTapValidB   '  '     
       5!!          _onMoveB 8 y 0 y     
       5!!          _simulateEventB  Y  Y    Q        5 !!       !!   addHooks!!!!   removeHooks!!!!   _onDown!!!!   _onUp!!!!   _isTapValid!!!!   _onMove!!!!   _simulateEvent!!    !!       !!   boxZoom!!    !!          initializeB  a  a     
       5 !!          addHooksB  s  k     3 
       5 !!          removeHooksB          
       5!!          movedB  , B $ B     
       5!!          _onMouseDownB X  P      
       5 !!          _onMouseMoveB        j 
       5 !!          _finishB         k 
       5!!          _onMouseUpB         
       5 !!          _onKeyDownB         
       5 !!    	   !!   initialize!!!!   addHooks!!!!   removeHooks!!!!   moved!!!!   _onMouseDown!!!!   _onMouseMove!!!!   _finish!!!!   _onMouseUp!!!!   _onKeyDown!!    !!       !!   keyboard!!!!#   keyboardPanOffset!!!!%   keyboardZoomOffset!!    !!       !!	   left!!!!   right!!!!	   down!!!!   up!!!!   zoomIn!!!!   zoomOut!!    !!          initializeB         
       5 !!          addHooksB         R 
       5 !!          removeHooksB         g 
       5!!          _onMouseDownB   U  U    t 
       5 !!          _onFocusB  g  _     ' 
       5 !!          _onBlurB         d 
       5!!          _setPanOffsetB         
       5!!          _setZoomOffsetB         
       5 !!          _addHooksB         i 
       5!!          _removeHooksB   &  &     
       5 !!          _onKeyDownB : c 2 c            5!!       !!   keyCodes!!!!   initialize!!!!   addHooks!!!!   removeHooks!!!!   _onMouseDown!!!!   _onFocus!!!!   _onBlur!!!!   _setPanOffset!!!!   _setZoomOffset!!!!   _addHooks!!!!   _removeHooks!!!!   _onKeyDown!!    !!          initializeB         
       5 !!          addHooksB   %  %     
       5 !!          removeHooksB  :  2      
       5!!          movedB  % W  W     
       5!!          _onDragStartB  m  e     - 
       5 !!          _onDragB   r  r     
       5!!          _onDragEndB   ~     F 
       5 !!       !!   initialize!!!!   addHooks!!!!   removeHooks!!!!   moved!!!!   _onDragStart!!!!   _onDrag!!!!   _onDragEnd!!    !!       !!   position!!    !!           initializeB           
       5 !!          getPositionB  5 U - U     
       5!!          setPositionB j  b     * 
       5!!          getContainerB          
       5 !!          addToB         
       5!!          removeFromB         
       5 !!          _refocusOnMapB         f 
       5!!       !!   options!!!!   initialize!!!!   getPosition!!!!   setPosition!!!!   getContainer!!!!   addTo!!!!   removeFrom!!!!   _refocusOnMap!!    !!           f.controlb                5!!          addControlB ) G ! G     
       5 !!          removeControlB ^  V      
       5!!          _initControlPosB         Z "          a    b    c      d ) d  d            55!!       !   _clearControlPosB          
       5 !!       !!   addControl!!!!   removeControl!!!!   _initControlPos!!!!!   _clearControlPos!!    !!       !!   position!!!!   zoomInText!!!!   zoomInTitle!!!!   zoomOutText!!!!   zoomOutTitle!!!!   recenterText!!!!   recenterTitle!!    !!           onAddB  +  +     
       5!!          onRemoveB = } 5 }     
       5 !!          _zoomInB        N 
       5!!          _zoomOutB         
       5 !!          _recenterB  (  (     
       5!!          _createButtonB ? Q 7 Q     
       5!!          _updateDisabledB  j  b     * 
       5!!       !!   options!!!!   onAdd!!!!   onRemove!!!!   _zoomIn!!!!   _zoomOut!!!!   _recenter!!!!   _createButton!!!!   _updateDisabled!!    !!       !!   zoomControl!!    !!        B   _  _     
       5 !!          f.control.zoomb x  p     8        5 !!       !!   position!!!!   prefix!!    !!          initializeB T  L      
       5 !!          onAddB        R 
       5!!          onRemoveB  O  O     
       5 !!          setPrefixB b  Z     " 
       5!!          addAttributionB  $  $    o 
       5 !!       #   removeAttributionB ?  7      
       5!!          _updateB         m 
       5!!          _onLayerAddB        e 
       5!!          _onLayerRemoveB  T  T     
       5 !!    
   !!   options!!!!   initialize!!!!   onAdd!!!!   onRemove!!!!   setPrefix!!!!   addAttribution!!!!#   removeAttribution!!!!   _update!!!!   _onLayerAdd!!!!   _onLayerRemove!!    !!       !!%   attributionControl!!    !!       B         ] 
       5 !!       +   f.control.attributionb # K  K            5!!       !!   position!!!!   maxWidth!!!!   metric!!!!   imperial!!!!   updateWhenIdle!!    !!          onAddB         
       5!!          onRemoveB  E  E     
       5 !!          _addScalesB Y  Q      
       5 !!          _updateB          
       5!!          _updateScalesB  I  I     
       5!!          _updateMetricB `  X       
       5!!          _updateImperialB         
       5!!          _getScaleWidthB  4  4     
       5 !!          _getRoundNumB J  B     
        5 !!    
   !!   options!!!!   onAdd!!!!   onRemove!!!!   _addScales!!!!   _update!!!!   _updateScales!!!!   _updateMetric!!!!   _updateImperial!!!!   _getScaleWidth!!!!   _getRoundNum!!    !!          f.control.scaleb                5!!       !!   collapsed!!!!   position!!!!   autoZIndex!!    !!           initializeB ]  U      
       5 !!          onAddB         
       5!!          onRemoveB        r 
       5 !!          addBaseLayerB  N  N     
       5 !!          addOverlayB b  Z     " 
       5 !!          removeLayerB        o 
       5!!          _initLayoutB                    B         { 
       5 5!!          _addLayerB         
       5!!          _updateB         p 
       5!!          _onLayerChangeB         
       5 !!       '   _createRadioElementB  h  h    u        5!!          _addItemB z c r c    : 
       5 !!          _onInputClickB  z  r     : 
       5!!          _expandB          
       5!!          _collapseB  *  "      
       5!!       !!   options!!!!   initialize!!!!   onAdd!!!!   onRemove!!!!   addBaseLayer!!!!   addOverlay!!!!   removeLayer!!!!   _initLayout!!!!   _addLayer!!!!   _update!!!!   _onLayerChange!!!!'   _createRadioElement!!!!   _addItem!!!!   _onInputClick!!!!   _expand!!!!   _collapse!!    !!       !   f.control.layersb        l        5 !!          runB  |  |     
       5!!       	   stopB         J 
       5 !!          _onStepB  &               5 !!e   ([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)    !!          _getPosB                 5 !!       !   _onTransitionEndB          
       5 !!       !!   includes!!!!   run!!!!	   stop!!!!   _onStep!!!!   _transformRe!!!!   _getPos!!!!!   _onTransitionEnd!!    !!           setViewB                 5!!          panByB                5 !!       )   _onPanTransitionStepB  ) > ! >     
       5 !!       '   _onPanTransitionEndB  [  S      
       5!!          _tryAnimatedPanB  D  D     
       5!!       !!   setView!!!!   panBy!!!!)   _onPanTransitionStep!!!!'   _onPanTransitionEnd!!!!   _tryAnimatedPan!!    !!          runB        ] 
       5!!       	   stopB         m 
       5 !!          _animateB   E  E     
       5 !!          _stepB  T  L      
       5!!          _runFrameB  V  V     
       5!!          _completeB  i  a     ) 
       5!!          _easeOutB         
       5 !!       !!   run!!!!	   stop!!!!   _animate!!!!   _step!!!!   _runFrame!!!!   _complete!!!!   _easeOut!!    !!       !!   zoomAnimation!!!!-   zoomAnimationThreshold!!    !!        B  i W a W    ) 
       5 !!       '   _catchTransitionEndB        Y 
       5!!       #   _nothingToAnimateB   b 	 b     
       5!!       !   _tryAnimatedZoomB | 7 t 7    < 
       5 !!          _animateZoomB M K E K     
       5 !!       )   _onZoomTransitionEndB  i % a %    ) 
       5 !!       !!'   _catchTransitionEnd!!!!#   _nothingToAnimate!!!!!   _tryAnimatedZoom!!!!   _animateZoom!!!!)   _onZoomTransitionEnd!!    !!            !!          _animateZoomB U Q M Q     
       5 !!          _endZoomAnimB  g  _     ' 
       5 !!          _clearBgBufferB          
       5 !!       !   _prepareBgBufferB   -  -    u        5!!       3   _getLoadedTilesPercentageB P  H             5!!       %   _stopLoadingImagesB                5 !!       !!   _animateZoom!!!!   _endZoomAnim!!!!   _clearBgBuffer!!!!!   _prepareBgBuffer!!!!3   _getLoadedTilesPercentage!!!!%   _stopLoadingImages!!    !!       !!   watch!!!!   setView!!!!   maxZoom!!!!   timeout!!!!   maximumAge!!!!%   enableHighAccuracy!!    !!           locateB D  <             5!!          stopLocateB          
       5 !!       /   _handleGeolocationErrorB        e 
       5!!       5   _handleGeolocationResponseB  \  \    n        5!!       !!+   _defaultLocateOptions!!!!   locate!!!!   stopLocate!!!!/   _handleGeolocationError!!!!5   _handleGeolocationResponse!!    ;5;5;mi6      \
S\
S?]Ey   >    a,:https://static.xx.fbcdn.net/rsrc.php/v3/yE/r/zpjT6_86aLl.js strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAgAAgAAAAAAAAAAAAAAAAAAAAAB4vFIJp5wRkeyPxAQ9RJGKPqbqVvKO0mKuIl8ec8o/uhmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAa2MIIGsjCCBZqgAwIBAgIQCzw7YBoY9Z7itrsFYF7ywDANBgkqhkiG9w0BAQsFADBwMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMS8wLQYDVQQDEyZEaWdpQ2VydCBTSEEyIEhpZ2ggQXNzdXJhbmNlIFNlcnZlciBDQTAeFw0xNzEyMTUwMDAwMDBaFw0xOTAzMjIxMjAwMDBaMGkxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRMwEQYDVQQHEwpNZW5sbyBQYXJrMRcwFQYDVQQKEw5GYWNlYm9vaywgSW5jLjEXMBUGA1UEAwwOKi5mYWNlYm9vay5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAASIA87IjqqM6JBXpuN20BXCVsDjoP9wnF2rSV60qC130oLTrgfOQ3Uk1dv1R6LFCx4gs2pJUu6iDKBS/b+BXOUbo4IEGDCCBBQwHwYDVR0jBBgwFoAUUWj/kK8CB3U8zNllZGKiErhZcjswHQYDVR0OBBYEFMD9dPV9y8Yn8QPTYqJF14QcFSEIMIHHBgNVHREEgb8wgbyCDiouZmFjZWJvb2suY29tgg4qLnh4LmZiY2RuLm5ldIILKi5mYnNieC5jb22CDioueHouZmJjZG4ubmV0gg4qLmZhY2Vib29rLm5ldIIOKi54eS5mYmNkbi5uZXSCDyoubWVzc2VuZ2VyLmNvbYIGZmIuY29tggsqLmZiY2RuLm5ldIIIKi5mYi5jb22CECoubS5mYWNlYm9vay5jb22CDW1lc3Nlbmdlci5jb22CDGZhY2Vib29rLmNvbTAOBgNVHQ8BAf8EBAMCB4AwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMHUGA1UdHwRuMGwwNKAyoDCGLmh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9zaGEyLWhhLXNlcnZlci1nNi5jcmwwNKAyoDCGLmh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9zaGEyLWhhLXNlcnZlci1nNi5jcmwwTAYDVR0gBEUwQzA3BglghkgBhv1sAQEwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly93d3cuZGlnaWNlcnQuY29tL0NQUzAIBgZngQwBAgIwgYMGCCsGAQUFBwEBBHcwdTAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuZGlnaWNlcnQuY29tME0GCCsGAQUFBzAChkFodHRwOi8vY2FjZXJ0cy5kaWdpY2VydC5jb20vRGlnaUNlcnRTSEEySGlnaEFzc3VyYW5jZVNlcnZlckNBLmNydDAMBgNVHRMBAf8EAjAAMIIBfgYKKwYBBAHWeQIEAgSCAW4EggFqAWgAdgCkuQmQtBhYFIe7E6LMZ3AKPDWYBPkb37jjd80OyA3cEAAAAWBXnEHoAAAEAwBHMEUCIBC3Rn4i2bhLyR344u3vl7bevxoi+WPJBhGT+j1gJmg5AiEAwQ3rzH1mmMSYNYKtVNDZMo+l6e8Z35t+X9NDR7DugWAAdwCHdb/nWXz4jEOZX73zbv9WjUdWNv9KtWDBtOr/XqCDDwAAAWBXnEL7AAAEAwBIMEYCIQCRjvvPARW3J1ENmo2Nz1cxisa1BcbDuqvSrfuXkz8btAIhAPmllqgF8JjlVHUChiFzghsKVBeTxRagi55tgsAciaoZAHUAu9nfvB+KcbWTlCOXqpJ7RzhXlQqrUugakJZkNo4e0YUAAAFgV5xCUgAABAMARjBEAiBY6qdNgMoQAqVTl3zRrTmy+X/1f/esBUczsb3MWdZ1ZgIgXdxZNTrDBgyTzxgbVRObkqU3tZZdaiwsw4WI0xI0BtQwDQYJKoZIhvcNAQELBQADggEBAGu0uxZD+IRXXlFWLPvknRkXA7J08NyVKG70M2vDi2xF2YB8qlZgoxW8YiiV86IpwtOhYLZinSO0iCBDQmTf627LTPfuDcF6qOuOWFTvj1IbplPvGWIu5tNBiFWNQxFAIL2Rf+5vmIe+YezUHTLGGqwRtFa2ImS17IMkYjZ90LYXXO5qb1RKkFJtAvEBTbJsv8kr+J6Rx+YNJy17LnBX+MbWiyBbvUQoM3sYMmcWmcaQmECz9ZHWYjZeufSHbHKG6KDYLU8x6DyhgtxK2rsoIMlNnJkNHaLjw+b87VCYa+EMWppvVuNyXOk9Jkbx7Q3SEoodT77kkHUX0bF2OkZy6ccTAQMEAAAAAAEBAAAAAAAABngyNTUxOQAAABFFQ0RTQS1QMjU2LVNIQTI1NgGVn7FlZRdIf6ub2JE75TGXrnTNpc0vRz+W9fC3//YsaAAAAANmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAa2MIIGsjCCBZqgAwIBAgIQCzw7YBoY9Z7itrsFYF7ywDANBgkqhkiG9w0BAQsFADBwMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMS8wLQYDVQQDEyZEaWdpQ2VydCBTSEEyIEhpZ2ggQXNzdXJhbmNlIFNlcnZlciBDQTAeFw0xNzEyMTUwMDAwMDBaFw0xOTAzMjIxMjAwMDBaMGkxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRMwEQYDVQQHEwpNZW5sbyBQYXJrMRcwFQYDVQQKEw5GYWNlYm9vaywgSW5jLjEXMBUGA1UEAwwOKi5mYWNlYm9vay5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAASIA87IjqqM6JBXpuN20BXCVsDjoP9wnF2rSV60qC130oLTrgfOQ3Uk1dv1R6LFCx4gs2pJUu6iDKBS/b+BXOUbo4IEGDCCBBQwHwYDVR0jBBgwFoAUUWj/kK8CB3U8zNllZGKiErhZcjswHQYDVR0OBBYEFMD9dPV9y8Yn8QPTYqJF14QcFSEIMIHHBgNVHREEgb8wgbyCDiouZmFjZWJvb2suY29tgg4qLnh4LmZiY2RuLm5ldIILKi5mYnNieC5jb22CDioueHouZmJjZG4ubmV0gg4qLmZhY2Vib29rLm5ldIIOKi54eS5mYmNkbi5uZXSCDyoubWVzc2VuZ2VyLmNvbYIGZmIuY29tggsqLmZiY2RuLm5ldIIIKi5mYi5jb22CECoubS5mYWNlYm9vay5jb22CDW1lc3Nlbmdlci5jb22CDGZhY2Vib29rLmNvbTAOBgNVHQ8BAf8EBAMCB4AwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMHUGA1UdHwRuMGwwNKAyoDCGLmh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9zaGEyLWhhLXNlcnZlci1nNi5jcmwwNKAyoDCGLmh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9zaGEyLWhhLXNlcnZlci1nNi5jcmwwTAYDVR0gBEUwQzA3BglghkgBhv1sAQEwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly93d3cuZGlnaWNlcnQuY29tL0NQUzAIBgZngQwBAgIwgYMGCCsGAQUFBwEBBHcwdTAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuZGlnaWNlcnQuY29tME0GCCsGAQUFBzAChkFodHRwOi8vY2FjZXJ0cy5kaWdpY2VydC5jb20vRGlnaUNlcnRTSEEySGlnaEFzc3VyYW5jZVNlcnZlckNBLmNydDAMBgNVHRMBAf8EAjAAMIIBfgYKKwYBBAHWeQIEAgSCAW4EggFqAWgAdgCkuQmQtBhYFIe7E6LMZ3AKPDWYBPkb37jjd80OyA3cEAAAAWBXnEHoAAAEAwBHMEUCIBC3Rn4i2bhLyR344u3vl7bevxoi+WPJBhGT+j1gJmg5AiEAwQ3rzH1mmMSYNYKtVNDZMo+l6e8Z35t+X9NDR7DugWAAdwCHdb/nWXz4jEOZX73zbv9WjUdWNv9KtWDBtOr/XqCDDwAAAWBXnEL7AAAEAwBIMEYCIQCRjvvPARW3J1ENmo2Nz1cxisa1BcbDuqvSrfuXkz8btAIhAPmllqgF8JjlVHUChiFzghsKVBeTxRagi55tgsAciaoZAHUAu9nfvB+KcbWTlCOXqpJ7RzhXlQqrUugakJZkNo4e0YUAAAFgV5xCUgAABAMARjBEAiBY6qdNgMoQAqVTl3zRrTmy+X/1f/esBUczsb3MWdZ1ZgIgXdxZNTrDBgyTzxgbVRObkqU3tZZdaiwsw4WI0xI0BtQwDQYJKoZIhvcNAQELBQADggEBAGu0uxZD+IRXXlFWLPvknRkXA7J08NyVKG70M2vDi2xF2YB8qlZgoxW8YiiV86IpwtOhYLZinSO0iCBDQmTf627LTPfuDcF6qOuOWFTvj1IbplPvGWIu5tNBiFWNQxFAIL2Rf+5vmIe+YezUHTLGGqwRtFa2ImS17IMkYjZ90LYXXO5qb1RKkFJtAvEBTbJsv8kr+J6Rx+YNJy17LnBX+MbWiyBbvUQoM3sYMmcWmcaQmECz9ZHWYjZeufSHbHKG6KDYLU8x6DyhgtxK2rsoIMlNnJkNHaLjw+b87VCYa+EMWppvVuNyXOk9Jkbx7Q3SEoodT77kkHUX0bF2OkZy6cdmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAS1MIIEsTCCA5mgAwIBAgIQBOHnpNxc8vNtwCtCuF0VnzANBgkqhkiG9w0BAQsFADBsMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSswKQYDVQQDEyJEaWdpQ2VydCBIaWdoIEFzc3VyYW5jZSBFViBSb290IENBMB4XDTEzMTAyMjEyMDAwMFoXDTI4MTAyMjEyMDAwMFowcDELMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3LmRpZ2ljZXJ0LmNvbTEvMC0GA1UEAxMmRGlnaUNlcnQgU0hBMiBIaWdoIEFzc3VyYW5jZSBTZXJ2ZXIgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC24C/CJAbIbQRf1+8KZAayfSImZRauQkCbztyfn3YHPsMwVYcZuU+UDlqUH1VWtMICKq/QmO4LQNfE0DtyyBSe75CxEamu0si4QzrZCwvV1ZX1QK/IHe1NnF9Xt4ZQaJn1itrSxwUfqJfJ3KSxgoQtxq2lnMcZgqaFD15EWCo3j/018QsIJzJa9buLnqS9UdAn4t07QjOjBSjEuyjMmqwrIw14xnvmXnG3Sj4I+4G3FhahnSMSTeXXkgisdaScus0Xsh5ENWV/UyU50RwKmmMbGZJ0aAo3wsJSSMs5WqK24V3B3aAguCGikyZvFEohQcftbZvySC/zA/WiaJJTL17jAgMBAAGjggFJMIIBRTASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIBhjAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wSwYDVR0fBEQwQjBAoD6gPIY6aHR0cDovL2NybDQuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0SGlnaEFzc3VyYW5jZUVWUm9vdENBLmNybDA9BgNVHSAENjA0MDIGBFUdIAAwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly93d3cuZGlnaWNlcnQuY29tL0NQUzAdBgNVHQ4EFgQUUWj/kK8CB3U8zNllZGKiErhZcjswHwYDVR0jBBgwFoAUsT7DaQP4v0cB1JgmGggC72NkK8MwDQYJKoZIhvcNAQELBQADggEBABiKlYkD5m3fXPwdaOpKj4PWUS+Na0QWnqxj9dJubISZi6qBcYRb7TROsLd5kinMLYBq8I4g4Xmk/gNHE+r1hspZcX30BJZr01lYPf7TMSVcGDiEo+afgv2MW5gxTs14nhr9hctJqvIni5ly/D6q1UEL2tU2ob8cbkdJf17ZSHwD2f2LSaCYJkJA69aSEaRkCldUxPUd1gJea6zuxICaEnL6VpPX/78whQYwvwt/Tv9XBZ0k7YXDK/umdaisLRbvfXknsuvCnQsH6qqF0wGjIChBWUMo0oHjqvbsezt3tkBigAVBRQHvFwY+3sAzm2fTYS5yh+Rp/BIAV0AecPUeybRmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAPJMIIDxTCCAq2gAwIBAgIQAqxcJmoLQJuPC3nyrkYldzANBgkqhkiG9w0BAQUFADBsMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSswKQYDVQQDEyJEaWdpQ2VydCBIaWdoIEFzc3VyYW5jZSBFViBSb290IENBMB4XDTA2MTExMDAwMDAwMFoXDTMxMTExMDAwMDAwMFowbDELMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3LmRpZ2ljZXJ0LmNvbTErMCkGA1UEAxMiRGlnaUNlcnQgSGlnaCBBc3N1cmFuY2UgRVYgUm9vdCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMbM5XPm+9S75S0tMqbf5YE/yc0lSbZxKsPVlDRnogocsF9ppkCxxLeyj9CYpKlBWTrT3JTWPNt0OKRKzE0lgvdKpVMSOO7zSW1xkX5jtqumX8OkhPhPYlG++MXs2ziS4wblCJEMxChBVfvLWokVfnHoNb9Ncgk9vjo4UFt3MRuNs8ckRZqnrG0AFFoEt7oT61EKmEFBIk5lYYeBQVCmeVyJ3hlKV9Uu5l0cUyx+mM0aBhakaHPQNAQTXKFx01p8VdteZOE3hzBWBOURtCmAEvF5OYiiAhF8J2a3iLd48soKqDirCmTCv2ZdlYTBoSUeh10aUAsgEsxBu24LUTi4S8sCAwEAAaNjMGEwDgYDVR0PAQH/BAQDAgGGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFLE+w2kD+L9HAdSYJhoIAu9jZCvDMB8GA1UdIwQYMBaAFLE+w2kD+L9HAdSYJhoIAu9jZCvDMA0GCSqGSIb3DQEBBQUAA4IBAQAcGgaX3NecnzyIZgYIVyHbIUf4KmeqvxgydkAQV8GK83rZEWWONfqe/EW1ntlMMUu4kehDLI6zeM7b41N5cdblIZQB2lWHmiRk9opmzN6cN82oNLFpmyPInngiK3BD41VHMWEZ71jFhS9OMPagMRYjyOfiZRYzy78aG6A9+MpeizGLYAiJLQwGXFK3xPkKmNEVX58Svnw2Yzi9RKR/5CYrCsSXaQ3pjOLAEFe4yHYSkVXySGnYvCoCWw9E1CAx2/S6cCZdkGCevEsXCS+0yx5DaMkHJ8HSXPfqIbloEpw8nL+e/IBcm2PN7EeqJSdnoDfzAIJ9VNep+OkuE6N36B9KAAA= request-method GET response-head HTTP/2.0 200 OK
content-type: application/x-javascript; charset=utf-8
access-control-allow-credentials: true
last-modified: Mon, 01 Jan 2001 08:00:00 GMT
x-content-type-options: nosniff
x-xss-protection: 0
expires: Wed, 27 Nov 2019 20:12:54 GMT
timing-allow-origin: *
access-control-allow-origin: *
content-md5: QqntxYwNqjsyIc0XpBOQ9g==
cache-control: public,max-age=31536000,immutable
x-fb-debug: O3kj2p7yFc2vLXtfmzlHQ9iaJHBppd8royUNOMyO+Yyce0kvWvRI9FTRjA6HlsxtS8vD9Y7sqqKop5gqhXlrcA==
content-length: 127610
date: Wed, 28 Nov 2018 03:56:41 GMT
X-Firefox-Spdy: h2
 original-response-headers content-type: application/x-javascript; charset=utf-8
access-control-allow-credentials: true
last-modified: Mon, 01 Jan 2001 08:00:00 GMT
x-content-type-options: nosniff
x-xss-protection: 0
expires: Wed, 27 Nov 2019 20:12:54 GMT
timing-allow-origin: *
access-control-allow-origin: *
content-md5: QqntxYwNqjsyIc0XpBOQ9g==
cache-control: public,max-age=31536000,immutable
x-fb-debug: O3kj2p7yFc2vLXtfmzlHQ9iaJHBppd8royUNOMyO+Yyce0kvWvRI9FTRjA6HlsxtS8vD9Y7sqqKop5gqhXlrcA==
content-length: 127610
date: Wed, 28 Nov 2018 03:56:41 GMT
X-Firefox-Spdy: h2
 uncompressed-len 0 net-response-time-onstart 103 net-response-time-onstop 319 alt-data 1;127610,javascript/moz-bytecode-20181116154524 alt-data-from-child 1  r0